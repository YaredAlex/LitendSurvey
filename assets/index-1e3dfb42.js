var BS=Object.defineProperty;var US=(e,t,n)=>t in e?BS(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var j=(e,t,n)=>(US(e,typeof t!="symbol"?t+"":t,n),n);function WS(e,t){for(var n=0;n<t.length;n++){const i=t[n];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in e)){const s=Object.getOwnPropertyDescriptor(i,r);s&&Object.defineProperty(e,r,s.get?s:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();var lw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function cw(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var uw={exports:{}},ju={},hw={exports:{}},rt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tl=Symbol.for("react.element"),HS=Symbol.for("react.portal"),qS=Symbol.for("react.fragment"),KS=Symbol.for("react.strict_mode"),QS=Symbol.for("react.profiler"),GS=Symbol.for("react.provider"),YS=Symbol.for("react.context"),XS=Symbol.for("react.forward_ref"),JS=Symbol.for("react.suspense"),ZS=Symbol.for("react.memo"),tk=Symbol.for("react.lazy"),ly=Symbol.iterator;function ek(e){return e===null||typeof e!="object"?null:(e=ly&&e[ly]||e["@@iterator"],typeof e=="function"?e:null)}var dw={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},fw=Object.assign,pw={};function eo(e,t,n){this.props=e,this.context=t,this.refs=pw,this.updater=n||dw}eo.prototype.isReactComponent={};eo.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};eo.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function gw(){}gw.prototype=eo.prototype;function Up(e,t,n){this.props=e,this.context=t,this.refs=pw,this.updater=n||dw}var Wp=Up.prototype=new gw;Wp.constructor=Up;fw(Wp,eo.prototype);Wp.isPureReactComponent=!0;var cy=Array.isArray,mw=Object.prototype.hasOwnProperty,Hp={current:null},yw={key:!0,ref:!0,__self:!0,__source:!0};function _w(e,t,n){var i,r={},s=null,o=null;if(t!=null)for(i in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)mw.call(t,i)&&!yw.hasOwnProperty(i)&&(r[i]=t[i]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];r.children=l}if(e&&e.defaultProps)for(i in a=e.defaultProps,a)r[i]===void 0&&(r[i]=a[i]);return{$$typeof:tl,type:e,key:s,ref:o,props:r,_owner:Hp.current}}function nk(e,t){return{$$typeof:tl,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function qp(e){return typeof e=="object"&&e!==null&&e.$$typeof===tl}function ik(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var uy=/\/+/g;function Wh(e,t){return typeof e=="object"&&e!==null&&e.key!=null?ik(""+e.key):t.toString(36)}function fc(e,t,n,i,r){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case tl:case HS:o=!0}}if(o)return o=e,r=r(o),e=i===""?"."+Wh(o,0):i,cy(r)?(n="",e!=null&&(n=e.replace(uy,"$&/")+"/"),fc(r,t,n,"",function(c){return c})):r!=null&&(qp(r)&&(r=nk(r,n+(!r.key||o&&o.key===r.key?"":(""+r.key).replace(uy,"$&/")+"/")+e)),t.push(r)),1;if(o=0,i=i===""?".":i+":",cy(e))for(var a=0;a<e.length;a++){s=e[a];var l=i+Wh(s,a);o+=fc(s,t,n,l,r)}else if(l=ek(e),typeof l=="function")for(e=l.call(e),a=0;!(s=e.next()).done;)s=s.value,l=i+Wh(s,a++),o+=fc(s,t,n,l,r);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Il(e,t,n){if(e==null)return e;var i=[],r=0;return fc(e,i,"","",function(s){return t.call(n,s,r++)}),i}function rk(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ne={current:null},pc={transition:null},sk={ReactCurrentDispatcher:Ne,ReactCurrentBatchConfig:pc,ReactCurrentOwner:Hp};rt.Children={map:Il,forEach:function(e,t,n){Il(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Il(e,function(){t++}),t},toArray:function(e){return Il(e,function(t){return t})||[]},only:function(e){if(!qp(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};rt.Component=eo;rt.Fragment=qS;rt.Profiler=QS;rt.PureComponent=Up;rt.StrictMode=KS;rt.Suspense=JS;rt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sk;rt.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=fw({},e.props),r=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=Hp.current),t.key!==void 0&&(r=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)mw.call(t,l)&&!yw.hasOwnProperty(l)&&(i[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];i.children=a}return{$$typeof:tl,type:e.type,key:r,ref:s,props:i,_owner:o}};rt.createContext=function(e){return e={$$typeof:YS,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:GS,_context:e},e.Consumer=e};rt.createElement=_w;rt.createFactory=function(e){var t=_w.bind(null,e);return t.type=e,t};rt.createRef=function(){return{current:null}};rt.forwardRef=function(e){return{$$typeof:XS,render:e}};rt.isValidElement=qp;rt.lazy=function(e){return{$$typeof:tk,_payload:{_status:-1,_result:e},_init:rk}};rt.memo=function(e,t){return{$$typeof:ZS,type:e,compare:t===void 0?null:t}};rt.startTransition=function(e){var t=pc.transition;pc.transition={};try{e()}finally{pc.transition=t}};rt.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};rt.useCallback=function(e,t){return Ne.current.useCallback(e,t)};rt.useContext=function(e){return Ne.current.useContext(e)};rt.useDebugValue=function(){};rt.useDeferredValue=function(e){return Ne.current.useDeferredValue(e)};rt.useEffect=function(e,t){return Ne.current.useEffect(e,t)};rt.useId=function(){return Ne.current.useId()};rt.useImperativeHandle=function(e,t,n){return Ne.current.useImperativeHandle(e,t,n)};rt.useInsertionEffect=function(e,t){return Ne.current.useInsertionEffect(e,t)};rt.useLayoutEffect=function(e,t){return Ne.current.useLayoutEffect(e,t)};rt.useMemo=function(e,t){return Ne.current.useMemo(e,t)};rt.useReducer=function(e,t,n){return Ne.current.useReducer(e,t,n)};rt.useRef=function(e){return Ne.current.useRef(e)};rt.useState=function(e){return Ne.current.useState(e)};rt.useSyncExternalStore=function(e,t,n){return Ne.current.useSyncExternalStore(e,t,n)};rt.useTransition=function(){return Ne.current.useTransition()};rt.version="18.2.0";hw.exports=rt;var N=hw.exports;const Kp=cw(N),ok=WS({__proto__:null,default:Kp},[N]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ak=N,lk=Symbol.for("react.element"),ck=Symbol.for("react.fragment"),uk=Object.prototype.hasOwnProperty,hk=ak.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,dk={key:!0,ref:!0,__self:!0,__source:!0};function vw(e,t,n){var i,r={},s=null,o=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(i in t)uk.call(t,i)&&!dk.hasOwnProperty(i)&&(r[i]=t[i]);if(e&&e.defaultProps)for(i in t=e.defaultProps,t)r[i]===void 0&&(r[i]=t[i]);return{$$typeof:lk,type:e,key:s,ref:o,props:r,_owner:hk.current}}ju.Fragment=ck;ju.jsx=vw;ju.jsxs=vw;uw.exports=ju;var C=uw.exports,Jd={},ww={exports:{}},nn={},xw={exports:{}},Ew={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(M,P){var q=M.length;M.push(P);t:for(;0<q;){var Z=q-1>>>1,V=M[Z];if(0<r(V,P))M[Z]=P,M[q]=V,q=Z;else break t}}function n(M){return M.length===0?null:M[0]}function i(M){if(M.length===0)return null;var P=M[0],q=M.pop();if(q!==P){M[0]=q;t:for(var Z=0,V=M.length,st=V>>>1;Z<st;){var ft=2*(Z+1)-1,ut=M[ft],ht=ft+1,Mt=M[ht];if(0>r(ut,q))ht<V&&0>r(Mt,ut)?(M[Z]=Mt,M[ht]=q,Z=ht):(M[Z]=ut,M[ft]=q,Z=ft);else if(ht<V&&0>r(Mt,q))M[Z]=Mt,M[ht]=q,Z=ht;else break t}}return P}function r(M,P){var q=M.sortIndex-P.sortIndex;return q!==0?q:M.id-P.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,h=null,d=3,f=!1,m=!1,_=!1,v=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(M){for(var P=n(c);P!==null;){if(P.callback===null)i(c);else if(P.startTime<=M)i(c),P.sortIndex=P.expirationTime,t(l,P);else break;P=n(c)}}function E(M){if(_=!1,y(M),!m)if(n(l)!==null)m=!0,H(b);else{var P=n(c);P!==null&&F(E,P.startTime-M)}}function b(M,P){m=!1,_&&(_=!1,p(w),w=-1),f=!0;var q=d;try{for(y(P),h=n(l);h!==null&&(!(h.expirationTime>P)||M&&!S());){var Z=h.callback;if(typeof Z=="function"){h.callback=null,d=h.priorityLevel;var V=Z(h.expirationTime<=P);P=e.unstable_now(),typeof V=="function"?h.callback=V:h===n(l)&&i(l),y(P)}else i(l);h=n(l)}if(h!==null)var st=!0;else{var ft=n(c);ft!==null&&F(E,ft.startTime-P),st=!1}return st}finally{h=null,d=q,f=!1}}var I=!1,k=null,w=-1,x=5,T=-1;function S(){return!(e.unstable_now()-T<x)}function A(){if(k!==null){var M=e.unstable_now();T=M;var P=!0;try{P=k(!0,M)}finally{P?R():(I=!1,k=null)}}else I=!1}var R;if(typeof g=="function")R=function(){g(A)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,B=$.port2;$.port1.onmessage=A,R=function(){B.postMessage(null)}}else R=function(){v(A,0)};function H(M){k=M,I||(I=!0,R())}function F(M,P){w=v(function(){M(e.unstable_now())},P)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(M){M.callback=null},e.unstable_continueExecution=function(){m||f||(m=!0,H(b))},e.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<M?Math.floor(1e3/M):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(M){switch(d){case 1:case 2:case 3:var P=3;break;default:P=d}var q=d;d=P;try{return M()}finally{d=q}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(M,P){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var q=d;d=M;try{return P()}finally{d=q}},e.unstable_scheduleCallback=function(M,P,q){var Z=e.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?Z+q:Z):q=Z,M){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=q+V,M={id:u++,callback:P,priorityLevel:M,startTime:q,expirationTime:V,sortIndex:-1},q>Z?(M.sortIndex=q,t(c,M),n(l)===null&&M===n(c)&&(_?(p(w),w=-1):_=!0,F(E,q-Z))):(M.sortIndex=V,t(l,M),m||f||(m=!0,H(b))),M},e.unstable_shouldYield=S,e.unstable_wrapCallback=function(M){var P=d;return function(){var q=d;d=P;try{return M.apply(this,arguments)}finally{d=q}}}})(Ew);xw.exports=Ew;var fk=xw.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bw=N,tn=fk;function L(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Tw=new Set,da={};function Jr(e,t){Ls(e,t),Ls(e+"Capture",t)}function Ls(e,t){for(da[e]=t,e=0;e<t.length;e++)Tw.add(t[e])}var ui=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Zd=Object.prototype.hasOwnProperty,pk=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,hy={},dy={};function gk(e){return Zd.call(dy,e)?!0:Zd.call(hy,e)?!1:pk.test(e)?dy[e]=!0:(hy[e]=!0,!1)}function mk(e,t,n,i){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function yk(e,t,n,i){if(t===null||typeof t>"u"||mk(e,t,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Le(e,t,n,i,r,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var ye={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ye[e]=new Le(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ye[t]=new Le(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ye[e]=new Le(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ye[e]=new Le(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ye[e]=new Le(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ye[e]=new Le(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ye[e]=new Le(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ye[e]=new Le(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ye[e]=new Le(e,5,!1,e.toLowerCase(),null,!1,!1)});var Qp=/[\-:]([a-z])/g;function Gp(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Qp,Gp);ye[t]=new Le(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Qp,Gp);ye[t]=new Le(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Qp,Gp);ye[t]=new Le(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ye[e]=new Le(e,1,!1,e.toLowerCase(),null,!1,!1)});ye.xlinkHref=new Le("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ye[e]=new Le(e,1,!1,e.toLowerCase(),null,!0,!0)});function Yp(e,t,n,i){var r=ye.hasOwnProperty(t)?ye[t]:null;(r!==null?r.type!==0:i||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(yk(t,n,r,i)&&(n=null),i||r===null?gk(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):r.mustUseProperty?e[r.propertyName]=n===null?r.type===3?!1:"":n:(t=r.attributeName,i=r.attributeNamespace,n===null?e.removeAttribute(t):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,i?e.setAttributeNS(i,t,n):e.setAttribute(t,n))))}var _i=bw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Al=Symbol.for("react.element"),ds=Symbol.for("react.portal"),fs=Symbol.for("react.fragment"),Xp=Symbol.for("react.strict_mode"),tf=Symbol.for("react.profiler"),Sw=Symbol.for("react.provider"),kw=Symbol.for("react.context"),Jp=Symbol.for("react.forward_ref"),ef=Symbol.for("react.suspense"),nf=Symbol.for("react.suspense_list"),Zp=Symbol.for("react.memo"),Si=Symbol.for("react.lazy"),Iw=Symbol.for("react.offscreen"),fy=Symbol.iterator;function ho(e){return e===null||typeof e!="object"?null:(e=fy&&e[fy]||e["@@iterator"],typeof e=="function"?e:null)}var Vt=Object.assign,Hh;function Ao(e){if(Hh===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Hh=t&&t[1]||""}return`
`+Hh+e}var qh=!1;function Kh(e,t){if(!e||qh)return"";qh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var i=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){i=c}e.call(t.prototype)}else{try{throw Error()}catch(c){i=c}e()}}catch(c){if(c&&i&&typeof c.stack=="string"){for(var r=c.stack.split(`
`),s=i.stack.split(`
`),o=r.length-1,a=s.length-1;1<=o&&0<=a&&r[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(r[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||r[o]!==s[a]){var l=`
`+r[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{qh=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Ao(e):""}function _k(e){switch(e.tag){case 5:return Ao(e.type);case 16:return Ao("Lazy");case 13:return Ao("Suspense");case 19:return Ao("SuspenseList");case 0:case 2:case 15:return e=Kh(e.type,!1),e;case 11:return e=Kh(e.type.render,!1),e;case 1:return e=Kh(e.type,!0),e;default:return""}}function rf(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case fs:return"Fragment";case ds:return"Portal";case tf:return"Profiler";case Xp:return"StrictMode";case ef:return"Suspense";case nf:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case kw:return(e.displayName||"Context")+".Consumer";case Sw:return(e._context.displayName||"Context")+".Provider";case Jp:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Zp:return t=e.displayName||null,t!==null?t:rf(e.type)||"Memo";case Si:t=e._payload,e=e._init;try{return rf(e(t))}catch{}}return null}function vk(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return rf(t);case 8:return t===Xp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ji(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Aw(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function wk(e){var t=Aw(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(o){i=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(o){i=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Cl(e){e._valueTracker||(e._valueTracker=wk(e))}function Cw(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=Aw(e)?e.checked?"true":"false":e.value),e=i,e!==n?(t.setValue(e),!0):!1}function Vc(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function sf(e,t){var n=t.checked;return Vt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function py(e,t){var n=t.defaultValue==null?"":t.defaultValue,i=t.checked!=null?t.checked:t.defaultChecked;n=Ji(t.value!=null?t.value:n),e._wrapperState={initialChecked:i,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Pw(e,t){t=t.checked,t!=null&&Yp(e,"checked",t,!1)}function of(e,t){Pw(e,t);var n=Ji(t.value),i=t.type;if(n!=null)i==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(i==="submit"||i==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?af(e,t.type,n):t.hasOwnProperty("defaultValue")&&af(e,t.type,Ji(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function gy(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!(i!=="submit"&&i!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function af(e,t,n){(t!=="number"||Vc(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Co=Array.isArray;function Ss(e,t,n,i){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&i&&(e[n].defaultSelected=!0)}else{for(n=""+Ji(n),t=null,r=0;r<e.length;r++){if(e[r].value===n){e[r].selected=!0,i&&(e[r].defaultSelected=!0);return}t!==null||e[r].disabled||(t=e[r])}t!==null&&(t.selected=!0)}}function lf(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(L(91));return Vt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function my(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(L(92));if(Co(n)){if(1<n.length)throw Error(L(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Ji(n)}}function Rw(e,t){var n=Ji(t.value),i=Ji(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),i!=null&&(e.defaultValue=""+i)}function yy(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Mw(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function cf(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Mw(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Pl,Dw=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,i,r){MSApp.execUnsafeLocalFunction(function(){return e(t,n,i,r)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Pl=Pl||document.createElement("div"),Pl.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Pl.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function fa(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Wo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},xk=["Webkit","ms","Moz","O"];Object.keys(Wo).forEach(function(e){xk.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Wo[t]=Wo[e]})});function Ow(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Wo.hasOwnProperty(e)&&Wo[e]?(""+t).trim():t+"px"}function Nw(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var i=n.indexOf("--")===0,r=Ow(n,t[n],i);n==="float"&&(n="cssFloat"),i?e.setProperty(n,r):e[n]=r}}var Ek=Vt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function uf(e,t){if(t){if(Ek[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(L(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(L(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(L(61))}if(t.style!=null&&typeof t.style!="object")throw Error(L(62))}}function hf(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var df=null;function tg(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ff=null,ks=null,Is=null;function _y(e){if(e=il(e)){if(typeof ff!="function")throw Error(L(280));var t=e.stateNode;t&&(t=Wu(t),ff(e.stateNode,e.type,t))}}function Lw(e){ks?Is?Is.push(e):Is=[e]:ks=e}function Vw(){if(ks){var e=ks,t=Is;if(Is=ks=null,_y(e),t)for(e=0;e<t.length;e++)_y(t[e])}}function Fw(e,t){return e(t)}function jw(){}var Qh=!1;function zw(e,t,n){if(Qh)return e(t,n);Qh=!0;try{return Fw(e,t,n)}finally{Qh=!1,(ks!==null||Is!==null)&&(jw(),Vw())}}function pa(e,t){var n=e.stateNode;if(n===null)return null;var i=Wu(n);if(i===null)return null;n=i[t];t:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break t;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(L(231,t,typeof n));return n}var pf=!1;if(ui)try{var fo={};Object.defineProperty(fo,"passive",{get:function(){pf=!0}}),window.addEventListener("test",fo,fo),window.removeEventListener("test",fo,fo)}catch{pf=!1}function bk(e,t,n,i,r,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Ho=!1,Fc=null,jc=!1,gf=null,Tk={onError:function(e){Ho=!0,Fc=e}};function Sk(e,t,n,i,r,s,o,a,l){Ho=!1,Fc=null,bk.apply(Tk,arguments)}function kk(e,t,n,i,r,s,o,a,l){if(Sk.apply(this,arguments),Ho){if(Ho){var c=Fc;Ho=!1,Fc=null}else throw Error(L(198));jc||(jc=!0,gf=c)}}function Zr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function $w(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function vy(e){if(Zr(e)!==e)throw Error(L(188))}function Ik(e){var t=e.alternate;if(!t){if(t=Zr(e),t===null)throw Error(L(188));return t!==e?null:e}for(var n=e,i=t;;){var r=n.return;if(r===null)break;var s=r.alternate;if(s===null){if(i=r.return,i!==null){n=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===n)return vy(r),e;if(s===i)return vy(r),t;s=s.sibling}throw Error(L(188))}if(n.return!==i.return)n=r,i=s;else{for(var o=!1,a=r.child;a;){if(a===n){o=!0,n=r,i=s;break}if(a===i){o=!0,i=r,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,i=r;break}if(a===i){o=!0,i=s,n=r;break}a=a.sibling}if(!o)throw Error(L(189))}}if(n.alternate!==i)throw Error(L(190))}if(n.tag!==3)throw Error(L(188));return n.stateNode.current===n?e:t}function Bw(e){return e=Ik(e),e!==null?Uw(e):null}function Uw(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Uw(e);if(t!==null)return t;e=e.sibling}return null}var Ww=tn.unstable_scheduleCallback,wy=tn.unstable_cancelCallback,Ak=tn.unstable_shouldYield,Ck=tn.unstable_requestPaint,Wt=tn.unstable_now,Pk=tn.unstable_getCurrentPriorityLevel,eg=tn.unstable_ImmediatePriority,Hw=tn.unstable_UserBlockingPriority,zc=tn.unstable_NormalPriority,Rk=tn.unstable_LowPriority,qw=tn.unstable_IdlePriority,zu=null,Vn=null;function Mk(e){if(Vn&&typeof Vn.onCommitFiberRoot=="function")try{Vn.onCommitFiberRoot(zu,e,void 0,(e.current.flags&128)===128)}catch{}}var bn=Math.clz32?Math.clz32:Nk,Dk=Math.log,Ok=Math.LN2;function Nk(e){return e>>>=0,e===0?32:31-(Dk(e)/Ok|0)|0}var Rl=64,Ml=4194304;function Po(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function $c(e,t){var n=e.pendingLanes;if(n===0)return 0;var i=0,r=e.suspendedLanes,s=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~r;a!==0?i=Po(a):(s&=o,s!==0&&(i=Po(s)))}else o=n&~r,o!==0?i=Po(o):s!==0&&(i=Po(s));if(i===0)return 0;if(t!==0&&t!==i&&!(t&r)&&(r=i&-i,s=t&-t,r>=s||r===16&&(s&4194240)!==0))return t;if(i&4&&(i|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=i;0<t;)n=31-bn(t),r=1<<n,i|=e[n],t&=~r;return i}function Lk(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vk(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,r=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-bn(s),a=1<<o,l=r[o];l===-1?(!(a&n)||a&i)&&(r[o]=Lk(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}function mf(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Kw(){var e=Rl;return Rl<<=1,!(Rl&4194240)&&(Rl=64),e}function Gh(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function el(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-bn(t),e[t]=n}function Fk(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<n;){var r=31-bn(n),s=1<<r;t[r]=0,i[r]=-1,e[r]=-1,n&=~s}}function ng(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-bn(n),r=1<<i;r&t|e[i]&t&&(e[i]|=t),n&=~r}}var mt=0;function Qw(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Gw,ig,Yw,Xw,Jw,yf=!1,Dl=[],Fi=null,ji=null,zi=null,ga=new Map,ma=new Map,Ii=[],jk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function xy(e,t){switch(e){case"focusin":case"focusout":Fi=null;break;case"dragenter":case"dragleave":ji=null;break;case"mouseover":case"mouseout":zi=null;break;case"pointerover":case"pointerout":ga.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ma.delete(t.pointerId)}}function po(e,t,n,i,r,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},t!==null&&(t=il(t),t!==null&&ig(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,r!==null&&t.indexOf(r)===-1&&t.push(r),e)}function zk(e,t,n,i,r){switch(t){case"focusin":return Fi=po(Fi,e,t,n,i,r),!0;case"dragenter":return ji=po(ji,e,t,n,i,r),!0;case"mouseover":return zi=po(zi,e,t,n,i,r),!0;case"pointerover":var s=r.pointerId;return ga.set(s,po(ga.get(s)||null,e,t,n,i,r)),!0;case"gotpointercapture":return s=r.pointerId,ma.set(s,po(ma.get(s)||null,e,t,n,i,r)),!0}return!1}function Zw(e){var t=Ir(e.target);if(t!==null){var n=Zr(t);if(n!==null){if(t=n.tag,t===13){if(t=$w(n),t!==null){e.blockedOn=t,Jw(e.priority,function(){Yw(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function gc(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=_f(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var i=new n.constructor(n.type,n);df=i,n.target.dispatchEvent(i),df=null}else return t=il(n),t!==null&&ig(t),e.blockedOn=n,!1;t.shift()}return!0}function Ey(e,t,n){gc(e)&&n.delete(t)}function $k(){yf=!1,Fi!==null&&gc(Fi)&&(Fi=null),ji!==null&&gc(ji)&&(ji=null),zi!==null&&gc(zi)&&(zi=null),ga.forEach(Ey),ma.forEach(Ey)}function go(e,t){e.blockedOn===t&&(e.blockedOn=null,yf||(yf=!0,tn.unstable_scheduleCallback(tn.unstable_NormalPriority,$k)))}function ya(e){function t(r){return go(r,e)}if(0<Dl.length){go(Dl[0],e);for(var n=1;n<Dl.length;n++){var i=Dl[n];i.blockedOn===e&&(i.blockedOn=null)}}for(Fi!==null&&go(Fi,e),ji!==null&&go(ji,e),zi!==null&&go(zi,e),ga.forEach(t),ma.forEach(t),n=0;n<Ii.length;n++)i=Ii[n],i.blockedOn===e&&(i.blockedOn=null);for(;0<Ii.length&&(n=Ii[0],n.blockedOn===null);)Zw(n),n.blockedOn===null&&Ii.shift()}var As=_i.ReactCurrentBatchConfig,Bc=!0;function Bk(e,t,n,i){var r=mt,s=As.transition;As.transition=null;try{mt=1,rg(e,t,n,i)}finally{mt=r,As.transition=s}}function Uk(e,t,n,i){var r=mt,s=As.transition;As.transition=null;try{mt=4,rg(e,t,n,i)}finally{mt=r,As.transition=s}}function rg(e,t,n,i){if(Bc){var r=_f(e,t,n,i);if(r===null)sd(e,t,i,Uc,n),xy(e,i);else if(zk(r,e,t,n,i))i.stopPropagation();else if(xy(e,i),t&4&&-1<jk.indexOf(e)){for(;r!==null;){var s=il(r);if(s!==null&&Gw(s),s=_f(e,t,n,i),s===null&&sd(e,t,i,Uc,n),s===r)break;r=s}r!==null&&i.stopPropagation()}else sd(e,t,i,null,n)}}var Uc=null;function _f(e,t,n,i){if(Uc=null,e=tg(i),e=Ir(e),e!==null)if(t=Zr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=$w(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Uc=e,null}function t1(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Pk()){case eg:return 1;case Hw:return 4;case zc:case Rk:return 16;case qw:return 536870912;default:return 16}default:return 16}}var Ci=null,sg=null,mc=null;function e1(){if(mc)return mc;var e,t=sg,n=t.length,i,r="value"in Ci?Ci.value:Ci.textContent,s=r.length;for(e=0;e<n&&t[e]===r[e];e++);var o=n-e;for(i=1;i<=o&&t[n-i]===r[s-i];i++);return mc=r.slice(e,1<i?1-i:void 0)}function yc(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ol(){return!0}function by(){return!1}function rn(e){function t(n,i,r,s,o){this._reactName=n,this._targetInst=r,this.type=i,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Ol:by,this.isPropagationStopped=by,this}return Vt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ol)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ol)},persist:function(){},isPersistent:Ol}),t}var no={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},og=rn(no),nl=Vt({},no,{view:0,detail:0}),Wk=rn(nl),Yh,Xh,mo,$u=Vt({},nl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ag,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==mo&&(mo&&e.type==="mousemove"?(Yh=e.screenX-mo.screenX,Xh=e.screenY-mo.screenY):Xh=Yh=0,mo=e),Yh)},movementY:function(e){return"movementY"in e?e.movementY:Xh}}),Ty=rn($u),Hk=Vt({},$u,{dataTransfer:0}),qk=rn(Hk),Kk=Vt({},nl,{relatedTarget:0}),Jh=rn(Kk),Qk=Vt({},no,{animationName:0,elapsedTime:0,pseudoElement:0}),Gk=rn(Qk),Yk=Vt({},no,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Xk=rn(Yk),Jk=Vt({},no,{data:0}),Sy=rn(Jk),Zk={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tI={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},eI={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function nI(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=eI[e])?!!t[e]:!1}function ag(){return nI}var iI=Vt({},nl,{key:function(e){if(e.key){var t=Zk[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=yc(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?tI[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ag,charCode:function(e){return e.type==="keypress"?yc(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?yc(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),rI=rn(iI),sI=Vt({},$u,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ky=rn(sI),oI=Vt({},nl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ag}),aI=rn(oI),lI=Vt({},no,{propertyName:0,elapsedTime:0,pseudoElement:0}),cI=rn(lI),uI=Vt({},$u,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),hI=rn(uI),dI=[9,13,27,32],lg=ui&&"CompositionEvent"in window,qo=null;ui&&"documentMode"in document&&(qo=document.documentMode);var fI=ui&&"TextEvent"in window&&!qo,n1=ui&&(!lg||qo&&8<qo&&11>=qo),Iy=String.fromCharCode(32),Ay=!1;function i1(e,t){switch(e){case"keyup":return dI.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function r1(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ps=!1;function pI(e,t){switch(e){case"compositionend":return r1(t);case"keypress":return t.which!==32?null:(Ay=!0,Iy);case"textInput":return e=t.data,e===Iy&&Ay?null:e;default:return null}}function gI(e,t){if(ps)return e==="compositionend"||!lg&&i1(e,t)?(e=e1(),mc=sg=Ci=null,ps=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return n1&&t.locale!=="ko"?null:t.data;default:return null}}var mI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Cy(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!mI[e.type]:t==="textarea"}function s1(e,t,n,i){Lw(i),t=Wc(t,"onChange"),0<t.length&&(n=new og("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var Ko=null,_a=null;function yI(e){m1(e,0)}function Bu(e){var t=ys(e);if(Cw(t))return e}function _I(e,t){if(e==="change")return t}var o1=!1;if(ui){var Zh;if(ui){var td="oninput"in document;if(!td){var Py=document.createElement("div");Py.setAttribute("oninput","return;"),td=typeof Py.oninput=="function"}Zh=td}else Zh=!1;o1=Zh&&(!document.documentMode||9<document.documentMode)}function Ry(){Ko&&(Ko.detachEvent("onpropertychange",a1),_a=Ko=null)}function a1(e){if(e.propertyName==="value"&&Bu(_a)){var t=[];s1(t,_a,e,tg(e)),zw(yI,t)}}function vI(e,t,n){e==="focusin"?(Ry(),Ko=t,_a=n,Ko.attachEvent("onpropertychange",a1)):e==="focusout"&&Ry()}function wI(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Bu(_a)}function xI(e,t){if(e==="click")return Bu(t)}function EI(e,t){if(e==="input"||e==="change")return Bu(t)}function bI(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var kn=typeof Object.is=="function"?Object.is:bI;function va(e,t){if(kn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!Zd.call(t,r)||!kn(e[r],t[r]))return!1}return!0}function My(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Dy(e,t){var n=My(e);e=0;for(var i;n;){if(n.nodeType===3){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}t:{for(;n;){if(n.nextSibling){n=n.nextSibling;break t}n=n.parentNode}n=void 0}n=My(n)}}function l1(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?l1(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function c1(){for(var e=window,t=Vc();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Vc(e.document)}return t}function cg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function TI(e){var t=c1(),n=e.focusedElem,i=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&l1(n.ownerDocument.documentElement,n)){if(i!==null&&cg(n)){if(t=i.start,e=i.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var r=n.textContent.length,s=Math.min(i.start,r);i=i.end===void 0?s:Math.min(i.end,r),!e.extend&&s>i&&(r=i,i=s,s=r),r=Dy(n,s);var o=Dy(n,i);r&&o&&(e.rangeCount!==1||e.anchorNode!==r.node||e.anchorOffset!==r.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(r.node,r.offset),e.removeAllRanges(),s>i?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var SI=ui&&"documentMode"in document&&11>=document.documentMode,gs=null,vf=null,Qo=null,wf=!1;function Oy(e,t,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;wf||gs==null||gs!==Vc(i)||(i=gs,"selectionStart"in i&&cg(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Qo&&va(Qo,i)||(Qo=i,i=Wc(vf,"onSelect"),0<i.length&&(t=new og("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=gs)))}function Nl(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ms={animationend:Nl("Animation","AnimationEnd"),animationiteration:Nl("Animation","AnimationIteration"),animationstart:Nl("Animation","AnimationStart"),transitionend:Nl("Transition","TransitionEnd")},ed={},u1={};ui&&(u1=document.createElement("div").style,"AnimationEvent"in window||(delete ms.animationend.animation,delete ms.animationiteration.animation,delete ms.animationstart.animation),"TransitionEvent"in window||delete ms.transitionend.transition);function Uu(e){if(ed[e])return ed[e];if(!ms[e])return e;var t=ms[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in u1)return ed[e]=t[n];return e}var h1=Uu("animationend"),d1=Uu("animationiteration"),f1=Uu("animationstart"),p1=Uu("transitionend"),g1=new Map,Ny="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ar(e,t){g1.set(e,t),Jr(t,[e])}for(var nd=0;nd<Ny.length;nd++){var id=Ny[nd],kI=id.toLowerCase(),II=id[0].toUpperCase()+id.slice(1);ar(kI,"on"+II)}ar(h1,"onAnimationEnd");ar(d1,"onAnimationIteration");ar(f1,"onAnimationStart");ar("dblclick","onDoubleClick");ar("focusin","onFocus");ar("focusout","onBlur");ar(p1,"onTransitionEnd");Ls("onMouseEnter",["mouseout","mouseover"]);Ls("onMouseLeave",["mouseout","mouseover"]);Ls("onPointerEnter",["pointerout","pointerover"]);Ls("onPointerLeave",["pointerout","pointerover"]);Jr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Jr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Jr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Jr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Jr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Jr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ro="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),AI=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ro));function Ly(e,t,n){var i=e.type||"unknown-event";e.currentTarget=n,kk(i,t,void 0,e),e.currentTarget=null}function m1(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var i=e[n],r=i.event;i=i.listeners;t:{var s=void 0;if(t)for(var o=i.length-1;0<=o;o--){var a=i[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&r.isPropagationStopped())break t;Ly(r,a,c),s=l}else for(o=0;o<i.length;o++){if(a=i[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&r.isPropagationStopped())break t;Ly(r,a,c),s=l}}}if(jc)throw e=gf,jc=!1,gf=null,e}function bt(e,t){var n=t[Sf];n===void 0&&(n=t[Sf]=new Set);var i=e+"__bubble";n.has(i)||(y1(t,e,2,!1),n.add(i))}function rd(e,t,n){var i=0;t&&(i|=4),y1(n,e,i,t)}var Ll="_reactListening"+Math.random().toString(36).slice(2);function wa(e){if(!e[Ll]){e[Ll]=!0,Tw.forEach(function(n){n!=="selectionchange"&&(AI.has(n)||rd(n,!1,e),rd(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ll]||(t[Ll]=!0,rd("selectionchange",!1,t))}}function y1(e,t,n,i){switch(t1(t)){case 1:var r=Bk;break;case 4:r=Uk;break;default:r=rg}n=r.bind(null,t,n,e),r=void 0,!pf||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(r=!0),i?r!==void 0?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):r!==void 0?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function sd(e,t,n,i,r){var s=i;if(!(t&1)&&!(t&2)&&i!==null)t:for(;;){if(i===null)return;var o=i.tag;if(o===3||o===4){var a=i.stateNode.containerInfo;if(a===r||a.nodeType===8&&a.parentNode===r)break;if(o===4)for(o=i.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===r||l.nodeType===8&&l.parentNode===r))return;o=o.return}for(;a!==null;){if(o=Ir(a),o===null)return;if(l=o.tag,l===5||l===6){i=s=o;continue t}a=a.parentNode}}i=i.return}zw(function(){var c=s,u=tg(n),h=[];t:{var d=g1.get(e);if(d!==void 0){var f=og,m=e;switch(e){case"keypress":if(yc(n)===0)break t;case"keydown":case"keyup":f=rI;break;case"focusin":m="focus",f=Jh;break;case"focusout":m="blur",f=Jh;break;case"beforeblur":case"afterblur":f=Jh;break;case"click":if(n.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=Ty;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=qk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=aI;break;case h1:case d1:case f1:f=Gk;break;case p1:f=cI;break;case"scroll":f=Wk;break;case"wheel":f=hI;break;case"copy":case"cut":case"paste":f=Xk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=ky}var _=(t&4)!==0,v=!_&&e==="scroll",p=_?d!==null?d+"Capture":null:d;_=[];for(var g=c,y;g!==null;){y=g;var E=y.stateNode;if(y.tag===5&&E!==null&&(y=E,p!==null&&(E=pa(g,p),E!=null&&_.push(xa(g,E,y)))),v)break;g=g.return}0<_.length&&(d=new f(d,m,null,n,u),h.push({event:d,listeners:_}))}}if(!(t&7)){t:{if(d=e==="mouseover"||e==="pointerover",f=e==="mouseout"||e==="pointerout",d&&n!==df&&(m=n.relatedTarget||n.fromElement)&&(Ir(m)||m[hi]))break t;if((f||d)&&(d=u.window===u?u:(d=u.ownerDocument)?d.defaultView||d.parentWindow:window,f?(m=n.relatedTarget||n.toElement,f=c,m=m?Ir(m):null,m!==null&&(v=Zr(m),m!==v||m.tag!==5&&m.tag!==6)&&(m=null)):(f=null,m=c),f!==m)){if(_=Ty,E="onMouseLeave",p="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(_=ky,E="onPointerLeave",p="onPointerEnter",g="pointer"),v=f==null?d:ys(f),y=m==null?d:ys(m),d=new _(E,g+"leave",f,n,u),d.target=v,d.relatedTarget=y,E=null,Ir(u)===c&&(_=new _(p,g+"enter",m,n,u),_.target=y,_.relatedTarget=v,E=_),v=E,f&&m)e:{for(_=f,p=m,g=0,y=_;y;y=ss(y))g++;for(y=0,E=p;E;E=ss(E))y++;for(;0<g-y;)_=ss(_),g--;for(;0<y-g;)p=ss(p),y--;for(;g--;){if(_===p||p!==null&&_===p.alternate)break e;_=ss(_),p=ss(p)}_=null}else _=null;f!==null&&Vy(h,d,f,_,!1),m!==null&&v!==null&&Vy(h,v,m,_,!0)}}t:{if(d=c?ys(c):window,f=d.nodeName&&d.nodeName.toLowerCase(),f==="select"||f==="input"&&d.type==="file")var b=_I;else if(Cy(d))if(o1)b=EI;else{b=wI;var I=vI}else(f=d.nodeName)&&f.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(b=xI);if(b&&(b=b(e,c))){s1(h,b,n,u);break t}I&&I(e,d,c),e==="focusout"&&(I=d._wrapperState)&&I.controlled&&d.type==="number"&&af(d,"number",d.value)}switch(I=c?ys(c):window,e){case"focusin":(Cy(I)||I.contentEditable==="true")&&(gs=I,vf=c,Qo=null);break;case"focusout":Qo=vf=gs=null;break;case"mousedown":wf=!0;break;case"contextmenu":case"mouseup":case"dragend":wf=!1,Oy(h,n,u);break;case"selectionchange":if(SI)break;case"keydown":case"keyup":Oy(h,n,u)}var k;if(lg)t:{switch(e){case"compositionstart":var w="onCompositionStart";break t;case"compositionend":w="onCompositionEnd";break t;case"compositionupdate":w="onCompositionUpdate";break t}w=void 0}else ps?i1(e,n)&&(w="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(w="onCompositionStart");w&&(n1&&n.locale!=="ko"&&(ps||w!=="onCompositionStart"?w==="onCompositionEnd"&&ps&&(k=e1()):(Ci=u,sg="value"in Ci?Ci.value:Ci.textContent,ps=!0)),I=Wc(c,w),0<I.length&&(w=new Sy(w,e,null,n,u),h.push({event:w,listeners:I}),k?w.data=k:(k=r1(n),k!==null&&(w.data=k)))),(k=fI?pI(e,n):gI(e,n))&&(c=Wc(c,"onBeforeInput"),0<c.length&&(u=new Sy("onBeforeInput","beforeinput",null,n,u),h.push({event:u,listeners:c}),u.data=k))}m1(h,t)})}function xa(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wc(e,t){for(var n=t+"Capture",i=[];e!==null;){var r=e,s=r.stateNode;r.tag===5&&s!==null&&(r=s,s=pa(e,n),s!=null&&i.unshift(xa(e,s,r)),s=pa(e,t),s!=null&&i.push(xa(e,s,r))),e=e.return}return i}function ss(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Vy(e,t,n,i,r){for(var s=t._reactName,o=[];n!==null&&n!==i;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===i)break;a.tag===5&&c!==null&&(a=c,r?(l=pa(n,s),l!=null&&o.unshift(xa(n,l,a))):r||(l=pa(n,s),l!=null&&o.push(xa(n,l,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var CI=/\r\n?/g,PI=/\u0000|\uFFFD/g;function Fy(e){return(typeof e=="string"?e:""+e).replace(CI,`
`).replace(PI,"")}function Vl(e,t,n){if(t=Fy(t),Fy(e)!==t&&n)throw Error(L(425))}function Hc(){}var xf=null,Ef=null;function bf(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Tf=typeof setTimeout=="function"?setTimeout:void 0,RI=typeof clearTimeout=="function"?clearTimeout:void 0,jy=typeof Promise=="function"?Promise:void 0,MI=typeof queueMicrotask=="function"?queueMicrotask:typeof jy<"u"?function(e){return jy.resolve(null).then(e).catch(DI)}:Tf;function DI(e){setTimeout(function(){throw e})}function od(e,t){var n=t,i=0;do{var r=n.nextSibling;if(e.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(i===0){e.removeChild(r),ya(t);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=r}while(n);ya(t)}function $i(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function zy(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var io=Math.random().toString(36).slice(2),Dn="__reactFiber$"+io,Ea="__reactProps$"+io,hi="__reactContainer$"+io,Sf="__reactEvents$"+io,OI="__reactListeners$"+io,NI="__reactHandles$"+io;function Ir(e){var t=e[Dn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[hi]||n[Dn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=zy(e);e!==null;){if(n=e[Dn])return n;e=zy(e)}return t}e=n,n=e.parentNode}return null}function il(e){return e=e[Dn]||e[hi],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ys(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(L(33))}function Wu(e){return e[Ea]||null}var kf=[],_s=-1;function lr(e){return{current:e}}function kt(e){0>_s||(e.current=kf[_s],kf[_s]=null,_s--)}function xt(e,t){_s++,kf[_s]=e.current,e.current=t}var Zi={},Ce=lr(Zi),Be=lr(!1),jr=Zi;function Vs(e,t){var n=e.type.contextTypes;if(!n)return Zi;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var r={},s;for(s in n)r[s]=t[s];return i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=r),r}function Ue(e){return e=e.childContextTypes,e!=null}function qc(){kt(Be),kt(Ce)}function $y(e,t,n){if(Ce.current!==Zi)throw Error(L(168));xt(Ce,t),xt(Be,n)}function _1(e,t,n){var i=e.stateNode;if(t=t.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var r in i)if(!(r in t))throw Error(L(108,vk(e)||"Unknown",r));return Vt({},n,i)}function Kc(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Zi,jr=Ce.current,xt(Ce,e),xt(Be,Be.current),!0}function By(e,t,n){var i=e.stateNode;if(!i)throw Error(L(169));n?(e=_1(e,t,jr),i.__reactInternalMemoizedMergedChildContext=e,kt(Be),kt(Ce),xt(Ce,e)):kt(Be),xt(Be,n)}var Zn=null,Hu=!1,ad=!1;function v1(e){Zn===null?Zn=[e]:Zn.push(e)}function LI(e){Hu=!0,v1(e)}function cr(){if(!ad&&Zn!==null){ad=!0;var e=0,t=mt;try{var n=Zn;for(mt=1;e<n.length;e++){var i=n[e];do i=i(!0);while(i!==null)}Zn=null,Hu=!1}catch(r){throw Zn!==null&&(Zn=Zn.slice(e+1)),Ww(eg,cr),r}finally{mt=t,ad=!1}}return null}var vs=[],ws=0,Qc=null,Gc=0,un=[],hn=0,zr=null,ei=1,ni="";function Er(e,t){vs[ws++]=Gc,vs[ws++]=Qc,Qc=e,Gc=t}function w1(e,t,n){un[hn++]=ei,un[hn++]=ni,un[hn++]=zr,zr=e;var i=ei;e=ni;var r=32-bn(i)-1;i&=~(1<<r),n+=1;var s=32-bn(t)+r;if(30<s){var o=r-r%5;s=(i&(1<<o)-1).toString(32),i>>=o,r-=o,ei=1<<32-bn(t)+r|n<<r|i,ni=s+e}else ei=1<<s|n<<r|i,ni=e}function ug(e){e.return!==null&&(Er(e,1),w1(e,1,0))}function hg(e){for(;e===Qc;)Qc=vs[--ws],vs[ws]=null,Gc=vs[--ws],vs[ws]=null;for(;e===zr;)zr=un[--hn],un[hn]=null,ni=un[--hn],un[hn]=null,ei=un[--hn],un[hn]=null}var Xe=null,Ge=null,Pt=!1,xn=null;function x1(e,t){var n=fn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Uy(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Xe=e,Ge=$i(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Xe=e,Ge=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=zr!==null?{id:ei,overflow:ni}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=fn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Xe=e,Ge=null,!0):!1;default:return!1}}function If(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Af(e){if(Pt){var t=Ge;if(t){var n=t;if(!Uy(e,t)){if(If(e))throw Error(L(418));t=$i(n.nextSibling);var i=Xe;t&&Uy(e,t)?x1(i,n):(e.flags=e.flags&-4097|2,Pt=!1,Xe=e)}}else{if(If(e))throw Error(L(418));e.flags=e.flags&-4097|2,Pt=!1,Xe=e}}}function Wy(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Xe=e}function Fl(e){if(e!==Xe)return!1;if(!Pt)return Wy(e),Pt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!bf(e.type,e.memoizedProps)),t&&(t=Ge)){if(If(e))throw E1(),Error(L(418));for(;t;)x1(e,t),t=$i(t.nextSibling)}if(Wy(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(L(317));t:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ge=$i(e.nextSibling);break t}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ge=null}}else Ge=Xe?$i(e.stateNode.nextSibling):null;return!0}function E1(){for(var e=Ge;e;)e=$i(e.nextSibling)}function Fs(){Ge=Xe=null,Pt=!1}function dg(e){xn===null?xn=[e]:xn.push(e)}var VI=_i.ReactCurrentBatchConfig;function vn(e,t){if(e&&e.defaultProps){t=Vt({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var Yc=lr(null),Xc=null,xs=null,fg=null;function pg(){fg=xs=Xc=null}function gg(e){var t=Yc.current;kt(Yc),e._currentValue=t}function Cf(e,t,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function Cs(e,t){Xc=e,fg=xs=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&($e=!0),e.firstContext=null)}function gn(e){var t=e._currentValue;if(fg!==e)if(e={context:e,memoizedValue:t,next:null},xs===null){if(Xc===null)throw Error(L(308));xs=e,Xc.dependencies={lanes:0,firstContext:e}}else xs=xs.next=e;return t}var Ar=null;function mg(e){Ar===null?Ar=[e]:Ar.push(e)}function b1(e,t,n,i){var r=t.interleaved;return r===null?(n.next=n,mg(t)):(n.next=r.next,r.next=n),t.interleaved=n,di(e,i)}function di(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var ki=!1;function yg(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function T1(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ai(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Bi(e,t,n){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,lt&2){var r=i.pending;return r===null?t.next=t:(t.next=r.next,r.next=t),i.pending=t,di(e,n)}return r=i.interleaved,r===null?(t.next=t,mg(i)):(t.next=r.next,r.next=t),i.interleaved=t,di(e,n)}function _c(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,ng(e,n)}}function Hy(e,t){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var r=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?r=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?r=s=t:s=s.next=t}else r=s=t;n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,effects:i.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Jc(e,t,n,i){var r=e.updateQueue;ki=!1;var s=r.firstBaseUpdate,o=r.lastBaseUpdate,a=r.shared.pending;if(a!==null){r.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var u=e.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var h=r.baseState;o=0,u=c=l=null,a=s;do{var d=a.lane,f=a.eventTime;if((i&d)===d){u!==null&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});t:{var m=e,_=a;switch(d=t,f=n,_.tag){case 1:if(m=_.payload,typeof m=="function"){h=m.call(f,h,d);break t}h=m;break t;case 3:m.flags=m.flags&-65537|128;case 0:if(m=_.payload,d=typeof m=="function"?m.call(f,h,d):m,d==null)break t;h=Vt({},h,d);break t;case 2:ki=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,d=r.effects,d===null?r.effects=[a]:d.push(a))}else f={eventTime:f,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=f,l=h):u=u.next=f,o|=d;if(a=a.next,a===null){if(a=r.shared.pending,a===null)break;d=a,a=d.next,d.next=null,r.lastBaseUpdate=d,r.shared.pending=null}}while(1);if(u===null&&(l=h),r.baseState=l,r.firstBaseUpdate=c,r.lastBaseUpdate=u,t=r.shared.interleaved,t!==null){r=t;do o|=r.lane,r=r.next;while(r!==t)}else s===null&&(r.shared.lanes=0);Br|=o,e.lanes=o,e.memoizedState=h}}function qy(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var i=e[t],r=i.callback;if(r!==null){if(i.callback=null,i=n,typeof r!="function")throw Error(L(191,r));r.call(i)}}}var S1=new bw.Component().refs;function Pf(e,t,n,i){t=e.memoizedState,n=n(i,t),n=n==null?t:Vt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var qu={isMounted:function(e){return(e=e._reactInternals)?Zr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var i=Oe(),r=Wi(e),s=ai(i,r);s.payload=t,n!=null&&(s.callback=n),t=Bi(e,s,r),t!==null&&(Tn(t,e,r,i),_c(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=Oe(),r=Wi(e),s=ai(i,r);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=Bi(e,s,r),t!==null&&(Tn(t,e,r,i),_c(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Oe(),i=Wi(e),r=ai(n,i);r.tag=2,t!=null&&(r.callback=t),t=Bi(e,r,i),t!==null&&(Tn(t,e,i,n),_c(t,e,i))}};function Ky(e,t,n,i,r,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,s,o):t.prototype&&t.prototype.isPureReactComponent?!va(n,i)||!va(r,s):!0}function k1(e,t,n){var i=!1,r=Zi,s=t.contextType;return typeof s=="object"&&s!==null?s=gn(s):(r=Ue(t)?jr:Ce.current,i=t.contextTypes,s=(i=i!=null)?Vs(e,r):Zi),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=qu,e.stateNode=t,t._reactInternals=e,i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=s),t}function Qy(e,t,n,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&qu.enqueueReplaceState(t,t.state,null)}function Rf(e,t,n,i){var r=e.stateNode;r.props=n,r.state=e.memoizedState,r.refs=S1,yg(e);var s=t.contextType;typeof s=="object"&&s!==null?r.context=gn(s):(s=Ue(t)?jr:Ce.current,r.context=Vs(e,s)),r.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(Pf(e,t,s,n),r.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(t=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),t!==r.state&&qu.enqueueReplaceState(r,r.state,null),Jc(e,n,r,i),r.state=e.memoizedState),typeof r.componentDidMount=="function"&&(e.flags|=4194308)}function yo(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(L(309));var i=n.stateNode}if(!i)throw Error(L(147,e));var r=i,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var a=r.refs;a===S1&&(a=r.refs={}),o===null?delete a[s]:a[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(L(284));if(!n._owner)throw Error(L(290,e))}return e}function jl(e,t){throw e=Object.prototype.toString.call(t),Error(L(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Gy(e){var t=e._init;return t(e._payload)}function I1(e){function t(p,g){if(e){var y=p.deletions;y===null?(p.deletions=[g],p.flags|=16):y.push(g)}}function n(p,g){if(!e)return null;for(;g!==null;)t(p,g),g=g.sibling;return null}function i(p,g){for(p=new Map;g!==null;)g.key!==null?p.set(g.key,g):p.set(g.index,g),g=g.sibling;return p}function r(p,g){return p=Hi(p,g),p.index=0,p.sibling=null,p}function s(p,g,y){return p.index=y,e?(y=p.alternate,y!==null?(y=y.index,y<g?(p.flags|=2,g):y):(p.flags|=2,g)):(p.flags|=1048576,g)}function o(p){return e&&p.alternate===null&&(p.flags|=2),p}function a(p,g,y,E){return g===null||g.tag!==6?(g=pd(y,p.mode,E),g.return=p,g):(g=r(g,y),g.return=p,g)}function l(p,g,y,E){var b=y.type;return b===fs?u(p,g,y.props.children,E,y.key):g!==null&&(g.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===Si&&Gy(b)===g.type)?(E=r(g,y.props),E.ref=yo(p,g,y),E.return=p,E):(E=Tc(y.type,y.key,y.props,null,p.mode,E),E.ref=yo(p,g,y),E.return=p,E)}function c(p,g,y,E){return g===null||g.tag!==4||g.stateNode.containerInfo!==y.containerInfo||g.stateNode.implementation!==y.implementation?(g=gd(y,p.mode,E),g.return=p,g):(g=r(g,y.children||[]),g.return=p,g)}function u(p,g,y,E,b){return g===null||g.tag!==7?(g=Nr(y,p.mode,E,b),g.return=p,g):(g=r(g,y),g.return=p,g)}function h(p,g,y){if(typeof g=="string"&&g!==""||typeof g=="number")return g=pd(""+g,p.mode,y),g.return=p,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Al:return y=Tc(g.type,g.key,g.props,null,p.mode,y),y.ref=yo(p,null,g),y.return=p,y;case ds:return g=gd(g,p.mode,y),g.return=p,g;case Si:var E=g._init;return h(p,E(g._payload),y)}if(Co(g)||ho(g))return g=Nr(g,p.mode,y,null),g.return=p,g;jl(p,g)}return null}function d(p,g,y,E){var b=g!==null?g.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return b!==null?null:a(p,g,""+y,E);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Al:return y.key===b?l(p,g,y,E):null;case ds:return y.key===b?c(p,g,y,E):null;case Si:return b=y._init,d(p,g,b(y._payload),E)}if(Co(y)||ho(y))return b!==null?null:u(p,g,y,E,null);jl(p,y)}return null}function f(p,g,y,E,b){if(typeof E=="string"&&E!==""||typeof E=="number")return p=p.get(y)||null,a(g,p,""+E,b);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Al:return p=p.get(E.key===null?y:E.key)||null,l(g,p,E,b);case ds:return p=p.get(E.key===null?y:E.key)||null,c(g,p,E,b);case Si:var I=E._init;return f(p,g,y,I(E._payload),b)}if(Co(E)||ho(E))return p=p.get(y)||null,u(g,p,E,b,null);jl(g,E)}return null}function m(p,g,y,E){for(var b=null,I=null,k=g,w=g=0,x=null;k!==null&&w<y.length;w++){k.index>w?(x=k,k=null):x=k.sibling;var T=d(p,k,y[w],E);if(T===null){k===null&&(k=x);break}e&&k&&T.alternate===null&&t(p,k),g=s(T,g,w),I===null?b=T:I.sibling=T,I=T,k=x}if(w===y.length)return n(p,k),Pt&&Er(p,w),b;if(k===null){for(;w<y.length;w++)k=h(p,y[w],E),k!==null&&(g=s(k,g,w),I===null?b=k:I.sibling=k,I=k);return Pt&&Er(p,w),b}for(k=i(p,k);w<y.length;w++)x=f(k,p,w,y[w],E),x!==null&&(e&&x.alternate!==null&&k.delete(x.key===null?w:x.key),g=s(x,g,w),I===null?b=x:I.sibling=x,I=x);return e&&k.forEach(function(S){return t(p,S)}),Pt&&Er(p,w),b}function _(p,g,y,E){var b=ho(y);if(typeof b!="function")throw Error(L(150));if(y=b.call(y),y==null)throw Error(L(151));for(var I=b=null,k=g,w=g=0,x=null,T=y.next();k!==null&&!T.done;w++,T=y.next()){k.index>w?(x=k,k=null):x=k.sibling;var S=d(p,k,T.value,E);if(S===null){k===null&&(k=x);break}e&&k&&S.alternate===null&&t(p,k),g=s(S,g,w),I===null?b=S:I.sibling=S,I=S,k=x}if(T.done)return n(p,k),Pt&&Er(p,w),b;if(k===null){for(;!T.done;w++,T=y.next())T=h(p,T.value,E),T!==null&&(g=s(T,g,w),I===null?b=T:I.sibling=T,I=T);return Pt&&Er(p,w),b}for(k=i(p,k);!T.done;w++,T=y.next())T=f(k,p,w,T.value,E),T!==null&&(e&&T.alternate!==null&&k.delete(T.key===null?w:T.key),g=s(T,g,w),I===null?b=T:I.sibling=T,I=T);return e&&k.forEach(function(A){return t(p,A)}),Pt&&Er(p,w),b}function v(p,g,y,E){if(typeof y=="object"&&y!==null&&y.type===fs&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Al:t:{for(var b=y.key,I=g;I!==null;){if(I.key===b){if(b=y.type,b===fs){if(I.tag===7){n(p,I.sibling),g=r(I,y.props.children),g.return=p,p=g;break t}}else if(I.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===Si&&Gy(b)===I.type){n(p,I.sibling),g=r(I,y.props),g.ref=yo(p,I,y),g.return=p,p=g;break t}n(p,I);break}else t(p,I);I=I.sibling}y.type===fs?(g=Nr(y.props.children,p.mode,E,y.key),g.return=p,p=g):(E=Tc(y.type,y.key,y.props,null,p.mode,E),E.ref=yo(p,g,y),E.return=p,p=E)}return o(p);case ds:t:{for(I=y.key;g!==null;){if(g.key===I)if(g.tag===4&&g.stateNode.containerInfo===y.containerInfo&&g.stateNode.implementation===y.implementation){n(p,g.sibling),g=r(g,y.children||[]),g.return=p,p=g;break t}else{n(p,g);break}else t(p,g);g=g.sibling}g=gd(y,p.mode,E),g.return=p,p=g}return o(p);case Si:return I=y._init,v(p,g,I(y._payload),E)}if(Co(y))return m(p,g,y,E);if(ho(y))return _(p,g,y,E);jl(p,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,g!==null&&g.tag===6?(n(p,g.sibling),g=r(g,y),g.return=p,p=g):(n(p,g),g=pd(y,p.mode,E),g.return=p,p=g),o(p)):n(p,g)}return v}var js=I1(!0),A1=I1(!1),rl={},Fn=lr(rl),ba=lr(rl),Ta=lr(rl);function Cr(e){if(e===rl)throw Error(L(174));return e}function _g(e,t){switch(xt(Ta,t),xt(ba,e),xt(Fn,rl),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:cf(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=cf(t,e)}kt(Fn),xt(Fn,t)}function zs(){kt(Fn),kt(ba),kt(Ta)}function C1(e){Cr(Ta.current);var t=Cr(Fn.current),n=cf(t,e.type);t!==n&&(xt(ba,e),xt(Fn,n))}function vg(e){ba.current===e&&(kt(Fn),kt(ba))}var Nt=lr(0);function Zc(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ld=[];function wg(){for(var e=0;e<ld.length;e++)ld[e]._workInProgressVersionPrimary=null;ld.length=0}var vc=_i.ReactCurrentDispatcher,cd=_i.ReactCurrentBatchConfig,$r=0,Lt=null,Jt=null,se=null,tu=!1,Go=!1,Sa=0,FI=0;function ve(){throw Error(L(321))}function xg(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!kn(e[n],t[n]))return!1;return!0}function Eg(e,t,n,i,r,s){if($r=s,Lt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,vc.current=e===null||e.memoizedState===null?BI:UI,e=n(i,r),Go){s=0;do{if(Go=!1,Sa=0,25<=s)throw Error(L(301));s+=1,se=Jt=null,t.updateQueue=null,vc.current=WI,e=n(i,r)}while(Go)}if(vc.current=eu,t=Jt!==null&&Jt.next!==null,$r=0,se=Jt=Lt=null,tu=!1,t)throw Error(L(300));return e}function bg(){var e=Sa!==0;return Sa=0,e}function Rn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return se===null?Lt.memoizedState=se=e:se=se.next=e,se}function mn(){if(Jt===null){var e=Lt.alternate;e=e!==null?e.memoizedState:null}else e=Jt.next;var t=se===null?Lt.memoizedState:se.next;if(t!==null)se=t,Jt=e;else{if(e===null)throw Error(L(310));Jt=e,e={memoizedState:Jt.memoizedState,baseState:Jt.baseState,baseQueue:Jt.baseQueue,queue:Jt.queue,next:null},se===null?Lt.memoizedState=se=e:se=se.next=e}return se}function ka(e,t){return typeof t=="function"?t(e):t}function ud(e){var t=mn(),n=t.queue;if(n===null)throw Error(L(311));n.lastRenderedReducer=e;var i=Jt,r=i.baseQueue,s=n.pending;if(s!==null){if(r!==null){var o=r.next;r.next=s.next,s.next=o}i.baseQueue=r=s,n.pending=null}if(r!==null){s=r.next,i=i.baseState;var a=o=null,l=null,c=s;do{var u=c.lane;if(($r&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),i=c.hasEagerState?c.eagerState:e(i,c.action);else{var h={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=i):l=l.next=h,Lt.lanes|=u,Br|=u}c=c.next}while(c!==null&&c!==s);l===null?o=i:l.next=a,kn(i,t.memoizedState)||($e=!0),t.memoizedState=i,t.baseState=o,t.baseQueue=l,n.lastRenderedState=i}if(e=n.interleaved,e!==null){r=e;do s=r.lane,Lt.lanes|=s,Br|=s,r=r.next;while(r!==e)}else r===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function hd(e){var t=mn(),n=t.queue;if(n===null)throw Error(L(311));n.lastRenderedReducer=e;var i=n.dispatch,r=n.pending,s=t.memoizedState;if(r!==null){n.pending=null;var o=r=r.next;do s=e(s,o.action),o=o.next;while(o!==r);kn(s,t.memoizedState)||($e=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,i]}function P1(){}function R1(e,t){var n=Lt,i=mn(),r=t(),s=!kn(i.memoizedState,r);if(s&&(i.memoizedState=r,$e=!0),i=i.queue,Tg(O1.bind(null,n,i,e),[e]),i.getSnapshot!==t||s||se!==null&&se.memoizedState.tag&1){if(n.flags|=2048,Ia(9,D1.bind(null,n,i,r,t),void 0,null),ae===null)throw Error(L(349));$r&30||M1(n,t,r)}return r}function M1(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Lt.updateQueue,t===null?(t={lastEffect:null,stores:null},Lt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function D1(e,t,n,i){t.value=n,t.getSnapshot=i,N1(t)&&L1(e)}function O1(e,t,n){return n(function(){N1(t)&&L1(e)})}function N1(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!kn(e,n)}catch{return!0}}function L1(e){var t=di(e,1);t!==null&&Tn(t,e,1,-1)}function Yy(e){var t=Rn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ka,lastRenderedState:e},t.queue=e,e=e.dispatch=$I.bind(null,Lt,e),[t.memoizedState,e]}function Ia(e,t,n,i){return e={tag:e,create:t,destroy:n,deps:i,next:null},t=Lt.updateQueue,t===null?(t={lastEffect:null,stores:null},Lt.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e)),e}function V1(){return mn().memoizedState}function wc(e,t,n,i){var r=Rn();Lt.flags|=e,r.memoizedState=Ia(1|t,n,void 0,i===void 0?null:i)}function Ku(e,t,n,i){var r=mn();i=i===void 0?null:i;var s=void 0;if(Jt!==null){var o=Jt.memoizedState;if(s=o.destroy,i!==null&&xg(i,o.deps)){r.memoizedState=Ia(t,n,s,i);return}}Lt.flags|=e,r.memoizedState=Ia(1|t,n,s,i)}function Xy(e,t){return wc(8390656,8,e,t)}function Tg(e,t){return Ku(2048,8,e,t)}function F1(e,t){return Ku(4,2,e,t)}function j1(e,t){return Ku(4,4,e,t)}function z1(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function $1(e,t,n){return n=n!=null?n.concat([e]):null,Ku(4,4,z1.bind(null,t,e),n)}function Sg(){}function B1(e,t){var n=mn();t=t===void 0?null:t;var i=n.memoizedState;return i!==null&&t!==null&&xg(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function U1(e,t){var n=mn();t=t===void 0?null:t;var i=n.memoizedState;return i!==null&&t!==null&&xg(t,i[1])?i[0]:(e=e(),n.memoizedState=[e,t],e)}function W1(e,t,n){return $r&21?(kn(n,t)||(n=Kw(),Lt.lanes|=n,Br|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,$e=!0),e.memoizedState=n)}function jI(e,t){var n=mt;mt=n!==0&&4>n?n:4,e(!0);var i=cd.transition;cd.transition={};try{e(!1),t()}finally{mt=n,cd.transition=i}}function H1(){return mn().memoizedState}function zI(e,t,n){var i=Wi(e);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},q1(e))K1(t,n);else if(n=b1(e,t,n,i),n!==null){var r=Oe();Tn(n,e,i,r),Q1(n,t,i)}}function $I(e,t,n){var i=Wi(e),r={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(q1(e))K1(t,r);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,a=s(o,n);if(r.hasEagerState=!0,r.eagerState=a,kn(a,o)){var l=t.interleaved;l===null?(r.next=r,mg(t)):(r.next=l.next,l.next=r),t.interleaved=r;return}}catch{}finally{}n=b1(e,t,r,i),n!==null&&(r=Oe(),Tn(n,e,i,r),Q1(n,t,i))}}function q1(e){var t=e.alternate;return e===Lt||t!==null&&t===Lt}function K1(e,t){Go=tu=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Q1(e,t,n){if(n&4194240){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,ng(e,n)}}var eu={readContext:gn,useCallback:ve,useContext:ve,useEffect:ve,useImperativeHandle:ve,useInsertionEffect:ve,useLayoutEffect:ve,useMemo:ve,useReducer:ve,useRef:ve,useState:ve,useDebugValue:ve,useDeferredValue:ve,useTransition:ve,useMutableSource:ve,useSyncExternalStore:ve,useId:ve,unstable_isNewReconciler:!1},BI={readContext:gn,useCallback:function(e,t){return Rn().memoizedState=[e,t===void 0?null:t],e},useContext:gn,useEffect:Xy,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,wc(4194308,4,z1.bind(null,t,e),n)},useLayoutEffect:function(e,t){return wc(4194308,4,e,t)},useInsertionEffect:function(e,t){return wc(4,2,e,t)},useMemo:function(e,t){var n=Rn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var i=Rn();return t=n!==void 0?n(t):t,i.memoizedState=i.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},i.queue=e,e=e.dispatch=zI.bind(null,Lt,e),[i.memoizedState,e]},useRef:function(e){var t=Rn();return e={current:e},t.memoizedState=e},useState:Yy,useDebugValue:Sg,useDeferredValue:function(e){return Rn().memoizedState=e},useTransition:function(){var e=Yy(!1),t=e[0];return e=jI.bind(null,e[1]),Rn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var i=Lt,r=Rn();if(Pt){if(n===void 0)throw Error(L(407));n=n()}else{if(n=t(),ae===null)throw Error(L(349));$r&30||M1(i,t,n)}r.memoizedState=n;var s={value:n,getSnapshot:t};return r.queue=s,Xy(O1.bind(null,i,s,e),[e]),i.flags|=2048,Ia(9,D1.bind(null,i,s,n,t),void 0,null),n},useId:function(){var e=Rn(),t=ae.identifierPrefix;if(Pt){var n=ni,i=ei;n=(i&~(1<<32-bn(i)-1)).toString(32)+n,t=":"+t+"R"+n,n=Sa++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=FI++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},UI={readContext:gn,useCallback:B1,useContext:gn,useEffect:Tg,useImperativeHandle:$1,useInsertionEffect:F1,useLayoutEffect:j1,useMemo:U1,useReducer:ud,useRef:V1,useState:function(){return ud(ka)},useDebugValue:Sg,useDeferredValue:function(e){var t=mn();return W1(t,Jt.memoizedState,e)},useTransition:function(){var e=ud(ka)[0],t=mn().memoizedState;return[e,t]},useMutableSource:P1,useSyncExternalStore:R1,useId:H1,unstable_isNewReconciler:!1},WI={readContext:gn,useCallback:B1,useContext:gn,useEffect:Tg,useImperativeHandle:$1,useInsertionEffect:F1,useLayoutEffect:j1,useMemo:U1,useReducer:hd,useRef:V1,useState:function(){return hd(ka)},useDebugValue:Sg,useDeferredValue:function(e){var t=mn();return Jt===null?t.memoizedState=e:W1(t,Jt.memoizedState,e)},useTransition:function(){var e=hd(ka)[0],t=mn().memoizedState;return[e,t]},useMutableSource:P1,useSyncExternalStore:R1,useId:H1,unstable_isNewReconciler:!1};function $s(e,t){try{var n="",i=t;do n+=_k(i),i=i.return;while(i);var r=n}catch(s){r=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:r,digest:null}}function dd(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Mf(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var HI=typeof WeakMap=="function"?WeakMap:Map;function G1(e,t,n){n=ai(-1,n),n.tag=3,n.payload={element:null};var i=t.value;return n.callback=function(){iu||(iu=!0,Bf=i),Mf(e,t)},n}function Y1(e,t,n){n=ai(-1,n),n.tag=3;var i=e.type.getDerivedStateFromError;if(typeof i=="function"){var r=t.value;n.payload=function(){return i(r)},n.callback=function(){Mf(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Mf(e,t),typeof i!="function"&&(Ui===null?Ui=new Set([this]):Ui.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function Jy(e,t,n){var i=e.pingCache;if(i===null){i=e.pingCache=new HI;var r=new Set;i.set(t,r)}else r=i.get(t),r===void 0&&(r=new Set,i.set(t,r));r.has(n)||(r.add(n),e=sA.bind(null,e,t,n),t.then(e,e))}function Zy(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function t_(e,t,n,i,r){return e.mode&1?(e.flags|=65536,e.lanes=r,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=ai(-1,1),t.tag=2,Bi(n,t,1))),n.lanes|=1),e)}var qI=_i.ReactCurrentOwner,$e=!1;function Me(e,t,n,i){t.child=e===null?A1(t,null,n,i):js(t,e.child,n,i)}function e_(e,t,n,i,r){n=n.render;var s=t.ref;return Cs(t,r),i=Eg(e,t,n,i,s,r),n=bg(),e!==null&&!$e?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,fi(e,t,r)):(Pt&&n&&ug(t),t.flags|=1,Me(e,t,i,r),t.child)}function n_(e,t,n,i,r){if(e===null){var s=n.type;return typeof s=="function"&&!Dg(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,X1(e,t,s,i,r)):(e=Tc(n.type,null,i,t,t.mode,r),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&r)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:va,n(o,i)&&e.ref===t.ref)return fi(e,t,r)}return t.flags|=1,e=Hi(s,i),e.ref=t.ref,e.return=t,t.child=e}function X1(e,t,n,i,r){if(e!==null){var s=e.memoizedProps;if(va(s,i)&&e.ref===t.ref)if($e=!1,t.pendingProps=i=s,(e.lanes&r)!==0)e.flags&131072&&($e=!0);else return t.lanes=e.lanes,fi(e,t,r)}return Df(e,t,n,i,r)}function J1(e,t,n){var i=t.pendingProps,r=i.children,s=e!==null?e.memoizedState:null;if(i.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},xt(bs,Ke),Ke|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,xt(bs,Ke),Ke|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=s!==null?s.baseLanes:n,xt(bs,Ke),Ke|=i}else s!==null?(i=s.baseLanes|n,t.memoizedState=null):i=n,xt(bs,Ke),Ke|=i;return Me(e,t,r,n),t.child}function Z1(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Df(e,t,n,i,r){var s=Ue(n)?jr:Ce.current;return s=Vs(t,s),Cs(t,r),n=Eg(e,t,n,i,s,r),i=bg(),e!==null&&!$e?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,fi(e,t,r)):(Pt&&i&&ug(t),t.flags|=1,Me(e,t,n,r),t.child)}function i_(e,t,n,i,r){if(Ue(n)){var s=!0;Kc(t)}else s=!1;if(Cs(t,r),t.stateNode===null)xc(e,t),k1(t,n,i),Rf(t,n,i,r),i=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=gn(c):(c=Ue(n)?jr:Ce.current,c=Vs(t,c));var u=n.getDerivedStateFromProps,h=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==i||l!==c)&&Qy(t,o,i,c),ki=!1;var d=t.memoizedState;o.state=d,Jc(t,i,o,r),l=t.memoizedState,a!==i||d!==l||Be.current||ki?(typeof u=="function"&&(Pf(t,n,u,i),l=t.memoizedState),(a=ki||Ky(t,n,a,i,d,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=l),o.props=i,o.state=l,o.context=c,i=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{o=t.stateNode,T1(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:vn(t.type,a),o.props=c,h=t.pendingProps,d=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=gn(l):(l=Ue(n)?jr:Ce.current,l=Vs(t,l));var f=n.getDerivedStateFromProps;(u=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||d!==l)&&Qy(t,o,i,l),ki=!1,d=t.memoizedState,o.state=d,Jc(t,i,o,r);var m=t.memoizedState;a!==h||d!==m||Be.current||ki?(typeof f=="function"&&(Pf(t,n,f,i),m=t.memoizedState),(c=ki||Ky(t,n,c,i,d,m,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,m,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,m,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=m),o.props=i,o.state=m,o.context=l,i=c):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),i=!1)}return Of(e,t,n,i,s,r)}function Of(e,t,n,i,r,s){Z1(e,t);var o=(t.flags&128)!==0;if(!i&&!o)return r&&By(t,n,!1),fi(e,t,s);i=t.stateNode,qI.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:i.render();return t.flags|=1,e!==null&&o?(t.child=js(t,e.child,null,s),t.child=js(t,null,a,s)):Me(e,t,a,s),t.memoizedState=i.state,r&&By(t,n,!0),t.child}function tx(e){var t=e.stateNode;t.pendingContext?$y(e,t.pendingContext,t.pendingContext!==t.context):t.context&&$y(e,t.context,!1),_g(e,t.containerInfo)}function r_(e,t,n,i,r){return Fs(),dg(r),t.flags|=256,Me(e,t,n,i),t.child}var Nf={dehydrated:null,treeContext:null,retryLane:0};function Lf(e){return{baseLanes:e,cachePool:null,transitions:null}}function ex(e,t,n){var i=t.pendingProps,r=Nt.current,s=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(r&2)!==0),a?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(r|=1),xt(Nt,r&1),e===null)return Af(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=i.children,e=i.fallback,s?(i=t.mode,s=t.child,o={mode:"hidden",children:o},!(i&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Yu(o,i,0,null),e=Nr(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Lf(n),t.memoizedState=Nf,e):kg(t,o));if(r=e.memoizedState,r!==null&&(a=r.dehydrated,a!==null))return KI(e,t,o,i,a,r,n);if(s){s=i.fallback,o=t.mode,r=e.child,a=r.sibling;var l={mode:"hidden",children:i.children};return!(o&1)&&t.child!==r?(i=t.child,i.childLanes=0,i.pendingProps=l,t.deletions=null):(i=Hi(r,l),i.subtreeFlags=r.subtreeFlags&14680064),a!==null?s=Hi(a,s):(s=Nr(s,o,n,null),s.flags|=2),s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,o=e.child.memoizedState,o=o===null?Lf(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~n,t.memoizedState=Nf,i}return s=e.child,e=s.sibling,i=Hi(s,{mode:"visible",children:i.children}),!(t.mode&1)&&(i.lanes=n),i.return=t,i.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function kg(e,t){return t=Yu({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function zl(e,t,n,i){return i!==null&&dg(i),js(t,e.child,null,n),e=kg(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function KI(e,t,n,i,r,s,o){if(n)return t.flags&256?(t.flags&=-257,i=dd(Error(L(422))),zl(e,t,o,i)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=i.fallback,r=t.mode,i=Yu({mode:"visible",children:i.children},r,0,null),s=Nr(s,r,o,null),s.flags|=2,i.return=t,s.return=t,i.sibling=s,t.child=i,t.mode&1&&js(t,e.child,null,o),t.child.memoizedState=Lf(o),t.memoizedState=Nf,s);if(!(t.mode&1))return zl(e,t,o,null);if(r.data==="$!"){if(i=r.nextSibling&&r.nextSibling.dataset,i)var a=i.dgst;return i=a,s=Error(L(419)),i=dd(s,i,void 0),zl(e,t,o,i)}if(a=(o&e.childLanes)!==0,$e||a){if(i=ae,i!==null){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(i.suspendedLanes|o)?0:r,r!==0&&r!==s.retryLane&&(s.retryLane=r,di(e,r),Tn(i,e,r,-1))}return Mg(),i=dd(Error(L(421))),zl(e,t,o,i)}return r.data==="$?"?(t.flags|=128,t.child=e.child,t=oA.bind(null,e),r._reactRetry=t,null):(e=s.treeContext,Ge=$i(r.nextSibling),Xe=t,Pt=!0,xn=null,e!==null&&(un[hn++]=ei,un[hn++]=ni,un[hn++]=zr,ei=e.id,ni=e.overflow,zr=t),t=kg(t,i.children),t.flags|=4096,t)}function s_(e,t,n){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),Cf(e.return,t,n)}function fd(e,t,n,i,r){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=n,s.tailMode=r)}function nx(e,t,n){var i=t.pendingProps,r=i.revealOrder,s=i.tail;if(Me(e,t,i.children,n),i=Nt.current,i&2)i=i&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)t:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&s_(e,n,t);else if(e.tag===19)s_(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;e.sibling===null;){if(e.return===null||e.return===t)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(xt(Nt,i),!(t.mode&1))t.memoizedState=null;else switch(r){case"forwards":for(n=t.child,r=null;n!==null;)e=n.alternate,e!==null&&Zc(e)===null&&(r=n),n=n.sibling;n=r,n===null?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),fd(t,!1,r,n,s);break;case"backwards":for(n=null,r=t.child,t.child=null;r!==null;){if(e=r.alternate,e!==null&&Zc(e)===null){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}fd(t,!0,n,null,s);break;case"together":fd(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function xc(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function fi(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Br|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(L(153));if(t.child!==null){for(e=t.child,n=Hi(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Hi(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function QI(e,t,n){switch(t.tag){case 3:tx(t),Fs();break;case 5:C1(t);break;case 1:Ue(t.type)&&Kc(t);break;case 4:_g(t,t.stateNode.containerInfo);break;case 10:var i=t.type._context,r=t.memoizedProps.value;xt(Yc,i._currentValue),i._currentValue=r;break;case 13:if(i=t.memoizedState,i!==null)return i.dehydrated!==null?(xt(Nt,Nt.current&1),t.flags|=128,null):n&t.child.childLanes?ex(e,t,n):(xt(Nt,Nt.current&1),e=fi(e,t,n),e!==null?e.sibling:null);xt(Nt,Nt.current&1);break;case 19:if(i=(n&t.childLanes)!==0,e.flags&128){if(i)return nx(e,t,n);t.flags|=128}if(r=t.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),xt(Nt,Nt.current),i)break;return null;case 22:case 23:return t.lanes=0,J1(e,t,n)}return fi(e,t,n)}var ix,Vf,rx,sx;ix=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Vf=function(){};rx=function(e,t,n,i){var r=e.memoizedProps;if(r!==i){e=t.stateNode,Cr(Fn.current);var s=null;switch(n){case"input":r=sf(e,r),i=sf(e,i),s=[];break;case"select":r=Vt({},r,{value:void 0}),i=Vt({},i,{value:void 0}),s=[];break;case"textarea":r=lf(e,r),i=lf(e,i),s=[];break;default:typeof r.onClick!="function"&&typeof i.onClick=="function"&&(e.onclick=Hc)}uf(n,i);var o;n=null;for(c in r)if(!i.hasOwnProperty(c)&&r.hasOwnProperty(c)&&r[c]!=null)if(c==="style"){var a=r[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(da.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in i){var l=i[c];if(a=r!=null?r[c]:void 0,i.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(da.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&bt("scroll",e),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(t.updateQueue=c)&&(t.flags|=4)}};sx=function(e,t,n,i){n!==i&&(t.flags|=4)};function _o(e,t){if(!Pt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function we(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,i=0;if(t)for(var r=e.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags&14680064,i|=r.flags&14680064,r.return=e,r=r.sibling;else for(r=e.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function GI(e,t,n){var i=t.pendingProps;switch(hg(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return we(t),null;case 1:return Ue(t.type)&&qc(),we(t),null;case 3:return i=t.stateNode,zs(),kt(Be),kt(Ce),wg(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(Fl(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,xn!==null&&(Hf(xn),xn=null))),Vf(e,t),we(t),null;case 5:vg(t);var r=Cr(Ta.current);if(n=t.type,e!==null&&t.stateNode!=null)rx(e,t,n,i,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(t.stateNode===null)throw Error(L(166));return we(t),null}if(e=Cr(Fn.current),Fl(t)){i=t.stateNode,n=t.type;var s=t.memoizedProps;switch(i[Dn]=t,i[Ea]=s,e=(t.mode&1)!==0,n){case"dialog":bt("cancel",i),bt("close",i);break;case"iframe":case"object":case"embed":bt("load",i);break;case"video":case"audio":for(r=0;r<Ro.length;r++)bt(Ro[r],i);break;case"source":bt("error",i);break;case"img":case"image":case"link":bt("error",i),bt("load",i);break;case"details":bt("toggle",i);break;case"input":py(i,s),bt("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!s.multiple},bt("invalid",i);break;case"textarea":my(i,s),bt("invalid",i)}uf(n,s),r=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?i.textContent!==a&&(s.suppressHydrationWarning!==!0&&Vl(i.textContent,a,e),r=["children",a]):typeof a=="number"&&i.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Vl(i.textContent,a,e),r=["children",""+a]):da.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&bt("scroll",i)}switch(n){case"input":Cl(i),gy(i,s,!0);break;case"textarea":Cl(i),yy(i);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(i.onclick=Hc)}i=r,t.updateQueue=i,i!==null&&(t.flags|=4)}else{o=r.nodeType===9?r:r.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Mw(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof i.is=="string"?e=o.createElement(n,{is:i.is}):(e=o.createElement(n),n==="select"&&(o=e,i.multiple?o.multiple=!0:i.size&&(o.size=i.size))):e=o.createElementNS(e,n),e[Dn]=t,e[Ea]=i,ix(e,t,!1,!1),t.stateNode=e;t:{switch(o=hf(n,i),n){case"dialog":bt("cancel",e),bt("close",e),r=i;break;case"iframe":case"object":case"embed":bt("load",e),r=i;break;case"video":case"audio":for(r=0;r<Ro.length;r++)bt(Ro[r],e);r=i;break;case"source":bt("error",e),r=i;break;case"img":case"image":case"link":bt("error",e),bt("load",e),r=i;break;case"details":bt("toggle",e),r=i;break;case"input":py(e,i),r=sf(e,i),bt("invalid",e);break;case"option":r=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},r=Vt({},i,{value:void 0}),bt("invalid",e);break;case"textarea":my(e,i),r=lf(e,i),bt("invalid",e);break;default:r=i}uf(n,r),a=r;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?Nw(e,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Dw(e,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&fa(e,l):typeof l=="number"&&fa(e,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(da.hasOwnProperty(s)?l!=null&&s==="onScroll"&&bt("scroll",e):l!=null&&Yp(e,s,l,o))}switch(n){case"input":Cl(e),gy(e,i,!1);break;case"textarea":Cl(e),yy(e);break;case"option":i.value!=null&&e.setAttribute("value",""+Ji(i.value));break;case"select":e.multiple=!!i.multiple,s=i.value,s!=null?Ss(e,!!i.multiple,s,!1):i.defaultValue!=null&&Ss(e,!!i.multiple,i.defaultValue,!0);break;default:typeof r.onClick=="function"&&(e.onclick=Hc)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break t;case"img":i=!0;break t;default:i=!1}}i&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return we(t),null;case 6:if(e&&t.stateNode!=null)sx(e,t,e.memoizedProps,i);else{if(typeof i!="string"&&t.stateNode===null)throw Error(L(166));if(n=Cr(Ta.current),Cr(Fn.current),Fl(t)){if(i=t.stateNode,n=t.memoizedProps,i[Dn]=t,(s=i.nodeValue!==n)&&(e=Xe,e!==null))switch(e.tag){case 3:Vl(i.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Vl(i.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[Dn]=t,t.stateNode=i}return we(t),null;case 13:if(kt(Nt),i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Pt&&Ge!==null&&t.mode&1&&!(t.flags&128))E1(),Fs(),t.flags|=98560,s=!1;else if(s=Fl(t),i!==null&&i.dehydrated!==null){if(e===null){if(!s)throw Error(L(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(L(317));s[Dn]=t}else Fs(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;we(t),s=!1}else xn!==null&&(Hf(xn),xn=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(i=i!==null,i!==(e!==null&&e.memoizedState!==null)&&i&&(t.child.flags|=8192,t.mode&1&&(e===null||Nt.current&1?te===0&&(te=3):Mg())),t.updateQueue!==null&&(t.flags|=4),we(t),null);case 4:return zs(),Vf(e,t),e===null&&wa(t.stateNode.containerInfo),we(t),null;case 10:return gg(t.type._context),we(t),null;case 17:return Ue(t.type)&&qc(),we(t),null;case 19:if(kt(Nt),s=t.memoizedState,s===null)return we(t),null;if(i=(t.flags&128)!==0,o=s.rendering,o===null)if(i)_o(s,!1);else{if(te!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Zc(e),o!==null){for(t.flags|=128,_o(s,!1),i=o.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=n,n=t.child;n!==null;)s=n,e=i,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return xt(Nt,Nt.current&1|2),t.child}e=e.sibling}s.tail!==null&&Wt()>Bs&&(t.flags|=128,i=!0,_o(s,!1),t.lanes=4194304)}else{if(!i)if(e=Zc(o),e!==null){if(t.flags|=128,i=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),_o(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Pt)return we(t),null}else 2*Wt()-s.renderingStartTime>Bs&&n!==1073741824&&(t.flags|=128,i=!0,_o(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(n=s.last,n!==null?n.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Wt(),t.sibling=null,n=Nt.current,xt(Nt,i?n&1|2:n&1),t):(we(t),null);case 22:case 23:return Rg(),i=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==i&&(t.flags|=8192),i&&t.mode&1?Ke&1073741824&&(we(t),t.subtreeFlags&6&&(t.flags|=8192)):we(t),null;case 24:return null;case 25:return null}throw Error(L(156,t.tag))}function YI(e,t){switch(hg(t),t.tag){case 1:return Ue(t.type)&&qc(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return zs(),kt(Be),kt(Ce),wg(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return vg(t),null;case 13:if(kt(Nt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(L(340));Fs()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return kt(Nt),null;case 4:return zs(),null;case 10:return gg(t.type._context),null;case 22:case 23:return Rg(),null;case 24:return null;default:return null}}var $l=!1,Te=!1,XI=typeof WeakSet=="function"?WeakSet:Set,U=null;function Es(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){jt(e,t,i)}else n.current=null}function Ff(e,t,n){try{n()}catch(i){jt(e,t,i)}}var o_=!1;function JI(e,t){if(xf=Bc,e=c1(),cg(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else t:{n=(n=e.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break t}var o=0,a=-1,l=-1,c=0,u=0,h=e,d=null;e:for(;;){for(var f;h!==n||r!==0&&h.nodeType!==3||(a=o+r),h!==s||i!==0&&h.nodeType!==3||(l=o+i),h.nodeType===3&&(o+=h.nodeValue.length),(f=h.firstChild)!==null;)d=h,h=f;for(;;){if(h===e)break e;if(d===n&&++c===r&&(a=o),d===s&&++u===i&&(l=o),(f=h.nextSibling)!==null)break;h=d,d=h.parentNode}h=f}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ef={focusedElem:e,selectionRange:n},Bc=!1,U=t;U!==null;)if(t=U,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,U=e;else for(;U!==null;){t=U;try{var m=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var _=m.memoizedProps,v=m.memoizedState,p=t.stateNode,g=p.getSnapshotBeforeUpdate(t.elementType===t.type?_:vn(t.type,_),v);p.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(L(163))}}catch(E){jt(t,t.return,E)}if(e=t.sibling,e!==null){e.return=t.return,U=e;break}U=t.return}return m=o_,o_=!1,m}function Yo(e,t,n){var i=t.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var r=i=i.next;do{if((r.tag&e)===e){var s=r.destroy;r.destroy=void 0,s!==void 0&&Ff(t,n,s)}r=r.next}while(r!==i)}}function Qu(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var i=n.create;n.destroy=i()}n=n.next}while(n!==t)}}function jf(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function ox(e){var t=e.alternate;t!==null&&(e.alternate=null,ox(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Dn],delete t[Ea],delete t[Sf],delete t[OI],delete t[NI])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ax(e){return e.tag===5||e.tag===3||e.tag===4}function a_(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||ax(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function zf(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Hc));else if(i!==4&&(e=e.child,e!==null))for(zf(e,t,n),e=e.sibling;e!==null;)zf(e,t,n),e=e.sibling}function $f(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(i!==4&&(e=e.child,e!==null))for($f(e,t,n),e=e.sibling;e!==null;)$f(e,t,n),e=e.sibling}var ue=null,wn=!1;function bi(e,t,n){for(n=n.child;n!==null;)lx(e,t,n),n=n.sibling}function lx(e,t,n){if(Vn&&typeof Vn.onCommitFiberUnmount=="function")try{Vn.onCommitFiberUnmount(zu,n)}catch{}switch(n.tag){case 5:Te||Es(n,t);case 6:var i=ue,r=wn;ue=null,bi(e,t,n),ue=i,wn=r,ue!==null&&(wn?(e=ue,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ue.removeChild(n.stateNode));break;case 18:ue!==null&&(wn?(e=ue,n=n.stateNode,e.nodeType===8?od(e.parentNode,n):e.nodeType===1&&od(e,n),ya(e)):od(ue,n.stateNode));break;case 4:i=ue,r=wn,ue=n.stateNode.containerInfo,wn=!0,bi(e,t,n),ue=i,wn=r;break;case 0:case 11:case 14:case 15:if(!Te&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){r=i=i.next;do{var s=r,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Ff(n,t,o),r=r.next}while(r!==i)}bi(e,t,n);break;case 1:if(!Te&&(Es(n,t),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(a){jt(n,t,a)}bi(e,t,n);break;case 21:bi(e,t,n);break;case 22:n.mode&1?(Te=(i=Te)||n.memoizedState!==null,bi(e,t,n),Te=i):bi(e,t,n);break;default:bi(e,t,n)}}function l_(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new XI),t.forEach(function(i){var r=aA.bind(null,e,i);n.has(i)||(n.add(i),i.then(r,r))})}}function _n(e,t){var n=t.deletions;if(n!==null)for(var i=0;i<n.length;i++){var r=n[i];try{var s=e,o=t,a=o;t:for(;a!==null;){switch(a.tag){case 5:ue=a.stateNode,wn=!1;break t;case 3:ue=a.stateNode.containerInfo,wn=!0;break t;case 4:ue=a.stateNode.containerInfo,wn=!0;break t}a=a.return}if(ue===null)throw Error(L(160));lx(s,o,r),ue=null,wn=!1;var l=r.alternate;l!==null&&(l.return=null),r.return=null}catch(c){jt(r,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)cx(t,e),t=t.sibling}function cx(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(_n(t,e),Cn(e),i&4){try{Yo(3,e,e.return),Qu(3,e)}catch(_){jt(e,e.return,_)}try{Yo(5,e,e.return)}catch(_){jt(e,e.return,_)}}break;case 1:_n(t,e),Cn(e),i&512&&n!==null&&Es(n,n.return);break;case 5:if(_n(t,e),Cn(e),i&512&&n!==null&&Es(n,n.return),e.flags&32){var r=e.stateNode;try{fa(r,"")}catch(_){jt(e,e.return,_)}}if(i&4&&(r=e.stateNode,r!=null)){var s=e.memoizedProps,o=n!==null?n.memoizedProps:s,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&Pw(r,s),hf(a,o);var c=hf(a,s);for(o=0;o<l.length;o+=2){var u=l[o],h=l[o+1];u==="style"?Nw(r,h):u==="dangerouslySetInnerHTML"?Dw(r,h):u==="children"?fa(r,h):Yp(r,u,h,c)}switch(a){case"input":of(r,s);break;case"textarea":Rw(r,s);break;case"select":var d=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!s.multiple;var f=s.value;f!=null?Ss(r,!!s.multiple,f,!1):d!==!!s.multiple&&(s.defaultValue!=null?Ss(r,!!s.multiple,s.defaultValue,!0):Ss(r,!!s.multiple,s.multiple?[]:"",!1))}r[Ea]=s}catch(_){jt(e,e.return,_)}}break;case 6:if(_n(t,e),Cn(e),i&4){if(e.stateNode===null)throw Error(L(162));r=e.stateNode,s=e.memoizedProps;try{r.nodeValue=s}catch(_){jt(e,e.return,_)}}break;case 3:if(_n(t,e),Cn(e),i&4&&n!==null&&n.memoizedState.isDehydrated)try{ya(t.containerInfo)}catch(_){jt(e,e.return,_)}break;case 4:_n(t,e),Cn(e);break;case 13:_n(t,e),Cn(e),r=e.child,r.flags&8192&&(s=r.memoizedState!==null,r.stateNode.isHidden=s,!s||r.alternate!==null&&r.alternate.memoizedState!==null||(Cg=Wt())),i&4&&l_(e);break;case 22:if(u=n!==null&&n.memoizedState!==null,e.mode&1?(Te=(c=Te)||u,_n(t,e),Te=c):_n(t,e),Cn(e),i&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!u&&e.mode&1)for(U=e,u=e.child;u!==null;){for(h=U=u;U!==null;){switch(d=U,f=d.child,d.tag){case 0:case 11:case 14:case 15:Yo(4,d,d.return);break;case 1:Es(d,d.return);var m=d.stateNode;if(typeof m.componentWillUnmount=="function"){i=d,n=d.return;try{t=i,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(_){jt(i,n,_)}}break;case 5:Es(d,d.return);break;case 22:if(d.memoizedState!==null){u_(h);continue}}f!==null?(f.return=d,U=f):u_(h)}u=u.sibling}t:for(u=null,h=e;;){if(h.tag===5){if(u===null){u=h;try{r=h.stateNode,c?(s=r.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Ow("display",o))}catch(_){jt(e,e.return,_)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(_){jt(e,e.return,_)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break t;for(;h.sibling===null;){if(h.return===null||h.return===e)break t;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:_n(t,e),Cn(e),i&4&&l_(e);break;case 21:break;default:_n(t,e),Cn(e)}}function Cn(e){var t=e.flags;if(t&2){try{t:{for(var n=e.return;n!==null;){if(ax(n)){var i=n;break t}n=n.return}throw Error(L(160))}switch(i.tag){case 5:var r=i.stateNode;i.flags&32&&(fa(r,""),i.flags&=-33);var s=a_(e);$f(e,s,r);break;case 3:case 4:var o=i.stateNode.containerInfo,a=a_(e);zf(e,a,o);break;default:throw Error(L(161))}}catch(l){jt(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function ZI(e,t,n){U=e,ux(e)}function ux(e,t,n){for(var i=(e.mode&1)!==0;U!==null;){var r=U,s=r.child;if(r.tag===22&&i){var o=r.memoizedState!==null||$l;if(!o){var a=r.alternate,l=a!==null&&a.memoizedState!==null||Te;a=$l;var c=Te;if($l=o,(Te=l)&&!c)for(U=r;U!==null;)o=U,l=o.child,o.tag===22&&o.memoizedState!==null?h_(r):l!==null?(l.return=o,U=l):h_(r);for(;s!==null;)U=s,ux(s),s=s.sibling;U=r,$l=a,Te=c}c_(e)}else r.subtreeFlags&8772&&s!==null?(s.return=r,U=s):c_(e)}}function c_(e){for(;U!==null;){var t=U;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Te||Qu(5,t);break;case 1:var i=t.stateNode;if(t.flags&4&&!Te)if(n===null)i.componentDidMount();else{var r=t.elementType===t.type?n.memoizedProps:vn(t.type,n.memoizedProps);i.componentDidUpdate(r,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&qy(t,s,i);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}qy(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&ya(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(L(163))}Te||t.flags&512&&jf(t)}catch(d){jt(t,t.return,d)}}if(t===e){U=null;break}if(n=t.sibling,n!==null){n.return=t.return,U=n;break}U=t.return}}function u_(e){for(;U!==null;){var t=U;if(t===e){U=null;break}var n=t.sibling;if(n!==null){n.return=t.return,U=n;break}U=t.return}}function h_(e){for(;U!==null;){var t=U;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Qu(4,t)}catch(l){jt(t,n,l)}break;case 1:var i=t.stateNode;if(typeof i.componentDidMount=="function"){var r=t.return;try{i.componentDidMount()}catch(l){jt(t,r,l)}}var s=t.return;try{jf(t)}catch(l){jt(t,s,l)}break;case 5:var o=t.return;try{jf(t)}catch(l){jt(t,o,l)}}}catch(l){jt(t,t.return,l)}if(t===e){U=null;break}var a=t.sibling;if(a!==null){a.return=t.return,U=a;break}U=t.return}}var tA=Math.ceil,nu=_i.ReactCurrentDispatcher,Ig=_i.ReactCurrentOwner,pn=_i.ReactCurrentBatchConfig,lt=0,ae=null,Gt=null,pe=0,Ke=0,bs=lr(0),te=0,Aa=null,Br=0,Gu=0,Ag=0,Xo=null,Fe=null,Cg=0,Bs=1/0,Jn=null,iu=!1,Bf=null,Ui=null,Bl=!1,Pi=null,ru=0,Jo=0,Uf=null,Ec=-1,bc=0;function Oe(){return lt&6?Wt():Ec!==-1?Ec:Ec=Wt()}function Wi(e){return e.mode&1?lt&2&&pe!==0?pe&-pe:VI.transition!==null?(bc===0&&(bc=Kw()),bc):(e=mt,e!==0||(e=window.event,e=e===void 0?16:t1(e.type)),e):1}function Tn(e,t,n,i){if(50<Jo)throw Jo=0,Uf=null,Error(L(185));el(e,n,i),(!(lt&2)||e!==ae)&&(e===ae&&(!(lt&2)&&(Gu|=n),te===4&&Ai(e,pe)),We(e,i),n===1&&lt===0&&!(t.mode&1)&&(Bs=Wt()+500,Hu&&cr()))}function We(e,t){var n=e.callbackNode;Vk(e,t);var i=$c(e,e===ae?pe:0);if(i===0)n!==null&&wy(n),e.callbackNode=null,e.callbackPriority=0;else if(t=i&-i,e.callbackPriority!==t){if(n!=null&&wy(n),t===1)e.tag===0?LI(d_.bind(null,e)):v1(d_.bind(null,e)),MI(function(){!(lt&6)&&cr()}),n=null;else{switch(Qw(i)){case 1:n=eg;break;case 4:n=Hw;break;case 16:n=zc;break;case 536870912:n=qw;break;default:n=zc}n=_x(n,hx.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function hx(e,t){if(Ec=-1,bc=0,lt&6)throw Error(L(327));var n=e.callbackNode;if(Ps()&&e.callbackNode!==n)return null;var i=$c(e,e===ae?pe:0);if(i===0)return null;if(i&30||i&e.expiredLanes||t)t=su(e,i);else{t=i;var r=lt;lt|=2;var s=fx();(ae!==e||pe!==t)&&(Jn=null,Bs=Wt()+500,Or(e,t));do try{iA();break}catch(a){dx(e,a)}while(1);pg(),nu.current=s,lt=r,Gt!==null?t=0:(ae=null,pe=0,t=te)}if(t!==0){if(t===2&&(r=mf(e),r!==0&&(i=r,t=Wf(e,r))),t===1)throw n=Aa,Or(e,0),Ai(e,i),We(e,Wt()),n;if(t===6)Ai(e,i);else{if(r=e.current.alternate,!(i&30)&&!eA(r)&&(t=su(e,i),t===2&&(s=mf(e),s!==0&&(i=s,t=Wf(e,s))),t===1))throw n=Aa,Or(e,0),Ai(e,i),We(e,Wt()),n;switch(e.finishedWork=r,e.finishedLanes=i,t){case 0:case 1:throw Error(L(345));case 2:br(e,Fe,Jn);break;case 3:if(Ai(e,i),(i&130023424)===i&&(t=Cg+500-Wt(),10<t)){if($c(e,0)!==0)break;if(r=e.suspendedLanes,(r&i)!==i){Oe(),e.pingedLanes|=e.suspendedLanes&r;break}e.timeoutHandle=Tf(br.bind(null,e,Fe,Jn),t);break}br(e,Fe,Jn);break;case 4:if(Ai(e,i),(i&4194240)===i)break;for(t=e.eventTimes,r=-1;0<i;){var o=31-bn(i);s=1<<o,o=t[o],o>r&&(r=o),i&=~s}if(i=r,i=Wt()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*tA(i/1960))-i,10<i){e.timeoutHandle=Tf(br.bind(null,e,Fe,Jn),i);break}br(e,Fe,Jn);break;case 5:br(e,Fe,Jn);break;default:throw Error(L(329))}}}return We(e,Wt()),e.callbackNode===n?hx.bind(null,e):null}function Wf(e,t){var n=Xo;return e.current.memoizedState.isDehydrated&&(Or(e,t).flags|=256),e=su(e,t),e!==2&&(t=Fe,Fe=n,t!==null&&Hf(t)),e}function Hf(e){Fe===null?Fe=e:Fe.push.apply(Fe,e)}function eA(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var r=n[i],s=r.getSnapshot;r=r.value;try{if(!kn(s(),r))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ai(e,t){for(t&=~Ag,t&=~Gu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-bn(t),i=1<<n;e[n]=-1,t&=~i}}function d_(e){if(lt&6)throw Error(L(327));Ps();var t=$c(e,0);if(!(t&1))return We(e,Wt()),null;var n=su(e,t);if(e.tag!==0&&n===2){var i=mf(e);i!==0&&(t=i,n=Wf(e,i))}if(n===1)throw n=Aa,Or(e,0),Ai(e,t),We(e,Wt()),n;if(n===6)throw Error(L(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,br(e,Fe,Jn),We(e,Wt()),null}function Pg(e,t){var n=lt;lt|=1;try{return e(t)}finally{lt=n,lt===0&&(Bs=Wt()+500,Hu&&cr())}}function Ur(e){Pi!==null&&Pi.tag===0&&!(lt&6)&&Ps();var t=lt;lt|=1;var n=pn.transition,i=mt;try{if(pn.transition=null,mt=1,e)return e()}finally{mt=i,pn.transition=n,lt=t,!(lt&6)&&cr()}}function Rg(){Ke=bs.current,kt(bs)}function Or(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,RI(n)),Gt!==null)for(n=Gt.return;n!==null;){var i=n;switch(hg(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&qc();break;case 3:zs(),kt(Be),kt(Ce),wg();break;case 5:vg(i);break;case 4:zs();break;case 13:kt(Nt);break;case 19:kt(Nt);break;case 10:gg(i.type._context);break;case 22:case 23:Rg()}n=n.return}if(ae=e,Gt=e=Hi(e.current,null),pe=Ke=t,te=0,Aa=null,Ag=Gu=Br=0,Fe=Xo=null,Ar!==null){for(t=0;t<Ar.length;t++)if(n=Ar[t],i=n.interleaved,i!==null){n.interleaved=null;var r=i.next,s=n.pending;if(s!==null){var o=s.next;s.next=r,i.next=o}n.pending=i}Ar=null}return e}function dx(e,t){do{var n=Gt;try{if(pg(),vc.current=eu,tu){for(var i=Lt.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}tu=!1}if($r=0,se=Jt=Lt=null,Go=!1,Sa=0,Ig.current=null,n===null||n.return===null){te=1,Aa=t,Gt=null;break}t:{var s=e,o=n.return,a=n,l=t;if(t=pe,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var d=u.alternate;d?(u.updateQueue=d.updateQueue,u.memoizedState=d.memoizedState,u.lanes=d.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=Zy(o);if(f!==null){f.flags&=-257,t_(f,o,a,s,t),f.mode&1&&Jy(s,c,t),t=f,l=c;var m=t.updateQueue;if(m===null){var _=new Set;_.add(l),t.updateQueue=_}else m.add(l);break t}else{if(!(t&1)){Jy(s,c,t),Mg();break t}l=Error(L(426))}}else if(Pt&&a.mode&1){var v=Zy(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),t_(v,o,a,s,t),dg($s(l,a));break t}}s=l=$s(l,a),te!==4&&(te=2),Xo===null?Xo=[s]:Xo.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var p=G1(s,l,t);Hy(s,p);break t;case 1:a=l;var g=s.type,y=s.stateNode;if(!(s.flags&128)&&(typeof g.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Ui===null||!Ui.has(y)))){s.flags|=65536,t&=-t,s.lanes|=t;var E=Y1(s,a,t);Hy(s,E);break t}}s=s.return}while(s!==null)}gx(n)}catch(b){t=b,Gt===n&&n!==null&&(Gt=n=n.return);continue}break}while(1)}function fx(){var e=nu.current;return nu.current=eu,e===null?eu:e}function Mg(){(te===0||te===3||te===2)&&(te=4),ae===null||!(Br&268435455)&&!(Gu&268435455)||Ai(ae,pe)}function su(e,t){var n=lt;lt|=2;var i=fx();(ae!==e||pe!==t)&&(Jn=null,Or(e,t));do try{nA();break}catch(r){dx(e,r)}while(1);if(pg(),lt=n,nu.current=i,Gt!==null)throw Error(L(261));return ae=null,pe=0,te}function nA(){for(;Gt!==null;)px(Gt)}function iA(){for(;Gt!==null&&!Ak();)px(Gt)}function px(e){var t=yx(e.alternate,e,Ke);e.memoizedProps=e.pendingProps,t===null?gx(e):Gt=t,Ig.current=null}function gx(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=YI(n,t),n!==null){n.flags&=32767,Gt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{te=6,Gt=null;return}}else if(n=GI(n,t,Ke),n!==null){Gt=n;return}if(t=t.sibling,t!==null){Gt=t;return}Gt=t=e}while(t!==null);te===0&&(te=5)}function br(e,t,n){var i=mt,r=pn.transition;try{pn.transition=null,mt=1,rA(e,t,n,i)}finally{pn.transition=r,mt=i}return null}function rA(e,t,n,i){do Ps();while(Pi!==null);if(lt&6)throw Error(L(327));n=e.finishedWork;var r=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(L(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(Fk(e,s),e===ae&&(Gt=ae=null,pe=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Bl||(Bl=!0,_x(zc,function(){return Ps(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=pn.transition,pn.transition=null;var o=mt;mt=1;var a=lt;lt|=4,Ig.current=null,JI(e,n),cx(n,e),TI(Ef),Bc=!!xf,Ef=xf=null,e.current=n,ZI(n),Ck(),lt=a,mt=o,pn.transition=s}else e.current=n;if(Bl&&(Bl=!1,Pi=e,ru=r),s=e.pendingLanes,s===0&&(Ui=null),Mk(n.stateNode),We(e,Wt()),t!==null)for(i=e.onRecoverableError,n=0;n<t.length;n++)r=t[n],i(r.value,{componentStack:r.stack,digest:r.digest});if(iu)throw iu=!1,e=Bf,Bf=null,e;return ru&1&&e.tag!==0&&Ps(),s=e.pendingLanes,s&1?e===Uf?Jo++:(Jo=0,Uf=e):Jo=0,cr(),null}function Ps(){if(Pi!==null){var e=Qw(ru),t=pn.transition,n=mt;try{if(pn.transition=null,mt=16>e?16:e,Pi===null)var i=!1;else{if(e=Pi,Pi=null,ru=0,lt&6)throw Error(L(331));var r=lt;for(lt|=4,U=e.current;U!==null;){var s=U,o=s.child;if(U.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(U=c;U!==null;){var u=U;switch(u.tag){case 0:case 11:case 15:Yo(8,u,s)}var h=u.child;if(h!==null)h.return=u,U=h;else for(;U!==null;){u=U;var d=u.sibling,f=u.return;if(ox(u),u===c){U=null;break}if(d!==null){d.return=f,U=d;break}U=f}}}var m=s.alternate;if(m!==null){var _=m.child;if(_!==null){m.child=null;do{var v=_.sibling;_.sibling=null,_=v}while(_!==null)}}U=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,U=o;else t:for(;U!==null;){if(s=U,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Yo(9,s,s.return)}var p=s.sibling;if(p!==null){p.return=s.return,U=p;break t}U=s.return}}var g=e.current;for(U=g;U!==null;){o=U;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,U=y;else t:for(o=g;U!==null;){if(a=U,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Qu(9,a)}}catch(b){jt(a,a.return,b)}if(a===o){U=null;break t}var E=a.sibling;if(E!==null){E.return=a.return,U=E;break t}U=a.return}}if(lt=r,cr(),Vn&&typeof Vn.onPostCommitFiberRoot=="function")try{Vn.onPostCommitFiberRoot(zu,e)}catch{}i=!0}return i}finally{mt=n,pn.transition=t}}return!1}function f_(e,t,n){t=$s(n,t),t=G1(e,t,1),e=Bi(e,t,1),t=Oe(),e!==null&&(el(e,1,t),We(e,t))}function jt(e,t,n){if(e.tag===3)f_(e,e,n);else for(;t!==null;){if(t.tag===3){f_(t,e,n);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Ui===null||!Ui.has(i))){e=$s(n,e),e=Y1(t,e,1),t=Bi(t,e,1),e=Oe(),t!==null&&(el(t,1,e),We(t,e));break}}t=t.return}}function sA(e,t,n){var i=e.pingCache;i!==null&&i.delete(t),t=Oe(),e.pingedLanes|=e.suspendedLanes&n,ae===e&&(pe&n)===n&&(te===4||te===3&&(pe&130023424)===pe&&500>Wt()-Cg?Or(e,0):Ag|=n),We(e,t)}function mx(e,t){t===0&&(e.mode&1?(t=Ml,Ml<<=1,!(Ml&130023424)&&(Ml=4194304)):t=1);var n=Oe();e=di(e,t),e!==null&&(el(e,t,n),We(e,n))}function oA(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),mx(e,n)}function aA(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,r=e.memoizedState;r!==null&&(n=r.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(L(314))}i!==null&&i.delete(t),mx(e,n)}var yx;yx=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Be.current)$e=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return $e=!1,QI(e,t,n);$e=!!(e.flags&131072)}else $e=!1,Pt&&t.flags&1048576&&w1(t,Gc,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;xc(e,t),e=t.pendingProps;var r=Vs(t,Ce.current);Cs(t,n),r=Eg(null,t,i,e,r,n);var s=bg();return t.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ue(i)?(s=!0,Kc(t)):s=!1,t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,yg(t),r.updater=qu,t.stateNode=r,r._reactInternals=t,Rf(t,i,e,n),t=Of(null,t,i,!0,s,n)):(t.tag=0,Pt&&s&&ug(t),Me(null,t,r,n),t=t.child),t;case 16:i=t.elementType;t:{switch(xc(e,t),e=t.pendingProps,r=i._init,i=r(i._payload),t.type=i,r=t.tag=cA(i),e=vn(i,e),r){case 0:t=Df(null,t,i,e,n);break t;case 1:t=i_(null,t,i,e,n);break t;case 11:t=e_(null,t,i,e,n);break t;case 14:t=n_(null,t,i,vn(i.type,e),n);break t}throw Error(L(306,i,""))}return t;case 0:return i=t.type,r=t.pendingProps,r=t.elementType===i?r:vn(i,r),Df(e,t,i,r,n);case 1:return i=t.type,r=t.pendingProps,r=t.elementType===i?r:vn(i,r),i_(e,t,i,r,n);case 3:t:{if(tx(t),e===null)throw Error(L(387));i=t.pendingProps,s=t.memoizedState,r=s.element,T1(e,t),Jc(t,i,null,n);var o=t.memoizedState;if(i=o.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){r=$s(Error(L(423)),t),t=r_(e,t,i,n,r);break t}else if(i!==r){r=$s(Error(L(424)),t),t=r_(e,t,i,n,r);break t}else for(Ge=$i(t.stateNode.containerInfo.firstChild),Xe=t,Pt=!0,xn=null,n=A1(t,null,i,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Fs(),i===r){t=fi(e,t,n);break t}Me(e,t,i,n)}t=t.child}return t;case 5:return C1(t),e===null&&Af(t),i=t.type,r=t.pendingProps,s=e!==null?e.memoizedProps:null,o=r.children,bf(i,r)?o=null:s!==null&&bf(i,s)&&(t.flags|=32),Z1(e,t),Me(e,t,o,n),t.child;case 6:return e===null&&Af(t),null;case 13:return ex(e,t,n);case 4:return _g(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=js(t,null,i,n):Me(e,t,i,n),t.child;case 11:return i=t.type,r=t.pendingProps,r=t.elementType===i?r:vn(i,r),e_(e,t,i,r,n);case 7:return Me(e,t,t.pendingProps,n),t.child;case 8:return Me(e,t,t.pendingProps.children,n),t.child;case 12:return Me(e,t,t.pendingProps.children,n),t.child;case 10:t:{if(i=t.type._context,r=t.pendingProps,s=t.memoizedProps,o=r.value,xt(Yc,i._currentValue),i._currentValue=o,s!==null)if(kn(s.value,o)){if(s.children===r.children&&!Be.current){t=fi(e,t,n);break t}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===i){if(s.tag===1){l=ai(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Cf(s.return,n,t),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(L(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Cf(o,n,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Me(e,t,r.children,n),t=t.child}return t;case 9:return r=t.type,i=t.pendingProps.children,Cs(t,n),r=gn(r),i=i(r),t.flags|=1,Me(e,t,i,n),t.child;case 14:return i=t.type,r=vn(i,t.pendingProps),r=vn(i.type,r),n_(e,t,i,r,n);case 15:return X1(e,t,t.type,t.pendingProps,n);case 17:return i=t.type,r=t.pendingProps,r=t.elementType===i?r:vn(i,r),xc(e,t),t.tag=1,Ue(i)?(e=!0,Kc(t)):e=!1,Cs(t,n),k1(t,i,r),Rf(t,i,r,n),Of(null,t,i,!0,e,n);case 19:return nx(e,t,n);case 22:return J1(e,t,n)}throw Error(L(156,t.tag))};function _x(e,t){return Ww(e,t)}function lA(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fn(e,t,n,i){return new lA(e,t,n,i)}function Dg(e){return e=e.prototype,!(!e||!e.isReactComponent)}function cA(e){if(typeof e=="function")return Dg(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Jp)return 11;if(e===Zp)return 14}return 2}function Hi(e,t){var n=e.alternate;return n===null?(n=fn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Tc(e,t,n,i,r,s){var o=2;if(i=e,typeof e=="function")Dg(e)&&(o=1);else if(typeof e=="string")o=5;else t:switch(e){case fs:return Nr(n.children,r,s,t);case Xp:o=8,r|=8;break;case tf:return e=fn(12,n,t,r|2),e.elementType=tf,e.lanes=s,e;case ef:return e=fn(13,n,t,r),e.elementType=ef,e.lanes=s,e;case nf:return e=fn(19,n,t,r),e.elementType=nf,e.lanes=s,e;case Iw:return Yu(n,r,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Sw:o=10;break t;case kw:o=9;break t;case Jp:o=11;break t;case Zp:o=14;break t;case Si:o=16,i=null;break t}throw Error(L(130,e==null?e:typeof e,""))}return t=fn(o,n,t,r),t.elementType=e,t.type=i,t.lanes=s,t}function Nr(e,t,n,i){return e=fn(7,e,i,t),e.lanes=n,e}function Yu(e,t,n,i){return e=fn(22,e,i,t),e.elementType=Iw,e.lanes=n,e.stateNode={isHidden:!1},e}function pd(e,t,n){return e=fn(6,e,null,t),e.lanes=n,e}function gd(e,t,n){return t=fn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function uA(e,t,n,i,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Gh(0),this.expirationTimes=Gh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gh(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Og(e,t,n,i,r,s,o,a,l){return e=new uA(e,t,n,a,l),t===1?(t=1,s===!0&&(t|=8)):t=0,s=fn(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},yg(s),e}function hA(e,t,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ds,key:i==null?null:""+i,children:e,containerInfo:t,implementation:n}}function vx(e){if(!e)return Zi;e=e._reactInternals;t:{if(Zr(e)!==e||e.tag!==1)throw Error(L(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break t;case 1:if(Ue(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break t}}t=t.return}while(t!==null);throw Error(L(171))}if(e.tag===1){var n=e.type;if(Ue(n))return _1(e,n,t)}return t}function wx(e,t,n,i,r,s,o,a,l){return e=Og(n,i,!0,e,r,s,o,a,l),e.context=vx(null),n=e.current,i=Oe(),r=Wi(n),s=ai(i,r),s.callback=t??null,Bi(n,s,r),e.current.lanes=r,el(e,r,i),We(e,i),e}function Xu(e,t,n,i){var r=t.current,s=Oe(),o=Wi(r);return n=vx(n),t.context===null?t.context=n:t.pendingContext=n,t=ai(s,o),t.payload={element:e},i=i===void 0?null:i,i!==null&&(t.callback=i),e=Bi(r,t,o),e!==null&&(Tn(e,r,o,s),_c(e,r,o)),o}function ou(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function p_(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Ng(e,t){p_(e,t),(e=e.alternate)&&p_(e,t)}function dA(){return null}var xx=typeof reportError=="function"?reportError:function(e){console.error(e)};function Lg(e){this._internalRoot=e}Ju.prototype.render=Lg.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(L(409));Xu(e,t,null,null)};Ju.prototype.unmount=Lg.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ur(function(){Xu(null,e,null,null)}),t[hi]=null}};function Ju(e){this._internalRoot=e}Ju.prototype.unstable_scheduleHydration=function(e){if(e){var t=Xw();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ii.length&&t!==0&&t<Ii[n].priority;n++);Ii.splice(n,0,e),n===0&&Zw(e)}};function Vg(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Zu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function g_(){}function fA(e,t,n,i,r){if(r){if(typeof i=="function"){var s=i;i=function(){var c=ou(o);s.call(c)}}var o=wx(t,i,e,0,null,!1,!1,"",g_);return e._reactRootContainer=o,e[hi]=o.current,wa(e.nodeType===8?e.parentNode:e),Ur(),o}for(;r=e.lastChild;)e.removeChild(r);if(typeof i=="function"){var a=i;i=function(){var c=ou(l);a.call(c)}}var l=Og(e,0,!1,null,null,!1,!1,"",g_);return e._reactRootContainer=l,e[hi]=l.current,wa(e.nodeType===8?e.parentNode:e),Ur(function(){Xu(t,l,n,i)}),l}function th(e,t,n,i,r){var s=n._reactRootContainer;if(s){var o=s;if(typeof r=="function"){var a=r;r=function(){var l=ou(o);a.call(l)}}Xu(t,o,e,r)}else o=fA(n,t,e,r,i);return ou(o)}Gw=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Po(t.pendingLanes);n!==0&&(ng(t,n|1),We(t,Wt()),!(lt&6)&&(Bs=Wt()+500,cr()))}break;case 13:Ur(function(){var i=di(e,1);if(i!==null){var r=Oe();Tn(i,e,1,r)}}),Ng(e,1)}};ig=function(e){if(e.tag===13){var t=di(e,134217728);if(t!==null){var n=Oe();Tn(t,e,134217728,n)}Ng(e,134217728)}};Yw=function(e){if(e.tag===13){var t=Wi(e),n=di(e,t);if(n!==null){var i=Oe();Tn(n,e,t,i)}Ng(e,t)}};Xw=function(){return mt};Jw=function(e,t){var n=mt;try{return mt=e,t()}finally{mt=n}};ff=function(e,t,n){switch(t){case"input":if(of(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var r=Wu(i);if(!r)throw Error(L(90));Cw(i),of(i,r)}}}break;case"textarea":Rw(e,n);break;case"select":t=n.value,t!=null&&Ss(e,!!n.multiple,t,!1)}};Fw=Pg;jw=Ur;var pA={usingClientEntryPoint:!1,Events:[il,ys,Wu,Lw,Vw,Pg]},vo={findFiberByHostInstance:Ir,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},gA={bundleType:vo.bundleType,version:vo.version,rendererPackageName:vo.rendererPackageName,rendererConfig:vo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_i.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Bw(e),e===null?null:e.stateNode},findFiberByHostInstance:vo.findFiberByHostInstance||dA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ul=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ul.isDisabled&&Ul.supportsFiber)try{zu=Ul.inject(gA),Vn=Ul}catch{}}nn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pA;nn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Vg(t))throw Error(L(200));return hA(e,t,null,n)};nn.createRoot=function(e,t){if(!Vg(e))throw Error(L(299));var n=!1,i="",r=xx;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onRecoverableError!==void 0&&(r=t.onRecoverableError)),t=Og(e,1,!1,null,null,n,!1,i,r),e[hi]=t.current,wa(e.nodeType===8?e.parentNode:e),new Lg(t)};nn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(L(188)):(e=Object.keys(e).join(","),Error(L(268,e)));return e=Bw(t),e=e===null?null:e.stateNode,e};nn.flushSync=function(e){return Ur(e)};nn.hydrate=function(e,t,n){if(!Zu(t))throw Error(L(200));return th(null,e,t,!0,n)};nn.hydrateRoot=function(e,t,n){if(!Vg(e))throw Error(L(405));var i=n!=null&&n.hydratedSources||null,r=!1,s="",o=xx;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=wx(t,null,e,1,n??null,r,!1,s,o),e[hi]=t.current,wa(e),i)for(e=0;e<i.length;e++)n=i[e],r=n._getVersion,r=r(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,r]:t.mutableSourceEagerHydrationData.push(n,r);return new Ju(t)};nn.render=function(e,t,n){if(!Zu(t))throw Error(L(200));return th(null,e,t,!1,n)};nn.unmountComponentAtNode=function(e){if(!Zu(e))throw Error(L(40));return e._reactRootContainer?(Ur(function(){th(null,null,e,!1,function(){e._reactRootContainer=null,e[hi]=null})}),!0):!1};nn.unstable_batchedUpdates=Pg;nn.unstable_renderSubtreeIntoContainer=function(e,t,n,i){if(!Zu(n))throw Error(L(200));if(e==null||e._reactInternals===void 0)throw Error(L(38));return th(e,t,n,!1,i)};nn.version="18.2.0-next-9e3b772b8-20220608";function Ex(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Ex)}catch(e){console.error(e)}}Ex(),ww.exports=nn;var mA=ww.exports,m_=mA;Jd.createRoot=m_.createRoot,Jd.hydrateRoot=m_.hydrateRoot;/**
 * @remix-run/router v1.10.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ca(){return Ca=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Ca.apply(this,arguments)}var Ri;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Ri||(Ri={}));const y_="popstate";function yA(e){e===void 0&&(e={});function t(i,r){let{pathname:s,search:o,hash:a}=i.location;return qf("",{pathname:s,search:o,hash:a},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(i,r){return typeof r=="string"?r:au(r)}return vA(t,n,null,e)}function Yt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Fg(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function _A(){return Math.random().toString(36).substr(2,8)}function __(e,t){return{usr:e.state,key:e.key,idx:t}}function qf(e,t,n,i){return n===void 0&&(n=null),Ca({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?ro(t):t,{state:n,key:t&&t.key||i||_A()})}function au(e){let{pathname:t="/",search:n="",hash:i=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(t+=i.charAt(0)==="#"?i:"#"+i),t}function ro(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let i=e.indexOf("?");i>=0&&(t.search=e.substr(i),e=e.substr(0,i)),e&&(t.pathname=e)}return t}function vA(e,t,n,i){i===void 0&&(i={});let{window:r=document.defaultView,v5Compat:s=!1}=i,o=r.history,a=Ri.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(Ca({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function h(){a=Ri.Pop;let v=u(),p=v==null?null:v-c;c=v,l&&l({action:a,location:_.location,delta:p})}function d(v,p){a=Ri.Push;let g=qf(_.location,v,p);n&&n(g,v),c=u()+1;let y=__(g,c),E=_.createHref(g);try{o.pushState(y,"",E)}catch(b){if(b instanceof DOMException&&b.name==="DataCloneError")throw b;r.location.assign(E)}s&&l&&l({action:a,location:_.location,delta:1})}function f(v,p){a=Ri.Replace;let g=qf(_.location,v,p);n&&n(g,v),c=u();let y=__(g,c),E=_.createHref(g);o.replaceState(y,"",E),s&&l&&l({action:a,location:_.location,delta:0})}function m(v){let p=r.location.origin!=="null"?r.location.origin:r.location.href,g=typeof v=="string"?v:au(v);return Yt(p,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,p)}let _={get action(){return a},get location(){return e(r,o)},listen(v){if(l)throw new Error("A history only accepts one active listener");return r.addEventListener(y_,h),l=v,()=>{r.removeEventListener(y_,h),l=null}},createHref(v){return t(r,v)},createURL:m,encodeLocation(v){let p=m(v);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:d,replace:f,go(v){return o.go(v)}};return _}var v_;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(v_||(v_={}));function wA(e,t,n){n===void 0&&(n="/");let i=typeof t=="string"?ro(t):t,r=jg(i.pathname||"/",n);if(r==null)return null;let s=bx(e);xA(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=PA(s[a],DA(r));return o}function bx(e,t,n,i){t===void 0&&(t=[]),n===void 0&&(n=[]),i===void 0&&(i="");let r=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Yt(l.relativePath.startsWith(i),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(i.length));let c=qi([i,l.relativePath]),u=n.concat(l);s.children&&s.children.length>0&&(Yt(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),bx(s.children,t,u,c)),!(s.path==null&&!s.index)&&t.push({path:c,score:AA(c,s.index),routesMeta:u})};return e.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))r(s,o);else for(let l of Tx(s.path))r(s,o,l)}),t}function Tx(e){let t=e.split("/");if(t.length===0)return[];let[n,...i]=t,r=n.endsWith("?"),s=n.replace(/\?$/,"");if(i.length===0)return r?[s,""]:[s];let o=Tx(i.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),r&&a.push(...o),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function xA(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:CA(t.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}const EA=/^:\w+$/,bA=3,TA=2,SA=1,kA=10,IA=-2,w_=e=>e==="*";function AA(e,t){let n=e.split("/"),i=n.length;return n.some(w_)&&(i+=IA),t&&(i+=TA),n.filter(r=>!w_(r)).reduce((r,s)=>r+(EA.test(s)?bA:s===""?SA:kA),i)}function CA(e,t){return e.length===t.length&&e.slice(0,-1).every((i,r)=>i===t[r])?e[e.length-1]-t[t.length-1]:0}function PA(e,t){let{routesMeta:n}=e,i={},r="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,c=r==="/"?t:t.slice(r.length)||"/",u=RA({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},c);if(!u)return null;Object.assign(i,u.params);let h=a.route;s.push({params:i,pathname:qi([r,u.pathname]),pathnameBase:VA(qi([r,u.pathnameBase])),route:h}),u.pathnameBase!=="/"&&(r=qi([r,u.pathnameBase]))}return s}function RA(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,i]=MA(e.path,e.caseSensitive,e.end),r=t.match(n);if(!r)return null;let s=r[0],o=s.replace(/(.)\/+$/,"$1"),a=r.slice(1);return{params:i.reduce((c,u,h)=>{if(u==="*"){let d=a[h]||"";o=s.slice(0,s.length-d.length).replace(/(.)\/+$/,"$1")}return c[u]=OA(a[h]||"",u),c},{}),pathname:s,pathnameBase:o,pattern:e}}function MA(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Fg(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let i=[],r="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,a)=>(i.push(a),"/([^\\/]+)"));return e.endsWith("*")?(i.push("*"),r+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":e!==""&&e!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,t?void 0:"i"),i]}function DA(e){try{return decodeURI(e)}catch(t){return Fg(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function OA(e,t){try{return decodeURIComponent(e)}catch(n){return Fg(!1,'The value for the URL param "'+t+'" will not be decoded because'+(' the string "'+e+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),e}}function jg(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,i=e.charAt(n);return i&&i!=="/"?null:e.slice(n)||"/"}function NA(e,t){t===void 0&&(t="/");let{pathname:n,search:i="",hash:r=""}=typeof e=="string"?ro(e):e;return{pathname:n?n.startsWith("/")?n:LA(n,t):t,search:FA(i),hash:jA(r)}}function LA(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function md(e,t,n,i){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Sx(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function kx(e,t,n,i){i===void 0&&(i=!1);let r;typeof e=="string"?r=ro(e):(r=Ca({},e),Yt(!r.pathname||!r.pathname.includes("?"),md("?","pathname","search",r)),Yt(!r.pathname||!r.pathname.includes("#"),md("#","pathname","hash",r)),Yt(!r.search||!r.search.includes("#"),md("#","search","hash",r)));let s=e===""||r.pathname==="",o=s?"/":r.pathname,a;if(i||o==null)a=n;else{let h=t.length-1;if(o.startsWith("..")){let d=o.split("/");for(;d[0]==="..";)d.shift(),h-=1;r.pathname=d.join("/")}a=h>=0?t[h]:"/"}let l=NA(r,a),c=o&&o!=="/"&&o.endsWith("/"),u=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const qi=e=>e.join("/").replace(/\/\/+/g,"/"),VA=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),FA=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,jA=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function zA(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Ix=["post","put","patch","delete"];new Set(Ix);const $A=["get",...Ix];new Set($A);/**
 * React Router v6.17.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function lu(){return lu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},lu.apply(this,arguments)}const zg=N.createContext(null),BA=N.createContext(null),so=N.createContext(null),eh=N.createContext(null),ur=N.createContext({outlet:null,matches:[],isDataRoute:!1}),Ax=N.createContext(null);function UA(e,t){let{relative:n}=t===void 0?{}:t;sl()||Yt(!1);let{basename:i,navigator:r}=N.useContext(so),{hash:s,pathname:o,search:a}=Rx(e,{relative:n}),l=o;return i!=="/"&&(l=o==="/"?i:qi([i,o])),r.createHref({pathname:l,search:a,hash:s})}function sl(){return N.useContext(eh)!=null}function nh(){return sl()||Yt(!1),N.useContext(eh).location}function Cx(e){N.useContext(so).static||N.useLayoutEffect(e)}function WA(){let{isDataRoute:e}=N.useContext(ur);return e?iC():HA()}function HA(){sl()||Yt(!1);let e=N.useContext(zg),{basename:t,navigator:n}=N.useContext(so),{matches:i}=N.useContext(ur),{pathname:r}=nh(),s=JSON.stringify(Sx(i).map(l=>l.pathnameBase)),o=N.useRef(!1);return Cx(()=>{o.current=!0}),N.useCallback(function(l,c){if(c===void 0&&(c={}),!o.current)return;if(typeof l=="number"){n.go(l);return}let u=kx(l,JSON.parse(s),r,c.relative==="path");e==null&&t!=="/"&&(u.pathname=u.pathname==="/"?t:qi([t,u.pathname])),(c.replace?n.replace:n.push)(u,c.state,c)},[t,n,s,r,e])}function Px(){let{matches:e}=N.useContext(ur),t=e[e.length-1];return t?t.params:{}}function Rx(e,t){let{relative:n}=t===void 0?{}:t,{matches:i}=N.useContext(ur),{pathname:r}=nh(),s=JSON.stringify(Sx(i).map(o=>o.pathnameBase));return N.useMemo(()=>kx(e,JSON.parse(s),r,n==="path"),[e,s,r,n])}function qA(e,t){return KA(e,t)}function KA(e,t,n){sl()||Yt(!1);let{navigator:i}=N.useContext(so),{matches:r}=N.useContext(ur),s=r[r.length-1],o=s?s.params:{};s&&s.pathname;let a=s?s.pathnameBase:"/";s&&s.route;let l=nh(),c;if(t){var u;let _=typeof t=="string"?ro(t):t;a==="/"||(u=_.pathname)!=null&&u.startsWith(a)||Yt(!1),c=_}else c=l;let h=c.pathname||"/",d=a==="/"?h:h.slice(a.length)||"/",f=wA(e,{pathname:d}),m=JA(f&&f.map(_=>Object.assign({},_,{params:Object.assign({},o,_.params),pathname:qi([a,i.encodeLocation?i.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?a:qi([a,i.encodeLocation?i.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),r,n);return t&&m?N.createElement(eh.Provider,{value:{location:lu({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:Ri.Pop}},m):m}function QA(){let e=nC(),t=zA(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},t),n?N.createElement("pre",{style:r},n):null,s)}const GA=N.createElement(QA,null);class YA extends N.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error||n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error?N.createElement(ur.Provider,{value:this.props.routeContext},N.createElement(Ax.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function XA(e){let{routeContext:t,match:n,children:i}=e,r=N.useContext(zg);return r&&r.static&&r.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=n.route.id),N.createElement(ur.Provider,{value:t},i)}function JA(e,t,n){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),e==null){var r;if((r=n)!=null&&r.errors)e=n.matches;else return null}let s=e,o=(i=n)==null?void 0:i.errors;if(o!=null){let a=s.findIndex(l=>l.route.id&&(o==null?void 0:o[l.route.id]));a>=0||Yt(!1),s=s.slice(0,Math.min(s.length,a+1))}return s.reduceRight((a,l,c)=>{let u=l.route.id?o==null?void 0:o[l.route.id]:null,h=null;n&&(h=l.route.errorElement||GA);let d=t.concat(s.slice(0,c+1)),f=()=>{let m;return u?m=h:l.route.Component?m=N.createElement(l.route.Component,null):l.route.element?m=l.route.element:m=a,N.createElement(XA,{match:l,routeContext:{outlet:a,matches:d,isDataRoute:n!=null},children:m})};return n&&(l.route.ErrorBoundary||l.route.errorElement||c===0)?N.createElement(YA,{location:n.location,revalidation:n.revalidation,component:h,error:u,children:f(),routeContext:{outlet:null,matches:d,isDataRoute:!0}}):f()},null)}var Mx=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Mx||{}),cu=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(cu||{});function ZA(e){let t=N.useContext(zg);return t||Yt(!1),t}function tC(e){let t=N.useContext(BA);return t||Yt(!1),t}function eC(e){let t=N.useContext(ur);return t||Yt(!1),t}function Dx(e){let t=eC(),n=t.matches[t.matches.length-1];return n.route.id||Yt(!1),n.route.id}function nC(){var e;let t=N.useContext(Ax),n=tC(cu.UseRouteError),i=Dx(cu.UseRouteError);return t||((e=n.errors)==null?void 0:e[i])}function iC(){let{router:e}=ZA(Mx.UseNavigateStable),t=Dx(cu.UseNavigateStable),n=N.useRef(!1);return Cx(()=>{n.current=!0}),N.useCallback(function(r,s){s===void 0&&(s={}),n.current&&(typeof r=="number"?e.navigate(r):e.navigate(r,lu({fromRouteId:t},s)))},[e,t])}function Mo(e){Yt(!1)}function rC(e){let{basename:t="/",children:n=null,location:i,navigationType:r=Ri.Pop,navigator:s,static:o=!1}=e;sl()&&Yt(!1);let a=t.replace(/^\/*/,"/"),l=N.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof i=="string"&&(i=ro(i));let{pathname:c="/",search:u="",hash:h="",state:d=null,key:f="default"}=i,m=N.useMemo(()=>{let _=jg(c,a);return _==null?null:{location:{pathname:_,search:u,hash:h,state:d,key:f},navigationType:r}},[a,c,u,h,d,f,r]);return m==null?null:N.createElement(so.Provider,{value:l},N.createElement(eh.Provider,{children:n,value:m}))}function sC(e){let{children:t,location:n}=e;return qA(Kf(t),n)}new Promise(()=>{});function Kf(e,t){t===void 0&&(t=[]);let n=[];return N.Children.forEach(e,(i,r)=>{if(!N.isValidElement(i))return;let s=[...t,r];if(i.type===N.Fragment){n.push.apply(n,Kf(i.props.children,s));return}i.type!==Mo&&Yt(!1),!i.props.index||!i.props.children||Yt(!1);let o={id:i.props.id||s.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(o.children=Kf(i.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.17.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Qf(){return Qf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Qf.apply(this,arguments)}function oC(e,t){if(e==null)return{};var n={},i=Object.keys(e),r,s;for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&(n[r]=e[r]);return n}function aC(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function lC(e,t){return e.button===0&&(!t||t==="_self")&&!aC(e)}const cC=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],uC="startTransition",x_=ok[uC];function hC(e){let{basename:t,children:n,future:i,window:r}=e,s=N.useRef();s.current==null&&(s.current=yA({window:r,v5Compat:!0}));let o=s.current,[a,l]=N.useState({action:o.action,location:o.location}),{v7_startTransition:c}=i||{},u=N.useCallback(h=>{c&&x_?x_(()=>l(h)):l(h)},[l,c]);return N.useLayoutEffect(()=>o.listen(u),[o,u]),N.createElement(rC,{basename:t,children:n,location:a.location,navigationType:a.action,navigator:o})}const dC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",fC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Rs=N.forwardRef(function(t,n){let{onClick:i,relative:r,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:u,unstable_viewTransition:h}=t,d=oC(t,cC),{basename:f}=N.useContext(so),m,_=!1;if(typeof c=="string"&&fC.test(c)&&(m=c,dC))try{let y=new URL(window.location.href),E=c.startsWith("//")?new URL(y.protocol+c):new URL(c),b=jg(E.pathname,f);E.origin===y.origin&&b!=null?c=b+E.search+E.hash:_=!0}catch{}let v=UA(c,{relative:r}),p=pC(c,{replace:o,state:a,target:l,preventScrollReset:u,relative:r,unstable_viewTransition:h});function g(y){i&&i(y),y.defaultPrevented||p(y)}return N.createElement("a",Qf({},d,{href:m||v,onClick:_||s?i:g,ref:n,target:l}))});var E_;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(E_||(E_={}));var b_;(function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(b_||(b_={}));function pC(e,t){let{target:n,replace:i,state:r,preventScrollReset:s,relative:o,unstable_viewTransition:a}=t===void 0?{}:t,l=WA(),c=nh(),u=Rx(e,{relative:o});return N.useCallback(h=>{if(lC(h,n)){h.preventDefault();let d=i!==void 0?i:au(c)===au(u);l(e,{replace:d,state:r,preventScrollReset:s,relative:o,unstable_viewTransition:a})}},[c,l,u,i,r,n,e,s,o,a])}const T_=({total:e,title:t})=>C.jsxs("div",{className:`card-1  d-inline-block rounded\r
d-flex flex-column gap-2 m-1`,children:[C.jsx("p",{className:"",children:t||"notgiven"}),C.jsx("p",{className:"align-self-end text-secondary",children:e||0})]});/*!
 * @kurkle/color v0.3.2
 * https://github.com/kurkle/color#readme
 * (c) 2023 Jukka Kurkela
 * Released under the MIT License
 */function ol(e){return e+.5|0}const Mi=(e,t,n)=>Math.max(Math.min(e,n),t);function Do(e){return Mi(ol(e*2.55),0,255)}function Ki(e){return Mi(ol(e*255),0,255)}function ti(e){return Mi(ol(e/2.55)/100,0,1)}function S_(e){return Mi(ol(e*100),0,100)}const cn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Gf=[..."0123456789ABCDEF"],gC=e=>Gf[e&15],mC=e=>Gf[(e&240)>>4]+Gf[e&15],Wl=e=>(e&240)>>4===(e&15),yC=e=>Wl(e.r)&&Wl(e.g)&&Wl(e.b)&&Wl(e.a);function _C(e){var t=e.length,n;return e[0]==="#"&&(t===4||t===5?n={r:255&cn[e[1]]*17,g:255&cn[e[2]]*17,b:255&cn[e[3]]*17,a:t===5?cn[e[4]]*17:255}:(t===7||t===9)&&(n={r:cn[e[1]]<<4|cn[e[2]],g:cn[e[3]]<<4|cn[e[4]],b:cn[e[5]]<<4|cn[e[6]],a:t===9?cn[e[7]]<<4|cn[e[8]]:255})),n}const vC=(e,t)=>e<255?t(e):"";function wC(e){var t=yC(e)?gC:mC;return e?"#"+t(e.r)+t(e.g)+t(e.b)+vC(e.a,t):void 0}const xC=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Ox(e,t,n){const i=t*Math.min(n,1-n),r=(s,o=(s+e/30)%12)=>n-i*Math.max(Math.min(o-3,9-o,1),-1);return[r(0),r(8),r(4)]}function EC(e,t,n){const i=(r,s=(r+e/60)%6)=>n-n*t*Math.max(Math.min(s,4-s,1),0);return[i(5),i(3),i(1)]}function bC(e,t,n){const i=Ox(e,1,.5);let r;for(t+n>1&&(r=1/(t+n),t*=r,n*=r),r=0;r<3;r++)i[r]*=1-t-n,i[r]+=t;return i}function TC(e,t,n,i,r){return e===r?(t-n)/i+(t<n?6:0):t===r?(n-e)/i+2:(e-t)/i+4}function $g(e){const n=e.r/255,i=e.g/255,r=e.b/255,s=Math.max(n,i,r),o=Math.min(n,i,r),a=(s+o)/2;let l,c,u;return s!==o&&(u=s-o,c=a>.5?u/(2-s-o):u/(s+o),l=TC(n,i,r,u,s),l=l*60+.5),[l|0,c||0,a]}function Bg(e,t,n,i){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,i)).map(Ki)}function Ug(e,t,n){return Bg(Ox,e,t,n)}function SC(e,t,n){return Bg(bC,e,t,n)}function kC(e,t,n){return Bg(EC,e,t,n)}function Nx(e){return(e%360+360)%360}function IC(e){const t=xC.exec(e);let n=255,i;if(!t)return;t[5]!==i&&(n=t[6]?Do(+t[5]):Ki(+t[5]));const r=Nx(+t[2]),s=+t[3]/100,o=+t[4]/100;return t[1]==="hwb"?i=SC(r,s,o):t[1]==="hsv"?i=kC(r,s,o):i=Ug(r,s,o),{r:i[0],g:i[1],b:i[2],a:n}}function AC(e,t){var n=$g(e);n[0]=Nx(n[0]+t),n=Ug(n),e.r=n[0],e.g=n[1],e.b=n[2]}function CC(e){if(!e)return;const t=$g(e),n=t[0],i=S_(t[1]),r=S_(t[2]);return e.a<255?`hsla(${n}, ${i}%, ${r}%, ${ti(e.a)})`:`hsl(${n}, ${i}%, ${r}%)`}const k_={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},I_={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function PC(){const e={},t=Object.keys(I_),n=Object.keys(k_);let i,r,s,o,a;for(i=0;i<t.length;i++){for(o=a=t[i],r=0;r<n.length;r++)s=n[r],a=a.replace(s,k_[s]);s=parseInt(I_[o],16),e[a]=[s>>16&255,s>>8&255,s&255]}return e}let Hl;function RC(e){Hl||(Hl=PC(),Hl.transparent=[0,0,0,0]);const t=Hl[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const MC=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function DC(e){const t=MC.exec(e);let n=255,i,r,s;if(t){if(t[7]!==i){const o=+t[7];n=t[8]?Do(o):Mi(o*255,0,255)}return i=+t[1],r=+t[3],s=+t[5],i=255&(t[2]?Do(i):Mi(i,0,255)),r=255&(t[4]?Do(r):Mi(r,0,255)),s=255&(t[6]?Do(s):Mi(s,0,255)),{r:i,g:r,b:s,a:n}}}function OC(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${ti(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}const yd=e=>e<=.0031308?e*12.92:Math.pow(e,1/2.4)*1.055-.055,os=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function NC(e,t,n){const i=os(ti(e.r)),r=os(ti(e.g)),s=os(ti(e.b));return{r:Ki(yd(i+n*(os(ti(t.r))-i))),g:Ki(yd(r+n*(os(ti(t.g))-r))),b:Ki(yd(s+n*(os(ti(t.b))-s))),a:e.a+n*(t.a-e.a)}}function ql(e,t,n){if(e){let i=$g(e);i[t]=Math.max(0,Math.min(i[t]+i[t]*n,t===0?360:1)),i=Ug(i),e.r=i[0],e.g=i[1],e.b=i[2]}}function Lx(e,t){return e&&Object.assign(t||{},e)}function A_(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=Ki(e[3]))):(t=Lx(e,{r:0,g:0,b:0,a:1}),t.a=Ki(t.a)),t}function LC(e){return e.charAt(0)==="r"?DC(e):IC(e)}class Pa{constructor(t){if(t instanceof Pa)return t;const n=typeof t;let i;n==="object"?i=A_(t):n==="string"&&(i=_C(t)||RC(t)||LC(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=Lx(this._rgb);return t&&(t.a=ti(t.a)),t}set rgb(t){this._rgb=A_(t)}rgbString(){return this._valid?OC(this._rgb):void 0}hexString(){return this._valid?wC(this._rgb):void 0}hslString(){return this._valid?CC(this._rgb):void 0}mix(t,n){if(t){const i=this.rgb,r=t.rgb;let s;const o=n===s?.5:n,a=2*o-1,l=i.a-r.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;s=1-c,i.r=255&c*i.r+s*r.r+.5,i.g=255&c*i.g+s*r.g+.5,i.b=255&c*i.b+s*r.b+.5,i.a=o*i.a+(1-o)*r.a,this.rgb=i}return this}interpolate(t,n){return t&&(this._rgb=NC(this._rgb,t._rgb,n)),this}clone(){return new Pa(this.rgb)}alpha(t){return this._rgb.a=Ki(t),this}clearer(t){const n=this._rgb;return n.a*=1-t,this}greyscale(){const t=this._rgb,n=ol(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=n,this}opaquer(t){const n=this._rgb;return n.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return ql(this._rgb,2,t),this}darken(t){return ql(this._rgb,2,-t),this}saturate(t){return ql(this._rgb,1,t),this}desaturate(t){return ql(this._rgb,1,-t),this}rotate(t){return AC(this._rgb,t),this}}/*!
 * Chart.js v4.4.0
 * https://www.chartjs.org
 * (c) 2023 Chart.js Contributors
 * Released under the MIT License
 */function Gn(){}const VC=(()=>{let e=0;return()=>e++})();function ct(e){return e===null||typeof e>"u"}function St(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function it(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}function zt(e){return(typeof e=="number"||e instanceof Number)&&isFinite(+e)}function qe(e,t){return zt(e)?e:t}function tt(e,t){return typeof e>"u"?t:e}const FC=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100:+e/t,Vx=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*t:+e;function wt(e,t,n){if(e&&typeof e.call=="function")return e.apply(n,t)}function gt(e,t,n,i){let r,s,o;if(St(e))if(s=e.length,i)for(r=s-1;r>=0;r--)t.call(n,e[r],r);else for(r=0;r<s;r++)t.call(n,e[r],r);else if(it(e))for(o=Object.keys(e),s=o.length,r=0;r<s;r++)t.call(n,e[o[r]],o[r])}function uu(e,t){let n,i,r,s;if(!e||!t||e.length!==t.length)return!1;for(n=0,i=e.length;n<i;++n)if(r=e[n],s=t[n],r.datasetIndex!==s.datasetIndex||r.index!==s.index)return!1;return!0}function hu(e){if(St(e))return e.map(hu);if(it(e)){const t=Object.create(null),n=Object.keys(e),i=n.length;let r=0;for(;r<i;++r)t[n[r]]=hu(e[n[r]]);return t}return e}function Fx(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function jC(e,t,n,i){if(!Fx(e))return;const r=t[e],s=n[e];it(r)&&it(s)?Ra(r,s,i):t[e]=hu(s)}function Ra(e,t,n){const i=St(t)?t:[t],r=i.length;if(!it(e))return e;n=n||{};const s=n.merger||jC;let o;for(let a=0;a<r;++a){if(o=i[a],!it(o))continue;const l=Object.keys(o);for(let c=0,u=l.length;c<u;++c)s(l[c],e,o,n)}return e}function Zo(e,t){return Ra(e,t,{merger:zC})}function zC(e,t,n){if(!Fx(e))return;const i=t[e],r=n[e];it(i)&&it(r)?Zo(i,r):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=hu(r))}const C_={"":e=>e,x:e=>e.x,y:e=>e.y};function $C(e){const t=e.split("."),n=[];let i="";for(const r of t)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(n.push(i),i="");return n}function BC(e){const t=$C(e);return n=>{for(const i of t){if(i==="")break;n=n&&n[i]}return n}}function tr(e,t){return(C_[t]||(C_[t]=BC(t)))(e)}function Wg(e){return e.charAt(0).toUpperCase()+e.slice(1)}const Ma=e=>typeof e<"u",er=e=>typeof e=="function",P_=(e,t)=>{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0};function UC(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}const At=Math.PI,It=2*At,WC=It+At,du=Number.POSITIVE_INFINITY,HC=At/180,Ht=At/2,_r=At/4,R_=At*2/3,Di=Math.log10,jn=Math.sign;function ta(e,t,n){return Math.abs(e-t)<n}function M_(e){const t=Math.round(e);e=ta(e,t,e/1e3)?t:e;const n=Math.pow(10,Math.floor(Di(e))),i=e/n;return(i<=1?1:i<=2?2:i<=5?5:10)*n}function qC(e){const t=[],n=Math.sqrt(e);let i;for(i=1;i<n;i++)e%i===0&&(t.push(i),t.push(e/i));return n===(n|0)&&t.push(n),t.sort((r,s)=>r-s).pop(),t}function Us(e){return!isNaN(parseFloat(e))&&isFinite(e)}function KC(e,t){const n=Math.round(e);return n-t<=e&&n+t>=e}function jx(e,t,n){let i,r,s;for(i=0,r=e.length;i<r;i++)s=e[i][n],isNaN(s)||(t.min=Math.min(t.min,s),t.max=Math.max(t.max,s))}function En(e){return e*(At/180)}function Hg(e){return e*(180/At)}function D_(e){if(!zt(e))return;let t=1,n=0;for(;Math.round(e*t)/t!==e;)t*=10,n++;return n}function zx(e,t){const n=t.x-e.x,i=t.y-e.y,r=Math.sqrt(n*n+i*i);let s=Math.atan2(i,n);return s<-.5*At&&(s+=It),{angle:s,distance:r}}function Yf(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function QC(e,t){return(e-t+WC)%It-At}function Qe(e){return(e%It+It)%It}function Da(e,t,n,i){const r=Qe(e),s=Qe(t),o=Qe(n),a=Qe(s-r),l=Qe(o-r),c=Qe(r-s),u=Qe(r-o);return r===s||r===o||i&&s===o||a>l&&c<u}function oe(e,t,n){return Math.max(t,Math.min(n,e))}function GC(e){return oe(e,-32768,32767)}function ii(e,t,n,i=1e-6){return e>=Math.min(t,n)-i&&e<=Math.max(t,n)+i}function qg(e,t,n){n=n||(o=>e[o]<t);let i=e.length-1,r=0,s;for(;i-r>1;)s=r+i>>1,n(s)?r=s:i=s;return{lo:r,hi:i}}const ri=(e,t,n,i)=>qg(e,n,i?r=>{const s=e[r][t];return s<n||s===n&&e[r+1][t]===n}:r=>e[r][t]<n),YC=(e,t,n)=>qg(e,n,i=>e[i][t]>=n);function XC(e,t,n){let i=0,r=e.length;for(;i<r&&e[i]<t;)i++;for(;r>i&&e[r-1]>n;)r--;return i>0||r<e.length?e.slice(i,r):e}const $x=["push","pop","shift","splice","unshift"];function JC(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),$x.forEach(n=>{const i="_onData"+Wg(n),r=e[n];Object.defineProperty(e,n,{configurable:!0,enumerable:!1,value(...s){const o=r.apply(this,s);return e._chartjs.listeners.forEach(a=>{typeof a[i]=="function"&&a[i](...s)}),o}})})}function O_(e,t){const n=e._chartjs;if(!n)return;const i=n.listeners,r=i.indexOf(t);r!==-1&&i.splice(r,1),!(i.length>0)&&($x.forEach(s=>{delete e[s]}),delete e._chartjs)}function Bx(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const Ux=function(){return typeof window>"u"?function(e){return e()}:window.requestAnimationFrame}();function Wx(e,t){let n=[],i=!1;return function(...r){n=r,i||(i=!0,Ux.call(window,()=>{i=!1,e.apply(t,n)}))}}function ZC(e,t){let n;return function(...i){return t?(clearTimeout(n),n=setTimeout(e,t,i)):e.apply(this,i),t}}const Kg=e=>e==="start"?"left":e==="end"?"right":"center",Ee=(e,t,n)=>e==="start"?t:e==="end"?n:(t+n)/2,tP=(e,t,n,i)=>e===(i?"left":"right")?n:e==="center"?(t+n)/2:t;function Hx(e,t,n){const i=t.length;let r=0,s=i;if(e._sorted){const{iScale:o,_parsed:a}=e,l=o.axis,{min:c,max:u,minDefined:h,maxDefined:d}=o.getUserBounds();h&&(r=oe(Math.min(ri(a,l,c).lo,n?i:ri(t,l,o.getPixelForValue(c)).lo),0,i-1)),d?s=oe(Math.max(ri(a,o.axis,u,!0).hi+1,n?0:ri(t,l,o.getPixelForValue(u),!0).hi+1),r,i)-r:s=i-r}return{start:r,count:s}}function qx(e){const{xScale:t,yScale:n,_scaleRanges:i}=e,r={xmin:t.min,xmax:t.max,ymin:n.min,ymax:n.max};if(!i)return e._scaleRanges=r,!0;const s=i.xmin!==t.min||i.xmax!==t.max||i.ymin!==n.min||i.ymax!==n.max;return Object.assign(i,r),s}const Kl=e=>e===0||e===1,N_=(e,t,n)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*It/n)),L_=(e,t,n)=>Math.pow(2,-10*e)*Math.sin((e-t)*It/n)+1,ea={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*Ht)+1,easeOutSine:e=>Math.sin(e*Ht),easeInOutSine:e=>-.5*(Math.cos(At*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>Kl(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>Kl(e)?e:N_(e,.075,.3),easeOutElastic:e=>Kl(e)?e:L_(e,.075,.3),easeInOutElastic(e){return Kl(e)?e:e<.5?.5*N_(e*2,.1125,.45):.5+.5*L_(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-ea.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?ea.easeInBounce(e*2)*.5:ea.easeOutBounce(e*2-1)*.5+.5};function Qg(e){if(e&&typeof e=="object"){const t=e.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function V_(e){return Qg(e)?e:new Pa(e)}function _d(e){return Qg(e)?e:new Pa(e).saturate(.5).darken(.1).hexString()}const eP=["x","y","borderWidth","radius","tension"],nP=["color","borderColor","backgroundColor"];function iP(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),e.set("animations",{colors:{type:"color",properties:nP},numbers:{type:"number",properties:eP}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function rP(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const F_=new Map;function sP(e,t){t=t||{};const n=e+JSON.stringify(t);let i=F_.get(n);return i||(i=new Intl.NumberFormat(e,t),F_.set(n,i)),i}function al(e,t,n){return sP(t,n).format(e)}const Kx={values(e){return St(e)?e:""+e},numeric(e,t,n){if(e===0)return"0";const i=this.chart.options.locale;let r,s=e;if(n.length>1){const c=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(c<1e-4||c>1e15)&&(r="scientific"),s=oP(e,n)}const o=Di(Math.abs(s)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:r,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),al(e,i,l)},logarithmic(e,t,n){if(e===0)return"0";const i=n[t].significand||e/Math.pow(10,Math.floor(Di(e)));return[1,2,3,5,10,15].includes(i)||t>.8*n.length?Kx.numeric.call(this,e,t,n):""}};function oP(e,t){let n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(n)>=1&&e!==Math.floor(e)&&(n=e-Math.floor(e)),n}var ih={formatters:Kx};function aP(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,n)=>n.lineWidth,tickColor:(t,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:ih.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const Wr=Object.create(null),Xf=Object.create(null);function na(e,t){if(!t)return e;const n=t.split(".");for(let i=0,r=n.length;i<r;++i){const s=n[i];e=e[s]||(e[s]=Object.create(null))}return e}function vd(e,t,n){return typeof t=="string"?Ra(na(e,t),n):Ra(na(e,""),t)}class lP{constructor(t,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,r)=>_d(r.backgroundColor),this.hoverBorderColor=(i,r)=>_d(r.borderColor),this.hoverColor=(i,r)=>_d(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(n)}set(t,n){return vd(this,t,n)}get(t){return na(this,t)}describe(t,n){return vd(Xf,t,n)}override(t,n){return vd(Wr,t,n)}route(t,n,i,r){const s=na(this,t),o=na(this,i),a="_"+n;Object.defineProperties(s,{[a]:{value:s[n],writable:!0},[n]:{enumerable:!0,get(){const l=this[a],c=o[r];return it(l)?Object.assign({},c,l):tt(l,c)},set(l){this[a]=l}}})}apply(t){t.forEach(n=>n(this))}}var $t=new lP({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[iP,rP,aP]);function cP(e){return!e||ct(e.size)||ct(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function fu(e,t,n,i,r){let s=t[r];return s||(s=t[r]=e.measureText(r).width,n.push(r)),s>i&&(i=s),i}function uP(e,t,n,i){i=i||{};let r=i.data=i.data||{},s=i.garbageCollect=i.garbageCollect||[];i.font!==t&&(r=i.data={},s=i.garbageCollect=[],i.font=t),e.save(),e.font=t;let o=0;const a=n.length;let l,c,u,h,d;for(l=0;l<a;l++)if(h=n[l],h!=null&&!St(h))o=fu(e,r,s,o,h);else if(St(h))for(c=0,u=h.length;c<u;c++)d=h[c],d!=null&&!St(d)&&(o=fu(e,r,s,o,d));e.restore();const f=s.length/2;if(f>n.length){for(l=0;l<f;l++)delete r[s[l]];s.splice(0,f)}return o}function vr(e,t,n){const i=e.currentDevicePixelRatio,r=n!==0?Math.max(n/2,.5):0;return Math.round((t-r)*i)/i+r}function j_(e,t){t=t||e.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore()}function Jf(e,t,n,i){Qx(e,t,n,i,null)}function Qx(e,t,n,i,r){let s,o,a,l,c,u,h,d;const f=t.pointStyle,m=t.rotation,_=t.radius;let v=(m||0)*HC;if(f&&typeof f=="object"&&(s=f.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){e.save(),e.translate(n,i),e.rotate(v),e.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),e.restore();return}if(!(isNaN(_)||_<=0)){switch(e.beginPath(),f){default:r?e.ellipse(n,i,r/2,_,0,0,It):e.arc(n,i,_,0,It),e.closePath();break;case"triangle":u=r?r/2:_,e.moveTo(n+Math.sin(v)*u,i-Math.cos(v)*_),v+=R_,e.lineTo(n+Math.sin(v)*u,i-Math.cos(v)*_),v+=R_,e.lineTo(n+Math.sin(v)*u,i-Math.cos(v)*_),e.closePath();break;case"rectRounded":c=_*.516,l=_-c,o=Math.cos(v+_r)*l,h=Math.cos(v+_r)*(r?r/2-c:l),a=Math.sin(v+_r)*l,d=Math.sin(v+_r)*(r?r/2-c:l),e.arc(n-h,i-a,c,v-At,v-Ht),e.arc(n+d,i-o,c,v-Ht,v),e.arc(n+h,i+a,c,v,v+Ht),e.arc(n-d,i+o,c,v+Ht,v+At),e.closePath();break;case"rect":if(!m){l=Math.SQRT1_2*_,u=r?r/2:l,e.rect(n-u,i-l,2*u,2*l);break}v+=_r;case"rectRot":h=Math.cos(v)*(r?r/2:_),o=Math.cos(v)*_,a=Math.sin(v)*_,d=Math.sin(v)*(r?r/2:_),e.moveTo(n-h,i-a),e.lineTo(n+d,i-o),e.lineTo(n+h,i+a),e.lineTo(n-d,i+o),e.closePath();break;case"crossRot":v+=_r;case"cross":h=Math.cos(v)*(r?r/2:_),o=Math.cos(v)*_,a=Math.sin(v)*_,d=Math.sin(v)*(r?r/2:_),e.moveTo(n-h,i-a),e.lineTo(n+h,i+a),e.moveTo(n+d,i-o),e.lineTo(n-d,i+o);break;case"star":h=Math.cos(v)*(r?r/2:_),o=Math.cos(v)*_,a=Math.sin(v)*_,d=Math.sin(v)*(r?r/2:_),e.moveTo(n-h,i-a),e.lineTo(n+h,i+a),e.moveTo(n+d,i-o),e.lineTo(n-d,i+o),v+=_r,h=Math.cos(v)*(r?r/2:_),o=Math.cos(v)*_,a=Math.sin(v)*_,d=Math.sin(v)*(r?r/2:_),e.moveTo(n-h,i-a),e.lineTo(n+h,i+a),e.moveTo(n+d,i-o),e.lineTo(n-d,i+o);break;case"line":o=r?r/2:Math.cos(v)*_,a=Math.sin(v)*_,e.moveTo(n-o,i-a),e.lineTo(n+o,i+a);break;case"dash":e.moveTo(n,i),e.lineTo(n+Math.cos(v)*(r?r/2:_),i+Math.sin(v)*_);break;case!1:e.closePath();break}e.fill(),t.borderWidth>0&&e.stroke()}}function si(e,t,n){return n=n||.5,!t||e&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function rh(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function sh(e){e.restore()}function hP(e,t,n,i,r){if(!t)return e.lineTo(n.x,n.y);if(r==="middle"){const s=(t.x+n.x)/2;e.lineTo(s,t.y),e.lineTo(s,n.y)}else r==="after"!=!!i?e.lineTo(t.x,n.y):e.lineTo(n.x,t.y);e.lineTo(n.x,n.y)}function dP(e,t,n,i){if(!t)return e.lineTo(n.x,n.y);e.bezierCurveTo(i?t.cp1x:t.cp2x,i?t.cp1y:t.cp2y,i?n.cp2x:n.cp1x,i?n.cp2y:n.cp1y,n.x,n.y)}function fP(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),ct(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function pP(e,t,n,i,r){if(r.strikethrough||r.underline){const s=e.measureText(i),o=t-s.actualBoundingBoxLeft,a=t+s.actualBoundingBoxRight,l=n-s.actualBoundingBoxAscent,c=n+s.actualBoundingBoxDescent,u=r.strikethrough?(l+c)/2:c;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=r.decorationWidth||2,e.moveTo(o,u),e.lineTo(a,u),e.stroke()}}function gP(e,t){const n=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=n}function Hr(e,t,n,i,r,s={}){const o=St(t)?t:[t],a=s.strokeWidth>0&&s.strokeColor!=="";let l,c;for(e.save(),e.font=r.string,fP(e,s),l=0;l<o.length;++l)c=o[l],s.backdrop&&gP(e,s.backdrop),a&&(s.strokeColor&&(e.strokeStyle=s.strokeColor),ct(s.strokeWidth)||(e.lineWidth=s.strokeWidth),e.strokeText(c,n,i,s.maxWidth)),e.fillText(c,n,i,s.maxWidth),pP(e,n,i,c,s),i+=Number(r.lineHeight);e.restore()}function Oa(e,t){const{x:n,y:i,w:r,h:s,radius:o}=t;e.arc(n+o.topLeft,i+o.topLeft,o.topLeft,1.5*At,At,!0),e.lineTo(n,i+s-o.bottomLeft),e.arc(n+o.bottomLeft,i+s-o.bottomLeft,o.bottomLeft,At,Ht,!0),e.lineTo(n+r-o.bottomRight,i+s),e.arc(n+r-o.bottomRight,i+s-o.bottomRight,o.bottomRight,Ht,0,!0),e.lineTo(n+r,i+o.topRight),e.arc(n+r-o.topRight,i+o.topRight,o.topRight,0,-Ht,!0),e.lineTo(n+o.topLeft,i)}const mP=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,yP=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function _P(e,t){const n=(""+e).match(mP);if(!n||n[1]==="normal")return t*1.2;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100;break}return t*e}const vP=e=>+e||0;function Gg(e,t){const n={},i=it(t),r=i?Object.keys(t):t,s=it(e)?i?o=>tt(e[o],e[t[o]]):o=>e[o]:()=>e;for(const o of r)n[o]=vP(s(o));return n}function Gx(e){return Gg(e,{top:"y",right:"x",bottom:"y",left:"x"})}function Lr(e){return Gg(e,["topLeft","topRight","bottomLeft","bottomRight"])}function Pe(e){const t=Gx(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function ee(e,t){e=e||{},t=t||$t.font;let n=tt(e.size,t.size);typeof n=="string"&&(n=parseInt(n,10));let i=tt(e.style,t.style);i&&!(""+i).match(yP)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const r={family:tt(e.family,t.family),lineHeight:_P(tt(e.lineHeight,t.lineHeight),n),size:n,style:i,weight:tt(e.weight,t.weight),string:""};return r.string=cP(r),r}function Oo(e,t,n,i){let r=!0,s,o,a;for(s=0,o=e.length;s<o;++s)if(a=e[s],a!==void 0&&(t!==void 0&&typeof a=="function"&&(a=a(t),r=!1),n!==void 0&&St(a)&&(a=a[n%a.length],r=!1),a!==void 0))return i&&!r&&(i.cacheable=!1),a}function wP(e,t,n){const{min:i,max:r}=e,s=Vx(t,(r-i)/2),o=(a,l)=>n&&a===0?0:a+l;return{min:o(i,-Math.abs(s)),max:o(r,s)}}function hr(e,t){return Object.assign(Object.create(e),t)}function Yg(e,t=[""],n,i,r=()=>e[0]){const s=n||e;typeof i>"u"&&(i=Zx("_fallback",e));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:s,_fallback:i,_getTarget:r,override:a=>Yg([a,...e],t,s,i)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete a._keys,delete e[0][l],!0},get(a,l){return Xx(a,l,()=>AP(l,t,e,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(a,l){return $_(a).includes(l)},ownKeys(a){return $_(a)},set(a,l,c){const u=a._storage||(a._storage=r());return a[l]=u[l]=c,delete a._keys,!0}})}function Ws(e,t,n,i){const r={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:Yx(e,i),setContext:s=>Ws(e,s,n,i),override:s=>Ws(e.override(s),t,n,i)};return new Proxy(r,{deleteProperty(s,o){return delete s[o],delete e[o],!0},get(s,o,a){return Xx(s,o,()=>EP(s,o,a))},getOwnPropertyDescriptor(s,o){return s._descriptors.allKeys?Reflect.has(e,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,o)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(s,o){return Reflect.has(e,o)},ownKeys(){return Reflect.ownKeys(e)},set(s,o,a){return e[o]=a,delete s[o],!0}})}function Yx(e,t={scriptable:!0,indexable:!0}){const{_scriptable:n=t.scriptable,_indexable:i=t.indexable,_allKeys:r=t.allKeys}=e;return{allKeys:r,scriptable:n,indexable:i,isScriptable:er(n)?n:()=>n,isIndexable:er(i)?i:()=>i}}const xP=(e,t)=>e?e+Wg(t):t,Xg=(e,t)=>it(t)&&e!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function Xx(e,t,n){if(Object.prototype.hasOwnProperty.call(e,t))return e[t];const i=n();return e[t]=i,i}function EP(e,t,n){const{_proxy:i,_context:r,_subProxy:s,_descriptors:o}=e;let a=i[t];return er(a)&&o.isScriptable(t)&&(a=bP(t,a,e,n)),St(a)&&a.length&&(a=TP(t,a,e,o.isIndexable)),Xg(t,a)&&(a=Ws(a,r,s&&s[t],o)),a}function bP(e,t,n,i){const{_proxy:r,_context:s,_subProxy:o,_stack:a}=n;if(a.has(e))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+e);a.add(e);let l=t(s,o||i);return a.delete(e),Xg(e,l)&&(l=Jg(r._scopes,r,e,l)),l}function TP(e,t,n,i){const{_proxy:r,_context:s,_subProxy:o,_descriptors:a}=n;if(typeof s.index<"u"&&i(e))return t[s.index%t.length];if(it(t[0])){const l=t,c=r._scopes.filter(u=>u!==l);t=[];for(const u of l){const h=Jg(c,r,e,u);t.push(Ws(h,s,o&&o[e],a))}}return t}function Jx(e,t,n){return er(e)?e(t,n):e}const SP=(e,t)=>e===!0?t:typeof e=="string"?tr(t,e):void 0;function kP(e,t,n,i,r){for(const s of t){const o=SP(n,s);if(o){e.add(o);const a=Jx(o._fallback,n,r);if(typeof a<"u"&&a!==n&&a!==i)return a}else if(o===!1&&typeof i<"u"&&n!==i)return null}return!1}function Jg(e,t,n,i){const r=t._rootScopes,s=Jx(t._fallback,n,i),o=[...e,...r],a=new Set;a.add(i);let l=z_(a,o,n,s||n,i);return l===null||typeof s<"u"&&s!==n&&(l=z_(a,o,s,l,i),l===null)?!1:Yg(Array.from(a),[""],r,s,()=>IP(t,n,i))}function z_(e,t,n,i,r){for(;n;)n=kP(e,t,n,i,r);return n}function IP(e,t,n){const i=e._getTarget();t in i||(i[t]={});const r=i[t];return St(r)&&it(n)?n:r||{}}function AP(e,t,n,i){let r;for(const s of t)if(r=Zx(xP(s,e),n),typeof r<"u")return Xg(e,r)?Jg(n,i,e,r):r}function Zx(e,t){for(const n of t){if(!n)continue;const i=n[e];if(typeof i<"u")return i}}function $_(e){let t=e._keys;return t||(t=e._keys=CP(e._scopes)),t}function CP(e){const t=new Set;for(const n of e)for(const i of Object.keys(n).filter(r=>!r.startsWith("_")))t.add(i);return Array.from(t)}function tE(e,t,n,i){const{iScale:r}=e,{key:s="r"}=this._parsing,o=new Array(i);let a,l,c,u;for(a=0,l=i;a<l;++a)c=a+n,u=t[c],o[a]={r:r.parse(tr(u,s),c)};return o}const PP=Number.EPSILON||1e-14,Hs=(e,t)=>t<e.length&&!e[t].skip&&e[t],eE=e=>e==="x"?"y":"x";function RP(e,t,n,i){const r=e.skip?t:e,s=t,o=n.skip?t:n,a=Yf(s,r),l=Yf(o,s);let c=a/(a+l),u=l/(a+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const h=i*c,d=i*u;return{previous:{x:s.x-h*(o.x-r.x),y:s.y-h*(o.y-r.y)},next:{x:s.x+d*(o.x-r.x),y:s.y+d*(o.y-r.y)}}}function MP(e,t,n){const i=e.length;let r,s,o,a,l,c=Hs(e,0);for(let u=0;u<i-1;++u)if(l=c,c=Hs(e,u+1),!(!l||!c)){if(ta(t[u],0,PP)){n[u]=n[u+1]=0;continue}r=n[u]/t[u],s=n[u+1]/t[u],a=Math.pow(r,2)+Math.pow(s,2),!(a<=9)&&(o=3/Math.sqrt(a),n[u]=r*o*t[u],n[u+1]=s*o*t[u])}}function DP(e,t,n="x"){const i=eE(n),r=e.length;let s,o,a,l=Hs(e,0);for(let c=0;c<r;++c){if(o=a,a=l,l=Hs(e,c+1),!a)continue;const u=a[n],h=a[i];o&&(s=(u-o[n])/3,a[`cp1${n}`]=u-s,a[`cp1${i}`]=h-s*t[c]),l&&(s=(l[n]-u)/3,a[`cp2${n}`]=u+s,a[`cp2${i}`]=h+s*t[c])}}function OP(e,t="x"){const n=eE(t),i=e.length,r=Array(i).fill(0),s=Array(i);let o,a,l,c=Hs(e,0);for(o=0;o<i;++o)if(a=l,l=c,c=Hs(e,o+1),!!l){if(c){const u=c[t]-l[t];r[o]=u!==0?(c[n]-l[n])/u:0}s[o]=a?c?jn(r[o-1])!==jn(r[o])?0:(r[o-1]+r[o])/2:r[o-1]:r[o]}MP(e,r,s),DP(e,s,t)}function Ql(e,t,n){return Math.max(Math.min(e,n),t)}function NP(e,t){let n,i,r,s,o,a=si(e[0],t);for(n=0,i=e.length;n<i;++n)o=s,s=a,a=n<i-1&&si(e[n+1],t),s&&(r=e[n],o&&(r.cp1x=Ql(r.cp1x,t.left,t.right),r.cp1y=Ql(r.cp1y,t.top,t.bottom)),a&&(r.cp2x=Ql(r.cp2x,t.left,t.right),r.cp2y=Ql(r.cp2y,t.top,t.bottom)))}function LP(e,t,n,i,r){let s,o,a,l;if(t.spanGaps&&(e=e.filter(c=>!c.skip)),t.cubicInterpolationMode==="monotone")OP(e,r);else{let c=i?e[e.length-1]:e[0];for(s=0,o=e.length;s<o;++s)a=e[s],l=RP(c,a,e[Math.min(s+1,o-(i?0:1))%o],t.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,c=a}t.capBezierPoints&&NP(e,n)}function nE(){return typeof window<"u"&&typeof document<"u"}function Zg(e){let t=e.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function pu(e,t,n){let i;return typeof e=="string"?(i=parseInt(e,10),e.indexOf("%")!==-1&&(i=i/100*t.parentNode[n])):i=e,i}const oh=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);function VP(e,t){return oh(e).getPropertyValue(t)}const FP=["top","right","bottom","left"];function Vr(e,t,n){const i={};n=n?"-"+n:"";for(let r=0;r<4;r++){const s=FP[r];i[s]=parseFloat(e[t+"-"+s+n])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const jP=(e,t,n)=>(e>0||t>0)&&(!n||!n.shadowRoot);function zP(e,t){const n=e.touches,i=n&&n.length?n[0]:e,{offsetX:r,offsetY:s}=i;let o=!1,a,l;if(jP(r,s,e.target))a=r,l=s;else{const c=t.getBoundingClientRect();a=i.clientX-c.left,l=i.clientY-c.top,o=!0}return{x:a,y:l,box:o}}function Tr(e,t){if("native"in e)return e;const{canvas:n,currentDevicePixelRatio:i}=t,r=oh(n),s=r.boxSizing==="border-box",o=Vr(r,"padding"),a=Vr(r,"border","width"),{x:l,y:c,box:u}=zP(e,n),h=o.left+(u&&a.left),d=o.top+(u&&a.top);let{width:f,height:m}=t;return s&&(f-=o.width+a.width,m-=o.height+a.height),{x:Math.round((l-h)/f*n.width/i),y:Math.round((c-d)/m*n.height/i)}}function $P(e,t,n){let i,r;if(t===void 0||n===void 0){const s=Zg(e);if(!s)t=e.clientWidth,n=e.clientHeight;else{const o=s.getBoundingClientRect(),a=oh(s),l=Vr(a,"border","width"),c=Vr(a,"padding");t=o.width-c.width-l.width,n=o.height-c.height-l.height,i=pu(a.maxWidth,s,"clientWidth"),r=pu(a.maxHeight,s,"clientHeight")}}return{width:t,height:n,maxWidth:i||du,maxHeight:r||du}}const Gl=e=>Math.round(e*10)/10;function BP(e,t,n,i){const r=oh(e),s=Vr(r,"margin"),o=pu(r.maxWidth,e,"clientWidth")||du,a=pu(r.maxHeight,e,"clientHeight")||du,l=$P(e,t,n);let{width:c,height:u}=l;if(r.boxSizing==="content-box"){const d=Vr(r,"border","width"),f=Vr(r,"padding");c-=f.width+d.width,u-=f.height+d.height}return c=Math.max(0,c-s.width),u=Math.max(0,i?c/i:u-s.height),c=Gl(Math.min(c,o,l.maxWidth)),u=Gl(Math.min(u,a,l.maxHeight)),c&&!u&&(u=Gl(c/2)),(t!==void 0||n!==void 0)&&i&&l.height&&u>l.height&&(u=l.height,c=Gl(Math.floor(u*i))),{width:c,height:u}}function B_(e,t,n){const i=t||1,r=Math.floor(e.height*i),s=Math.floor(e.width*i);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const o=e.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${e.height}px`,o.style.width=`${e.width}px`),e.currentDevicePixelRatio!==i||o.height!==r||o.width!==s?(e.currentDevicePixelRatio=i,o.height=r,o.width=s,e.ctx.setTransform(i,0,0,i,0,0),!0):!1}const UP=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch{}return e}();function U_(e,t){const n=VP(e,t),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function Sr(e,t,n,i){return{x:e.x+n*(t.x-e.x),y:e.y+n*(t.y-e.y)}}function WP(e,t,n,i){return{x:e.x+n*(t.x-e.x),y:i==="middle"?n<.5?e.y:t.y:i==="after"?n<1?e.y:t.y:n>0?t.y:e.y}}function HP(e,t,n,i){const r={x:e.cp2x,y:e.cp2y},s={x:t.cp1x,y:t.cp1y},o=Sr(e,r,n),a=Sr(r,s,n),l=Sr(s,t,n),c=Sr(o,a,n),u=Sr(a,l,n);return Sr(c,u,n)}const qP=function(e,t){return{x(n){return e+e+t-n},setWidth(n){t=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,i){return n-i},leftForLtr(n,i){return n-i}}},KP=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,t){return e+t},leftForLtr(e,t){return e}}};function Ms(e,t,n){return e?qP(t,n):KP()}function iE(e,t){let n,i;(t==="ltr"||t==="rtl")&&(n=e.canvas.style,i=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=i)}function rE(e,t){t!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function sE(e){return e==="angle"?{between:Da,compare:QC,normalize:Qe}:{between:ii,compare:(t,n)=>t-n,normalize:t=>t}}function W_({start:e,end:t,count:n,loop:i,style:r}){return{start:e%n,end:t%n,loop:i&&(t-e+1)%n===0,style:r}}function QP(e,t,n){const{property:i,start:r,end:s}=n,{between:o,normalize:a}=sE(i),l=t.length;let{start:c,end:u,loop:h}=e,d,f;if(h){for(c+=l,u+=l,d=0,f=l;d<f&&o(a(t[c%l][i]),r,s);++d)c--,u--;c%=l,u%=l}return u<c&&(u+=l),{start:c,end:u,loop:h,style:e.style}}function oE(e,t,n){if(!n)return[e];const{property:i,start:r,end:s}=n,o=t.length,{compare:a,between:l,normalize:c}=sE(i),{start:u,end:h,loop:d,style:f}=QP(e,t,n),m=[];let _=!1,v=null,p,g,y;const E=()=>l(r,y,p)&&a(r,y)!==0,b=()=>a(s,p)===0||l(s,y,p),I=()=>_||E(),k=()=>!_||b();for(let w=u,x=u;w<=h;++w)g=t[w%o],!g.skip&&(p=c(g[i]),p!==y&&(_=l(p,r,s),v===null&&I()&&(v=a(p,r)===0?w:x),v!==null&&k()&&(m.push(W_({start:v,end:w,loop:d,count:o,style:f})),v=null),x=w,y=p));return v!==null&&m.push(W_({start:v,end:h,loop:d,count:o,style:f})),m}function aE(e,t){const n=[],i=e.segments;for(let r=0;r<i.length;r++){const s=oE(i[r],e.points,t);s.length&&n.push(...s)}return n}function GP(e,t,n,i){let r=0,s=t-1;if(n&&!i)for(;r<t&&!e[r].skip;)r++;for(;r<t&&e[r].skip;)r++;for(r%=t,n&&(s+=r);s>r&&e[s%t].skip;)s--;return s%=t,{start:r,end:s}}function YP(e,t,n,i){const r=e.length,s=[];let o=t,a=e[t],l;for(l=t+1;l<=n;++l){const c=e[l%r];c.skip||c.stop?a.skip||(i=!1,s.push({start:t%r,end:(l-1)%r,loop:i}),t=o=c.stop?l:null):(o=l,a.skip&&(t=l)),a=c}return o!==null&&s.push({start:t%r,end:o%r,loop:i}),s}function XP(e,t){const n=e.points,i=e.options.spanGaps,r=n.length;if(!r)return[];const s=!!e._loop,{start:o,end:a}=GP(n,r,s,i);if(i===!0)return H_(e,[{start:o,end:a,loop:s}],n,t);const l=a<o?a+r:a,c=!!e._fullLoop&&o===0&&a===r-1;return H_(e,YP(n,o,l,c),n,t)}function H_(e,t,n,i){return!i||!i.setContext||!n?t:JP(e,t,n,i)}function JP(e,t,n,i){const r=e._chart.getContext(),s=q_(e.options),{_datasetIndex:o,options:{spanGaps:a}}=e,l=n.length,c=[];let u=s,h=t[0].start,d=h;function f(m,_,v,p){const g=a?-1:1;if(m!==_){for(m+=l;n[m%l].skip;)m-=g;for(;n[_%l].skip;)_+=g;m%l!==_%l&&(c.push({start:m%l,end:_%l,loop:v,style:p}),u=p,h=_%l)}}for(const m of t){h=a?h:m.start;let _=n[h%l],v;for(d=h+1;d<=m.end;d++){const p=n[d%l];v=q_(i.setContext(hr(r,{type:"segment",p0:_,p1:p,p0DataIndex:(d-1)%l,p1DataIndex:d%l,datasetIndex:o}))),ZP(v,u)&&f(h,d-1,m.loop,u),_=p,u=v}h<d-1&&f(h,d-1,m.loop,u)}return c}function q_(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function ZP(e,t){if(!t)return!1;const n=[],i=function(r,s){return Qg(s)?(n.includes(s)||n.push(s),n.indexOf(s)):s};return JSON.stringify(e,i)!==JSON.stringify(t,i)}/*!
 * Chart.js v4.4.0
 * https://www.chartjs.org
 * (c) 2023 Chart.js Contributors
 * Released under the MIT License
 */class tR{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,n,i,r){const s=n.listeners[r],o=n.duration;s.forEach(a=>a({chart:t,initial:n.initial,numSteps:o,currentStep:Math.min(i-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=Ux.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let n=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;const s=i.items;let o=s.length-1,a=!1,l;for(;o>=0;--o)l=s[o],l._active?(l._total>i.duration&&(i.duration=l._total),l.tick(t),a=!0):(s[o]=s[s.length-1],s.pop());a&&(r.draw(),this._notify(r,i,t,"progress")),s.length||(i.running=!1,this._notify(r,i,t,"complete"),i.initial=!1),n+=s.length}),this._lastDate=t,n===0&&(this._running=!1)}_getAnims(t){const n=this._charts;let i=n.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(t,i)),i}listen(t,n,i){this._getAnims(t).listeners[n].push(i)}add(t,n){!n||!n.length||this._getAnims(t).items.push(...n)}has(t){return this._getAnims(t).items.length>0}start(t){const n=this._charts.get(t);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(t){if(!this._running)return!1;const n=this._charts.get(t);return!(!n||!n.running||!n.items.length)}stop(t){const n=this._charts.get(t);if(!n||!n.items.length)return;const i=n.items;let r=i.length-1;for(;r>=0;--r)i[r].cancel();n.items=[],this._notify(t,n,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var Yn=new tR;const K_="transparent",eR={boolean(e,t,n){return n>.5?t:e},color(e,t,n){const i=V_(e||K_),r=i.valid&&V_(t||K_);return r&&r.valid?r.mix(i,n).hexString():t},number(e,t,n){return e+(t-e)*n}};class nR{constructor(t,n,i,r){const s=n[i];r=Oo([t.to,r,s,t.from]);const o=Oo([t.from,s,r]);this._active=!0,this._fn=t.fn||eR[t.type||typeof o],this._easing=ea[t.easing]||ea.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=n,this._prop=i,this._from=o,this._to=r,this._promises=void 0}active(){return this._active}update(t,n,i){if(this._active){this._notify(!1);const r=this._target[this._prop],s=i-this._start,o=this._duration-s;this._start=i,this._duration=Math.floor(Math.max(o,t.duration)),this._total+=s,this._loop=!!t.loop,this._to=Oo([t.to,n,r,t.from]),this._from=Oo([t.from,r,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const n=t-this._start,i=this._duration,r=this._prop,s=this._from,o=this._loop,a=this._to;let l;if(this._active=s!==a&&(o||n<i),!this._active){this._target[r]=a,this._notify(!0);return}if(n<0){this._target[r]=s;return}l=n/i%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[r]=this._fn(s,a,l)}wait(){const t=this._promises||(this._promises=[]);return new Promise((n,i)=>{t.push({res:n,rej:i})})}_notify(t){const n=t?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][n]()}}class lE{constructor(t,n){this._chart=t,this._properties=new Map,this.configure(n)}configure(t){if(!it(t))return;const n=Object.keys($t.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach(r=>{const s=t[r];if(!it(s))return;const o={};for(const a of n)o[a]=s[a];(St(s.properties)&&s.properties||[r]).forEach(a=>{(a===r||!i.has(a))&&i.set(a,o)})})}_animateOptions(t,n){const i=n.options,r=rR(t,i);if(!r)return[];const s=this._createAnimations(r,i);return i.$shared&&iR(t.options.$animations,i).then(()=>{t.options=i},()=>{}),s}_createAnimations(t,n){const i=this._properties,r=[],s=t.$animations||(t.$animations={}),o=Object.keys(n),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const c=o[l];if(c.charAt(0)==="$")continue;if(c==="options"){r.push(...this._animateOptions(t,n));continue}const u=n[c];let h=s[c];const d=i.get(c);if(h)if(d&&h.active()){h.update(d,u,a);continue}else h.cancel();if(!d||!d.duration){t[c]=u;continue}s[c]=h=new nR(d,t,c,u),r.push(h)}return r}update(t,n){if(this._properties.size===0){Object.assign(t,n);return}const i=this._createAnimations(t,n);if(i.length)return Yn.add(this._chart,i),!0}}function iR(e,t){const n=[],i=Object.keys(t);for(let r=0;r<i.length;r++){const s=e[i[r]];s&&s.active()&&n.push(s.wait())}return Promise.all(n)}function rR(e,t){if(!t)return;let n=e.options;if(!n){e.options=t;return}return n.$shared&&(e.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function Q_(e,t){const n=e&&e.options||{},i=n.reverse,r=n.min===void 0?t:0,s=n.max===void 0?t:0;return{start:i?s:r,end:i?r:s}}function sR(e,t,n){if(n===!1)return!1;const i=Q_(e,n),r=Q_(t,n);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}function oR(e){let t,n,i,r;return it(e)?(t=e.top,n=e.right,i=e.bottom,r=e.left):t=n=i=r=e,{top:t,right:n,bottom:i,left:r,disabled:e===!1}}function cE(e,t){const n=[],i=e._getSortedDatasetMetas(t);let r,s;for(r=0,s=i.length;r<s;++r)n.push(i[r].index);return n}function G_(e,t,n,i={}){const r=e.keys,s=i.mode==="single";let o,a,l,c;if(t!==null){for(o=0,a=r.length;o<a;++o){if(l=+r[o],l===n){if(i.all)continue;break}c=e.values[l],zt(c)&&(s||t===0||jn(t)===jn(c))&&(t+=c)}return t}}function aR(e){const t=Object.keys(e),n=new Array(t.length);let i,r,s;for(i=0,r=t.length;i<r;++i)s=t[i],n[i]={x:s,y:e[s]};return n}function Y_(e,t){const n=e&&e.options.stacked;return n||n===void 0&&t.stack!==void 0}function lR(e,t,n){return`${e.id}.${t.id}.${n.stack||n.type}`}function cR(e){const{min:t,max:n,minDefined:i,maxDefined:r}=e.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:r?n:Number.POSITIVE_INFINITY}}function uR(e,t,n){const i=e[t]||(e[t]={});return i[n]||(i[n]={})}function X_(e,t,n,i){for(const r of t.getMatchingVisibleMetas(i).reverse()){const s=e[r.index];if(n&&s>0||!n&&s<0)return r.index}return null}function J_(e,t){const{chart:n,_cachedMeta:i}=e,r=n._stacks||(n._stacks={}),{iScale:s,vScale:o,index:a}=i,l=s.axis,c=o.axis,u=lR(s,o,i),h=t.length;let d;for(let f=0;f<h;++f){const m=t[f],{[l]:_,[c]:v}=m,p=m._stacks||(m._stacks={});d=p[c]=uR(r,u,_),d[a]=v,d._top=X_(d,o,!0,i.type),d._bottom=X_(d,o,!1,i.type);const g=d._visualValues||(d._visualValues={});g[a]=v}}function wd(e,t){const n=e.scales;return Object.keys(n).filter(i=>n[i].axis===t).shift()}function hR(e,t){return hr(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function dR(e,t,n){return hr(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}function wo(e,t){const n=e.controller.index,i=e.vScale&&e.vScale.axis;if(i){t=t||e._parsed;for(const r of t){const s=r._stacks;if(!s||s[i]===void 0||s[i][n]===void 0)return;delete s[i][n],s[i]._visualValues!==void 0&&s[i]._visualValues[n]!==void 0&&delete s[i]._visualValues[n]}}}const xd=e=>e==="reset"||e==="none",Z_=(e,t)=>t?e:Object.assign({},e),fR=(e,t,n)=>e&&!t.hidden&&t._stacked&&{keys:cE(n,!0),values:null};class Sn{constructor(t,n){this.chart=t,this._ctx=t.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=Y_(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&wo(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,n=this._cachedMeta,i=this.getDataset(),r=(h,d,f,m)=>h==="x"?d:h==="r"?m:f,s=n.xAxisID=tt(i.xAxisID,wd(t,"x")),o=n.yAxisID=tt(i.yAxisID,wd(t,"y")),a=n.rAxisID=tt(i.rAxisID,wd(t,"r")),l=n.indexAxis,c=n.iAxisID=r(l,s,o,a),u=n.vAxisID=r(l,o,s,a);n.xScale=this.getScaleForId(s),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(a),n.iScale=this.getScaleForId(c),n.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const n=this._cachedMeta;return t===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&O_(this._data,this),t._stacked&&wo(t)}_dataCheck(){const t=this.getDataset(),n=t.data||(t.data=[]),i=this._data;if(it(n))this._data=aR(n);else if(i!==n){if(i){O_(i,this);const r=this._cachedMeta;wo(r),r._parsed=[]}n&&Object.isExtensible(n)&&JC(n,this),this._syncList=[],this._data=n}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const n=this._cachedMeta,i=this.getDataset();let r=!1;this._dataCheck();const s=n._stacked;n._stacked=Y_(n.vScale,n),n.stack!==i.stack&&(r=!0,wo(n),n.stack=i.stack),this._resyncElements(t),(r||s!==n._stacked)&&J_(this,n._parsed)}configure(){const t=this.chart.config,n=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),n,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,n){const{_cachedMeta:i,_data:r}=this,{iScale:s,_stacked:o}=i,a=s.axis;let l=t===0&&n===r.length?!0:i._sorted,c=t>0&&i._parsed[t-1],u,h,d;if(this._parsing===!1)i._parsed=r,i._sorted=!0,d=r;else{St(r[t])?d=this.parseArrayData(i,r,t,n):it(r[t])?d=this.parseObjectData(i,r,t,n):d=this.parsePrimitiveData(i,r,t,n);const f=()=>h[a]===null||c&&h[a]<c[a];for(u=0;u<n;++u)i._parsed[u+t]=h=d[u],l&&(f()&&(l=!1),c=h);i._sorted=l}o&&J_(this,d)}parsePrimitiveData(t,n,i,r){const{iScale:s,vScale:o}=t,a=s.axis,l=o.axis,c=s.getLabels(),u=s===o,h=new Array(r);let d,f,m;for(d=0,f=r;d<f;++d)m=d+i,h[d]={[a]:u||s.parse(c[m],m),[l]:o.parse(n[m],m)};return h}parseArrayData(t,n,i,r){const{xScale:s,yScale:o}=t,a=new Array(r);let l,c,u,h;for(l=0,c=r;l<c;++l)u=l+i,h=n[u],a[l]={x:s.parse(h[0],u),y:o.parse(h[1],u)};return a}parseObjectData(t,n,i,r){const{xScale:s,yScale:o}=t,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=new Array(r);let u,h,d,f;for(u=0,h=r;u<h;++u)d=u+i,f=n[d],c[u]={x:s.parse(tr(f,a),d),y:o.parse(tr(f,l),d)};return c}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,n,i){const r=this.chart,s=this._cachedMeta,o=n[t.axis],a={keys:cE(r,!0),values:n._stacks[t.axis]._visualValues};return G_(a,o,s.index,{mode:i})}updateRangeFromParsed(t,n,i,r){const s=i[n.axis];let o=s===null?NaN:s;const a=r&&i._stacks[n.axis];r&&a&&(r.values=a,o=G_(r,s,this._cachedMeta.index)),t.min=Math.min(t.min,o),t.max=Math.max(t.max,o)}getMinMax(t,n){const i=this._cachedMeta,r=i._parsed,s=i._sorted&&t===i.iScale,o=r.length,a=this._getOtherScale(t),l=fR(n,i,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:h}=cR(a);let d,f;function m(){f=r[d];const _=f[a.axis];return!zt(f[t.axis])||u>_||h<_}for(d=0;d<o&&!(!m()&&(this.updateRangeFromParsed(c,t,f,l),s));++d);if(s){for(d=o-1;d>=0;--d)if(!m()){this.updateRangeFromParsed(c,t,f,l);break}}return c}getAllParsedValues(t){const n=this._cachedMeta._parsed,i=[];let r,s,o;for(r=0,s=n.length;r<s;++r)o=n[r][t.axis],zt(o)&&i.push(o);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const n=this._cachedMeta,i=n.iScale,r=n.vScale,s=this.getParsed(t);return{label:i?""+i.getLabelForValue(s[i.axis]):"",value:r?""+r.getLabelForValue(s[r.axis]):""}}_update(t){const n=this._cachedMeta;this.update(t||"default"),n._clip=oR(tt(this.options.clip,sR(n.xScale,n.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,n=this.chart,i=this._cachedMeta,r=i.data||[],s=n.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||r.length-a,c=this.options.drawActiveElementsOnTop;let u;for(i.dataset&&i.dataset.draw(t,s,a,l),u=a;u<a+l;++u){const h=r[u];h.hidden||(h.active&&c?o.push(h):h.draw(t,s))}for(u=0;u<o.length;++u)o[u].draw(t,s)}getStyle(t,n){const i=n?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,n,i){const r=this.getDataset();let s;if(t>=0&&t<this._cachedMeta.data.length){const o=this._cachedMeta.data[t];s=o.$context||(o.$context=dR(this.getContext(),t,o)),s.parsed=this.getParsed(t),s.raw=r.data[t],s.index=s.dataIndex=t}else s=this.$context||(this.$context=hR(this.chart.getContext(),this.index)),s.dataset=r,s.index=s.datasetIndex=this.index;return s.active=!!n,s.mode=i,s}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,n){return this._resolveElementOptions(this.dataElementType.id,n,t)}_resolveElementOptions(t,n="default",i){const r=n==="active",s=this._cachedDataOpts,o=t+"-"+n,a=s[o],l=this.enableOptionSharing&&Ma(i);if(a)return Z_(a,l);const c=this.chart.config,u=c.datasetElementScopeKeys(this._type,t),h=r?[`${t}Hover`,"hover",t,""]:[t,""],d=c.getOptionScopes(this.getDataset(),u),f=Object.keys($t.elements[t]),m=()=>this.getContext(i,r,n),_=c.resolveNamedOptions(d,f,m,h);return _.$shared&&(_.$shared=l,s[o]=Object.freeze(Z_(_,l))),_}_resolveAnimations(t,n,i){const r=this.chart,s=this._cachedDataOpts,o=`animation-${n}`,a=s[o];if(a)return a;let l;if(r.options.animation!==!1){const u=this.chart.config,h=u.datasetAnimationScopeKeys(this._type,n),d=u.getOptionScopes(this.getDataset(),h);l=u.createResolver(d,this.getContext(t,i,n))}const c=new lE(r,l&&l.animations);return l&&l._cacheable&&(s[o]=Object.freeze(c)),c}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,n){return!n||xd(t)||this.chart._animationsDisabled}_getSharedOptions(t,n){const i=this.resolveDataElementOptions(t,n),r=this._sharedOptions,s=this.getSharedOptions(i),o=this.includeOptions(n,s)||s!==r;return this.updateSharedOptions(s,n,i),{sharedOptions:s,includeOptions:o}}updateElement(t,n,i,r){xd(r)?Object.assign(t,i):this._resolveAnimations(n,r).update(t,i)}updateSharedOptions(t,n,i){t&&!xd(n)&&this._resolveAnimations(void 0,n).update(t,i)}_setStyle(t,n,i,r){t.active=r;const s=this.getStyle(n,r);this._resolveAnimations(n,i,r).update(t,{options:!r&&this.getSharedOptions(s)||s})}removeHoverStyle(t,n,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,n,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const n=this._data,i=this._cachedMeta.data;for(const[a,l,c]of this._syncList)this[a](l,c);this._syncList=[];const r=i.length,s=n.length,o=Math.min(s,r);o&&this.parse(0,o),s>r?this._insertElements(r,s-r,t):s<r&&this._removeElements(s,r-s)}_insertElements(t,n,i=!0){const r=this._cachedMeta,s=r.data,o=t+n;let a;const l=c=>{for(c.length+=n,a=c.length-1;a>=o;a--)c[a]=c[a-n]};for(l(s),a=t;a<o;++a)s[a]=new this.dataElementType;this._parsing&&l(r._parsed),this.parse(t,n),i&&this.updateElements(s,t,n,"reset")}updateElements(t,n,i,r){}_removeElements(t,n){const i=this._cachedMeta;if(this._parsing){const r=i._parsed.splice(t,n);i._stacked&&wo(i,r)}i.data.splice(t,n)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[n,i,r]=t;this[n](i,r)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,n){n&&this._sync(["_removeElements",t,n]);const i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}j(Sn,"defaults",{}),j(Sn,"datasetElementType",null),j(Sn,"dataElementType",null);function pR(e,t){if(!e._cache.$bar){const n=e.getMatchingVisibleMetas(t);let i=[];for(let r=0,s=n.length;r<s;r++)i=i.concat(n[r].controller.getAllParsedValues(e));e._cache.$bar=Bx(i.sort((r,s)=>r-s))}return e._cache.$bar}function gR(e){const t=e.iScale,n=pR(t,e.type);let i=t._length,r,s,o,a;const l=()=>{o===32767||o===-32768||(Ma(a)&&(i=Math.min(i,Math.abs(o-a)||i)),a=o)};for(r=0,s=n.length;r<s;++r)o=t.getPixelForValue(n[r]),l();for(a=void 0,r=0,s=t.ticks.length;r<s;++r)o=t.getPixelForTick(r),l();return i}function mR(e,t,n,i){const r=n.barThickness;let s,o;return ct(r)?(s=t.min*n.categoryPercentage,o=n.barPercentage):(s=r*i,o=1),{chunk:s/i,ratio:o,start:t.pixels[e]-s/2}}function yR(e,t,n,i){const r=t.pixels,s=r[e];let o=e>0?r[e-1]:null,a=e<r.length-1?r[e+1]:null;const l=n.categoryPercentage;o===null&&(o=s-(a===null?t.end-t.start:a-s)),a===null&&(a=s+s-o);const c=s-(s-Math.min(o,a))/2*l;return{chunk:Math.abs(a-o)/2*l/i,ratio:n.barPercentage,start:c}}function _R(e,t,n,i){const r=n.parse(e[0],i),s=n.parse(e[1],i),o=Math.min(r,s),a=Math.max(r,s);let l=o,c=a;Math.abs(o)>Math.abs(a)&&(l=a,c=o),t[n.axis]=c,t._custom={barStart:l,barEnd:c,start:r,end:s,min:o,max:a}}function uE(e,t,n,i){return St(e)?_R(e,t,n,i):t[n.axis]=n.parse(e,i),t}function t0(e,t,n,i){const r=e.iScale,s=e.vScale,o=r.getLabels(),a=r===s,l=[];let c,u,h,d;for(c=n,u=n+i;c<u;++c)d=t[c],h={},h[r.axis]=a||r.parse(o[c],c),l.push(uE(d,h,s,c));return l}function Ed(e){return e&&e.barStart!==void 0&&e.barEnd!==void 0}function vR(e,t,n){return e!==0?jn(e):(t.isHorizontal()?1:-1)*(t.min>=n?1:-1)}function wR(e){let t,n,i,r,s;return e.horizontal?(t=e.base>e.x,n="left",i="right"):(t=e.base<e.y,n="bottom",i="top"),t?(r="end",s="start"):(r="start",s="end"),{start:n,end:i,reverse:t,top:r,bottom:s}}function xR(e,t,n,i){let r=t.borderSkipped;const s={};if(!r){e.borderSkipped=s;return}if(r===!0){e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:a,reverse:l,top:c,bottom:u}=wR(e);r==="middle"&&n&&(e.enableBorderRadius=!0,(n._top||0)===i?r=c:(n._bottom||0)===i?r=u:(s[e0(u,o,a,l)]=!0,r=c)),s[e0(r,o,a,l)]=!0,e.borderSkipped=s}function e0(e,t,n,i){return i?(e=ER(e,t,n),e=n0(e,n,t)):e=n0(e,t,n),e}function ER(e,t,n){return e===t?n:e===n?t:e}function n0(e,t,n){return e==="start"?t:e==="end"?n:e}function bR(e,{inflateAmount:t},n){e.inflateAmount=t==="auto"?n===1?.33:0:t}class ia extends Sn{parsePrimitiveData(t,n,i,r){return t0(t,n,i,r)}parseArrayData(t,n,i,r){return t0(t,n,i,r)}parseObjectData(t,n,i,r){const{iScale:s,vScale:o}=t,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=s.axis==="x"?a:l,u=o.axis==="x"?a:l,h=[];let d,f,m,_;for(d=i,f=i+r;d<f;++d)_=n[d],m={},m[s.axis]=s.parse(tr(_,c),d),h.push(uE(tr(_,u),m,o,d));return h}updateRangeFromParsed(t,n,i,r){super.updateRangeFromParsed(t,n,i,r);const s=i._custom;s&&n===this._cachedMeta.vScale&&(t.min=Math.min(t.min,s.min),t.max=Math.max(t.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const n=this._cachedMeta,{iScale:i,vScale:r}=n,s=this.getParsed(t),o=s._custom,a=Ed(o)?"["+o.start+", "+o.end+"]":""+r.getLabelForValue(s[r.axis]);return{label:""+i.getLabelForValue(s[i.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,t)}updateElements(t,n,i,r){const s=r==="reset",{index:o,_cachedMeta:{vScale:a}}=this,l=a.getBasePixel(),c=a.isHorizontal(),u=this._getRuler(),{sharedOptions:h,includeOptions:d}=this._getSharedOptions(n,r);for(let f=n;f<n+i;f++){const m=this.getParsed(f),_=s||ct(m[a.axis])?{base:l,head:l}:this._calculateBarValuePixels(f),v=this._calculateBarIndexPixels(f,u),p=(m._stacks||{})[a.axis],g={horizontal:c,base:_.base,enableBorderRadius:!p||Ed(m._custom)||o===p._top||o===p._bottom,x:c?_.head:v.center,y:c?v.center:_.head,height:c?v.size:Math.abs(_.size),width:c?Math.abs(_.size):v.size};d&&(g.options=h||this.resolveDataElementOptions(f,t[f].active?"active":r));const y=g.options||t[f].options;xR(g,y,p,o),bR(g,y,u.ratio),this.updateElement(t[f],f,g,r)}}_getStacks(t,n){const{iScale:i}=this._cachedMeta,r=i.getMatchingVisibleMetas(this._type).filter(l=>l.controller.options.grouped),s=i.options.stacked,o=[],a=l=>{const c=l.controller.getParsed(n),u=c&&c[l.vScale.axis];if(ct(u)||isNaN(u))return!0};for(const l of r)if(!(n!==void 0&&a(l))&&((s===!1||o.indexOf(l.stack)===-1||s===void 0&&l.stack===void 0)&&o.push(l.stack),l.index===t))break;return o.length||o.push(void 0),o}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,n,i){const r=this._getStacks(t,i),s=n!==void 0?r.indexOf(n):-1;return s===-1?r.length-1:s}_getRuler(){const t=this.options,n=this._cachedMeta,i=n.iScale,r=[];let s,o;for(s=0,o=n.data.length;s<o;++s)r.push(i.getPixelForValue(this.getParsed(s)[i.axis],s));const a=t.barThickness;return{min:a||gR(n),pixels:r,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:t.grouped,ratio:a?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:n,_stacked:i,index:r},options:{base:s,minBarLength:o}}=this,a=s||0,l=this.getParsed(t),c=l._custom,u=Ed(c);let h=l[n.axis],d=0,f=i?this.applyStack(n,l,i):h,m,_;f!==h&&(d=f-h,f=h),u&&(h=c.barStart,f=c.barEnd-c.barStart,h!==0&&jn(h)!==jn(c.barEnd)&&(d=0),d+=h);const v=!ct(s)&&!u?s:d;let p=n.getPixelForValue(v);if(this.chart.getDataVisibility(t)?m=n.getPixelForValue(d+f):m=p,_=m-p,Math.abs(_)<o){_=vR(_,n,a)*o,h===a&&(p-=_/2);const g=n.getPixelForDecimal(0),y=n.getPixelForDecimal(1),E=Math.min(g,y),b=Math.max(g,y);p=Math.max(Math.min(p,b),E),m=p+_,i&&!u&&(l._stacks[n.axis]._visualValues[r]=n.getValueForPixel(m)-n.getValueForPixel(p))}if(p===n.getPixelForValue(a)){const g=jn(_)*n.getLineWidthForValue(a)/2;p+=g,_-=g}return{size:_,base:p,head:m,center:m+_/2}}_calculateBarIndexPixels(t,n){const i=n.scale,r=this.options,s=r.skipNull,o=tt(r.maxBarThickness,1/0);let a,l;if(n.grouped){const c=s?this._getStackCount(t):n.stackCount,u=r.barThickness==="flex"?yR(t,n,r,c):mR(t,n,r,c),h=this._getStackIndex(this.index,this._cachedMeta.stack,s?t:void 0);a=u.start+u.chunk*h+u.chunk/2,l=Math.min(o,u.chunk*u.ratio)}else a=i.getPixelForValue(this.getParsed(t)[i.axis],t),l=Math.min(o,n.min*n.ratio);return{base:a-l/2,head:a+l/2,center:a,size:l}}draw(){const t=this._cachedMeta,n=t.vScale,i=t.data,r=i.length;let s=0;for(;s<r;++s)this.getParsed(s)[n.axis]!==null&&i[s].draw(this._ctx)}}j(ia,"id","bar"),j(ia,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),j(ia,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class Sc extends Sn{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,n,i,r){const s=super.parsePrimitiveData(t,n,i,r);for(let o=0;o<s.length;o++)s[o]._custom=this.resolveDataElementOptions(o+i).radius;return s}parseArrayData(t,n,i,r){const s=super.parseArrayData(t,n,i,r);for(let o=0;o<s.length;o++){const a=n[i+o];s[o]._custom=tt(a[2],this.resolveDataElementOptions(o+i).radius)}return s}parseObjectData(t,n,i,r){const s=super.parseObjectData(t,n,i,r);for(let o=0;o<s.length;o++){const a=n[i+o];s[o]._custom=tt(a&&a.r&&+a.r,this.resolveDataElementOptions(o+i).radius)}return s}getMaxOverflow(){const t=this._cachedMeta.data;let n=0;for(let i=t.length-1;i>=0;--i)n=Math.max(n,t[i].size(this.resolveDataElementOptions(i))/2);return n>0&&n}getLabelAndValue(t){const n=this._cachedMeta,i=this.chart.data.labels||[],{xScale:r,yScale:s}=n,o=this.getParsed(t),a=r.getLabelForValue(o.x),l=s.getLabelForValue(o.y),c=o._custom;return{label:i[t]||"",value:"("+a+", "+l+(c?", "+c:"")+")"}}update(t){const n=this._cachedMeta.data;this.updateElements(n,0,n.length,t)}updateElements(t,n,i,r){const s=r==="reset",{iScale:o,vScale:a}=this._cachedMeta,{sharedOptions:l,includeOptions:c}=this._getSharedOptions(n,r),u=o.axis,h=a.axis;for(let d=n;d<n+i;d++){const f=t[d],m=!s&&this.getParsed(d),_={},v=_[u]=s?o.getPixelForDecimal(.5):o.getPixelForValue(m[u]),p=_[h]=s?a.getBasePixel():a.getPixelForValue(m[h]);_.skip=isNaN(v)||isNaN(p),c&&(_.options=l||this.resolveDataElementOptions(d,f.active?"active":r),s&&(_.options.radius=0)),this.updateElement(f,d,_,r)}}resolveDataElementOptions(t,n){const i=this.getParsed(t);let r=super.resolveDataElementOptions(t,n);r.$shared&&(r=Object.assign({},r,{$shared:!1}));const s=r.radius;return n!=="active"&&(r.radius=0),r.radius+=tt(i&&i._custom,s),r}}j(Sc,"id","bubble"),j(Sc,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),j(Sc,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});function TR(e,t,n){let i=1,r=1,s=0,o=0;if(t<It){const a=e,l=a+t,c=Math.cos(a),u=Math.sin(a),h=Math.cos(l),d=Math.sin(l),f=(y,E,b)=>Da(y,a,l,!0)?1:Math.max(E,E*n,b,b*n),m=(y,E,b)=>Da(y,a,l,!0)?-1:Math.min(E,E*n,b,b*n),_=f(0,c,h),v=f(Ht,u,d),p=m(At,c,h),g=m(At+Ht,u,d);i=(_-p)/2,r=(v-g)/2,s=-(_+p)/2,o=-(v+g)/2}return{ratioX:i,ratioY:r,offsetX:s,offsetY:o}}class Oi extends Sn{constructor(t,n){super(t,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,n){const i=this.getDataset().data,r=this._cachedMeta;if(this._parsing===!1)r._parsed=i;else{let s=l=>+i[l];if(it(i[t])){const{key:l="value"}=this._parsing;s=c=>+tr(i[c],l)}let o,a;for(o=t,a=t+n;o<a;++o)r._parsed[o]=s(o)}}_getRotation(){return En(this.options.rotation-90)}_getCircumference(){return En(this.options.circumference)}_getRotationExtents(){let t=It,n=-It;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const r=this.chart.getDatasetMeta(i).controller,s=r._getRotation(),o=r._getCircumference();t=Math.min(t,s),n=Math.max(n,s+o)}return{rotation:t,circumference:n-t}}update(t){const n=this.chart,{chartArea:i}=n,r=this._cachedMeta,s=r.data,o=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,a=Math.max((Math.min(i.width,i.height)-o)/2,0),l=Math.min(FC(this.options.cutout,a),1),c=this._getRingWeight(this.index),{circumference:u,rotation:h}=this._getRotationExtents(),{ratioX:d,ratioY:f,offsetX:m,offsetY:_}=TR(h,u,l),v=(i.width-o)/d,p=(i.height-o)/f,g=Math.max(Math.min(v,p)/2,0),y=Vx(this.options.radius,g),E=Math.max(y*l,0),b=(y-E)/this._getVisibleDatasetWeightTotal();this.offsetX=m*y,this.offsetY=_*y,r.total=this.calculateTotal(),this.outerRadius=y-b*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-b*c,0),this.updateElements(s,0,s.length,t)}_circumference(t,n){const i=this.options,r=this._cachedMeta,s=this._getCircumference();return n&&i.animation.animateRotate||!this.chart.getDataVisibility(t)||r._parsed[t]===null||r.data[t].hidden?0:this.calculateCircumference(r._parsed[t]*s/It)}updateElements(t,n,i,r){const s=r==="reset",o=this.chart,a=o.chartArea,c=o.options.animation,u=(a.left+a.right)/2,h=(a.top+a.bottom)/2,d=s&&c.animateScale,f=d?0:this.innerRadius,m=d?0:this.outerRadius,{sharedOptions:_,includeOptions:v}=this._getSharedOptions(n,r);let p=this._getRotation(),g;for(g=0;g<n;++g)p+=this._circumference(g,s);for(g=n;g<n+i;++g){const y=this._circumference(g,s),E=t[g],b={x:u+this.offsetX,y:h+this.offsetY,startAngle:p,endAngle:p+y,circumference:y,outerRadius:m,innerRadius:f};v&&(b.options=_||this.resolveDataElementOptions(g,E.active?"active":r)),p+=y,this.updateElement(E,g,b,r)}}calculateTotal(){const t=this._cachedMeta,n=t.data;let i=0,r;for(r=0;r<n.length;r++){const s=t._parsed[r];s!==null&&!isNaN(s)&&this.chart.getDataVisibility(r)&&!n[r].hidden&&(i+=Math.abs(s))}return i}calculateCircumference(t){const n=this._cachedMeta.total;return n>0&&!isNaN(t)?It*(Math.abs(t)/n):0}getLabelAndValue(t){const n=this._cachedMeta,i=this.chart,r=i.data.labels||[],s=al(n._parsed[t],i.options.locale);return{label:r[t]||"",value:s}}getMaxBorderWidth(t){let n=0;const i=this.chart;let r,s,o,a,l;if(!t){for(r=0,s=i.data.datasets.length;r<s;++r)if(i.isDatasetVisible(r)){o=i.getDatasetMeta(r),t=o.data,a=o.controller;break}}if(!t)return 0;for(r=0,s=t.length;r<s;++r)l=a.resolveDataElementOptions(r),l.borderAlign!=="inner"&&(n=Math.max(n,l.borderWidth||0,l.hoverBorderWidth||0));return n}getMaxOffset(t){let n=0;for(let i=0,r=t.length;i<r;++i){const s=this.resolveDataElementOptions(i);n=Math.max(n,s.offset||0,s.hoverOffset||0)}return n}_getRingWeightOffset(t){let n=0;for(let i=0;i<t;++i)this.chart.isDatasetVisible(i)&&(n+=this._getRingWeight(i));return n}_getRingWeight(t){return Math.max(tt(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}j(Oi,"id","doughnut"),j(Oi,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),j(Oi,"descriptors",{_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")}),j(Oi,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const n=t.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:i,color:r}}=t.legend.options;return n.labels.map((s,o)=>{const l=t.getDatasetMeta(0).controller.getStyle(o);return{text:s,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:r,lineWidth:l.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(o),index:o}})}return[]}},onClick(t,n,i){i.chart.toggleDataVisibility(n.index),i.chart.update()}}}});class kc extends Sn{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const n=this._cachedMeta,{dataset:i,data:r=[],_dataset:s}=n,o=this.chart._animationsDisabled;let{start:a,count:l}=Hx(n,r,o);this._drawStart=a,this._drawCount=l,qx(n)&&(a=0,l=r.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!s._decimated,i.points=r;const c=this.resolveDatasetElementOptions(t);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(i,void 0,{animated:!o,options:c},t),this.updateElements(r,a,l,t)}updateElements(t,n,i,r){const s=r==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:u,includeOptions:h}=this._getSharedOptions(n,r),d=o.axis,f=a.axis,{spanGaps:m,segment:_}=this.options,v=Us(m)?m:Number.POSITIVE_INFINITY,p=this.chart._animationsDisabled||s||r==="none",g=n+i,y=t.length;let E=n>0&&this.getParsed(n-1);for(let b=0;b<y;++b){const I=t[b],k=p?I:{};if(b<n||b>=g){k.skip=!0;continue}const w=this.getParsed(b),x=ct(w[f]),T=k[d]=o.getPixelForValue(w[d],b),S=k[f]=s||x?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,w,l):w[f],b);k.skip=isNaN(T)||isNaN(S)||x,k.stop=b>0&&Math.abs(w[d]-E[d])>v,_&&(k.parsed=w,k.raw=c.data[b]),h&&(k.options=u||this.resolveDataElementOptions(b,I.active?"active":r)),p||this.updateElement(I,b,k,r),E=w}}getMaxOverflow(){const t=this._cachedMeta,n=t.dataset,i=n.options&&n.options.borderWidth||0,r=t.data||[];if(!r.length)return i;const s=r[0].size(this.resolveDataElementOptions(0)),o=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(i,s,o)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}j(kc,"id","line"),j(kc,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),j(kc,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class ra extends Sn{constructor(t,n){super(t,n),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const n=this._cachedMeta,i=this.chart,r=i.data.labels||[],s=al(n._parsed[t].r,i.options.locale);return{label:r[t]||"",value:s}}parseObjectData(t,n,i,r){return tE.bind(this)(t,n,i,r)}update(t){const n=this._cachedMeta.data;this._updateRadius(),this.updateElements(n,0,n.length,t)}getMinMax(){const t=this._cachedMeta,n={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach((i,r)=>{const s=this.getParsed(r).r;!isNaN(s)&&this.chart.getDataVisibility(r)&&(s<n.min&&(n.min=s),s>n.max&&(n.max=s))}),n}_updateRadius(){const t=this.chart,n=t.chartArea,i=t.options,r=Math.min(n.right-n.left,n.bottom-n.top),s=Math.max(r/2,0),o=Math.max(i.cutoutPercentage?s/100*i.cutoutPercentage:1,0),a=(s-o)/t.getVisibleDatasetCount();this.outerRadius=s-a*this.index,this.innerRadius=this.outerRadius-a}updateElements(t,n,i,r){const s=r==="reset",o=this.chart,l=o.options.animation,c=this._cachedMeta.rScale,u=c.xCenter,h=c.yCenter,d=c.getIndexAngle(0)-.5*At;let f=d,m;const _=360/this.countVisibleElements();for(m=0;m<n;++m)f+=this._computeAngle(m,r,_);for(m=n;m<n+i;m++){const v=t[m];let p=f,g=f+this._computeAngle(m,r,_),y=o.getDataVisibility(m)?c.getDistanceFromCenterForValue(this.getParsed(m).r):0;f=g,s&&(l.animateScale&&(y=0),l.animateRotate&&(p=g=d));const E={x:u,y:h,innerRadius:0,outerRadius:y,startAngle:p,endAngle:g,options:this.resolveDataElementOptions(m,v.active?"active":r)};this.updateElement(v,m,E,r)}}countVisibleElements(){const t=this._cachedMeta;let n=0;return t.data.forEach((i,r)=>{!isNaN(this.getParsed(r).r)&&this.chart.getDataVisibility(r)&&n++}),n}_computeAngle(t,n,i){return this.chart.getDataVisibility(t)?En(this.resolveDataElementOptions(t,n).angle||i):0}}j(ra,"id","polarArea"),j(ra,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),j(ra,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const n=t.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:i,color:r}}=t.legend.options;return n.labels.map((s,o)=>{const l=t.getDatasetMeta(0).controller.getStyle(o);return{text:s,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:r,lineWidth:l.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(o),index:o}})}return[]}},onClick(t,n,i){i.chart.toggleDataVisibility(n.index),i.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class Zf extends Oi{}j(Zf,"id","pie"),j(Zf,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class Ic extends Sn{getLabelAndValue(t){const n=this._cachedMeta.vScale,i=this.getParsed(t);return{label:n.getLabels()[t],value:""+n.getLabelForValue(i[n.axis])}}parseObjectData(t,n,i,r){return tE.bind(this)(t,n,i,r)}update(t){const n=this._cachedMeta,i=n.dataset,r=n.data||[],s=n.iScale.getLabels();if(i.points=r,t!=="resize"){const o=this.resolveDatasetElementOptions(t);this.options.showLine||(o.borderWidth=0);const a={_loop:!0,_fullLoop:s.length===r.length,options:o};this.updateElement(i,void 0,a,t)}this.updateElements(r,0,r.length,t)}updateElements(t,n,i,r){const s=this._cachedMeta.rScale,o=r==="reset";for(let a=n;a<n+i;a++){const l=t[a],c=this.resolveDataElementOptions(a,l.active?"active":r),u=s.getPointPositionForValue(a,this.getParsed(a).r),h=o?s.xCenter:u.x,d=o?s.yCenter:u.y,f={x:h,y:d,angle:u.angle,skip:isNaN(h)||isNaN(d),options:c};this.updateElement(l,a,f,r)}}}j(Ic,"id","radar"),j(Ic,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),j(Ic,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class Ac extends Sn{getLabelAndValue(t){const n=this._cachedMeta,i=this.chart.data.labels||[],{xScale:r,yScale:s}=n,o=this.getParsed(t),a=r.getLabelForValue(o.x),l=s.getLabelForValue(o.y);return{label:i[t]||"",value:"("+a+", "+l+")"}}update(t){const n=this._cachedMeta,{data:i=[]}=n,r=this.chart._animationsDisabled;let{start:s,count:o}=Hx(n,i,r);if(this._drawStart=s,this._drawCount=o,qx(n)&&(s=0,o=i.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:a,_dataset:l}=n;a._chart=this.chart,a._datasetIndex=this.index,a._decimated=!!l._decimated,a.points=i;const c=this.resolveDatasetElementOptions(t);c.segment=this.options.segment,this.updateElement(a,void 0,{animated:!r,options:c},t)}else this.datasetElementType&&(delete n.dataset,this.datasetElementType=!1);this.updateElements(i,s,o,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,n,i,r){const s=r==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,u=this.resolveDataElementOptions(n,r),h=this.getSharedOptions(u),d=this.includeOptions(r,h),f=o.axis,m=a.axis,{spanGaps:_,segment:v}=this.options,p=Us(_)?_:Number.POSITIVE_INFINITY,g=this.chart._animationsDisabled||s||r==="none";let y=n>0&&this.getParsed(n-1);for(let E=n;E<n+i;++E){const b=t[E],I=this.getParsed(E),k=g?b:{},w=ct(I[m]),x=k[f]=o.getPixelForValue(I[f],E),T=k[m]=s||w?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,I,l):I[m],E);k.skip=isNaN(x)||isNaN(T)||w,k.stop=E>0&&Math.abs(I[f]-y[f])>p,v&&(k.parsed=I,k.raw=c.data[E]),d&&(k.options=h||this.resolveDataElementOptions(E,b.active?"active":r)),g||this.updateElement(b,E,k,r),y=I}this.updateSharedOptions(h,r,u)}getMaxOverflow(){const t=this._cachedMeta,n=t.data||[];if(!this.options.showLine){let a=0;for(let l=n.length-1;l>=0;--l)a=Math.max(a,n[l].size(this.resolveDataElementOptions(l))/2);return a>0&&a}const i=t.dataset,r=i.options&&i.options.borderWidth||0;if(!n.length)return r;const s=n[0].size(this.resolveDataElementOptions(0)),o=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(r,s,o)/2}}j(Ac,"id","scatter"),j(Ac,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),j(Ac,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var SR=Object.freeze({__proto__:null,BarController:ia,BubbleController:Sc,DoughnutController:Oi,LineController:kc,PieController:Zf,PolarAreaController:ra,RadarController:Ic,ScatterController:Ac});function wr(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class tm{constructor(t){j(this,"options");this.options=t||{}}static override(t){Object.assign(tm.prototype,t)}init(){}formats(){return wr()}parse(){return wr()}format(){return wr()}add(){return wr()}diff(){return wr()}startOf(){return wr()}endOf(){return wr()}}var kR={_date:tm};function IR(e,t,n,i){const{controller:r,data:s,_sorted:o}=e,a=r._cachedMeta.iScale;if(a&&t===a.axis&&t!=="r"&&o&&s.length){const l=a._reversePixels?YC:ri;if(i){if(r._sharedOptions){const c=s[0],u=typeof c.getRange=="function"&&c.getRange(t);if(u){const h=l(s,t,n-u),d=l(s,t,n+u);return{lo:h.lo,hi:d.hi}}}}else return l(s,t,n)}return{lo:0,hi:s.length-1}}function ll(e,t,n,i,r){const s=e.getSortedVisibleDatasetMetas(),o=n[t];for(let a=0,l=s.length;a<l;++a){const{index:c,data:u}=s[a],{lo:h,hi:d}=IR(s[a],t,o,r);for(let f=h;f<=d;++f){const m=u[f];m.skip||i(m,c,f)}}}function AR(e){const t=e.indexOf("x")!==-1,n=e.indexOf("y")!==-1;return function(i,r){const s=t?Math.abs(i.x-r.x):0,o=n?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(o,2))}}function bd(e,t,n,i,r){const s=[];return!r&&!e.isPointInArea(t)||ll(e,n,t,function(a,l,c){!r&&!si(a,e.chartArea,0)||a.inRange(t.x,t.y,i)&&s.push({element:a,datasetIndex:l,index:c})},!0),s}function CR(e,t,n,i){let r=[];function s(o,a,l){const{startAngle:c,endAngle:u}=o.getProps(["startAngle","endAngle"],i),{angle:h}=zx(o,{x:t.x,y:t.y});Da(h,c,u)&&r.push({element:o,datasetIndex:a,index:l})}return ll(e,n,t,s),r}function PR(e,t,n,i,r,s){let o=[];const a=AR(n);let l=Number.POSITIVE_INFINITY;function c(u,h,d){const f=u.inRange(t.x,t.y,r);if(i&&!f)return;const m=u.getCenterPoint(r);if(!(!!s||e.isPointInArea(m))&&!f)return;const v=a(t,m);v<l?(o=[{element:u,datasetIndex:h,index:d}],l=v):v===l&&o.push({element:u,datasetIndex:h,index:d})}return ll(e,n,t,c),o}function Td(e,t,n,i,r,s){return!s&&!e.isPointInArea(t)?[]:n==="r"&&!i?CR(e,t,n,r):PR(e,t,n,i,r,s)}function i0(e,t,n,i,r){const s=[],o=n==="x"?"inXRange":"inYRange";let a=!1;return ll(e,n,t,(l,c,u)=>{l[o](t[n],r)&&(s.push({element:l,datasetIndex:c,index:u}),a=a||l.inRange(t.x,t.y,r))}),i&&!a?[]:s}var RR={evaluateInteractionItems:ll,modes:{index(e,t,n,i){const r=Tr(t,e),s=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?bd(e,r,s,i,o):Td(e,r,s,!1,i,o),l=[];return a.length?(e.getSortedVisibleDatasetMetas().forEach(c=>{const u=a[0].index,h=c.data[u];h&&!h.skip&&l.push({element:h,datasetIndex:c.index,index:u})}),l):[]},dataset(e,t,n,i){const r=Tr(t,e),s=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?bd(e,r,s,i,o):Td(e,r,s,!1,i,o);if(a.length>0){const l=a[0].datasetIndex,c=e.getDatasetMeta(l).data;a=[];for(let u=0;u<c.length;++u)a.push({element:c[u],datasetIndex:l,index:u})}return a},point(e,t,n,i){const r=Tr(t,e),s=n.axis||"xy",o=n.includeInvisible||!1;return bd(e,r,s,i,o)},nearest(e,t,n,i){const r=Tr(t,e),s=n.axis||"xy",o=n.includeInvisible||!1;return Td(e,r,s,n.intersect,i,o)},x(e,t,n,i){const r=Tr(t,e);return i0(e,r,"x",n.intersect,i)},y(e,t,n,i){const r=Tr(t,e);return i0(e,r,"y",n.intersect,i)}}};const hE=["left","top","right","bottom"];function xo(e,t){return e.filter(n=>n.pos===t)}function r0(e,t){return e.filter(n=>hE.indexOf(n.pos)===-1&&n.box.axis===t)}function Eo(e,t){return e.sort((n,i)=>{const r=t?i:n,s=t?n:i;return r.weight===s.weight?r.index-s.index:r.weight-s.weight})}function MR(e){const t=[];let n,i,r,s,o,a;for(n=0,i=(e||[]).length;n<i;++n)r=e[n],{position:s,options:{stack:o,stackWeight:a=1}}=r,t.push({index:n,box:r,pos:s,horizontal:r.isHorizontal(),weight:r.weight,stack:o&&s+o,stackWeight:a});return t}function DR(e){const t={};for(const n of e){const{stack:i,pos:r,stackWeight:s}=n;if(!i||!hE.includes(r))continue;const o=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=s}return t}function OR(e,t){const n=DR(e),{vBoxMaxWidth:i,hBoxMaxHeight:r}=t;let s,o,a;for(s=0,o=e.length;s<o;++s){a=e[s];const{fullSize:l}=a.box,c=n[a.stack],u=c&&a.stackWeight/c.weight;a.horizontal?(a.width=u?u*i:l&&t.availableWidth,a.height=r):(a.width=i,a.height=u?u*r:l&&t.availableHeight)}return n}function NR(e){const t=MR(e),n=Eo(t.filter(c=>c.box.fullSize),!0),i=Eo(xo(t,"left"),!0),r=Eo(xo(t,"right")),s=Eo(xo(t,"top"),!0),o=Eo(xo(t,"bottom")),a=r0(t,"x"),l=r0(t,"y");return{fullSize:n,leftAndTop:i.concat(s),rightAndBottom:r.concat(l).concat(o).concat(a),chartArea:xo(t,"chartArea"),vertical:i.concat(r).concat(l),horizontal:s.concat(o).concat(a)}}function s0(e,t,n,i){return Math.max(e[n],t[n])+Math.max(e[i],t[i])}function dE(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function LR(e,t,n,i){const{pos:r,box:s}=n,o=e.maxPadding;if(!it(r)){n.size&&(e[r]-=n.size);const h=i[n.stack]||{size:0,count:1};h.size=Math.max(h.size,n.horizontal?s.height:s.width),n.size=h.size/h.count,e[r]+=n.size}s.getPadding&&dE(o,s.getPadding());const a=Math.max(0,t.outerWidth-s0(o,e,"left","right")),l=Math.max(0,t.outerHeight-s0(o,e,"top","bottom")),c=a!==e.w,u=l!==e.h;return e.w=a,e.h=l,n.horizontal?{same:c,other:u}:{same:u,other:c}}function VR(e){const t=e.maxPadding;function n(i){const r=Math.max(t[i]-e[i],0);return e[i]+=r,r}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}function FR(e,t){const n=t.maxPadding;function i(r){const s={left:0,top:0,right:0,bottom:0};return r.forEach(o=>{s[o]=Math.max(t[o],n[o])}),s}return i(e?["left","right"]:["top","bottom"])}function No(e,t,n,i){const r=[];let s,o,a,l,c,u;for(s=0,o=e.length,c=0;s<o;++s){a=e[s],l=a.box,l.update(a.width||t.w,a.height||t.h,FR(a.horizontal,t));const{same:h,other:d}=LR(t,n,a,i);c|=h&&r.length,u=u||d,l.fullSize||r.push(a)}return c&&No(r,t,n,i)||u}function Yl(e,t,n,i,r){e.top=n,e.left=t,e.right=t+i,e.bottom=n+r,e.width=i,e.height=r}function o0(e,t,n,i){const r=n.padding;let{x:s,y:o}=t;for(const a of e){const l=a.box,c=i[a.stack]||{count:1,placed:0,weight:1},u=a.stackWeight/c.weight||1;if(a.horizontal){const h=t.w*u,d=c.size||l.height;Ma(c.start)&&(o=c.start),l.fullSize?Yl(l,r.left,o,n.outerWidth-r.right-r.left,d):Yl(l,t.left+c.placed,o,h,d),c.start=o,c.placed+=h,o=l.bottom}else{const h=t.h*u,d=c.size||l.width;Ma(c.start)&&(s=c.start),l.fullSize?Yl(l,s,r.top,d,n.outerHeight-r.bottom-r.top):Yl(l,s,t.top+c.placed,d,h),c.start=s,c.placed+=h,s=l.right}}t.x=s,t.y=o}var ke={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(n){t.draw(n)}}]},e.boxes.push(t)},removeBox(e,t){const n=e.boxes?e.boxes.indexOf(t):-1;n!==-1&&e.boxes.splice(n,1)},configure(e,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},update(e,t,n,i){if(!e)return;const r=Pe(e.options.layout.padding),s=Math.max(t-r.width,0),o=Math.max(n-r.height,0),a=NR(e.boxes),l=a.vertical,c=a.horizontal;gt(e.boxes,_=>{typeof _.beforeLayout=="function"&&_.beforeLayout()});const u=l.reduce((_,v)=>v.box.options&&v.box.options.display===!1?_:_+1,0)||1,h=Object.freeze({outerWidth:t,outerHeight:n,padding:r,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/u,hBoxMaxHeight:o/2}),d=Object.assign({},r);dE(d,Pe(i));const f=Object.assign({maxPadding:d,w:s,h:o,x:r.left,y:r.top},r),m=OR(l.concat(c),h);No(a.fullSize,f,h,m),No(l,f,h,m),No(c,f,h,m)&&No(l,f,h,m),VR(f),o0(a.leftAndTop,f,h,m),f.x+=f.w,f.y+=f.h,o0(a.rightAndBottom,f,h,m),e.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},gt(a.chartArea,_=>{const v=_.box;Object.assign(v,e.chartArea),v.update(f.w,f.h,{left:0,top:0,right:0,bottom:0})})}};class fE{acquireContext(t,n){}releaseContext(t){return!1}addEventListener(t,n,i){}removeEventListener(t,n,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,n,i,r){return n=Math.max(0,n||t.width),i=i||t.height,{width:n,height:Math.max(0,r?Math.floor(n/r):i)}}isAttached(t){return!0}updateConfig(t){}}class jR extends fE{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const Cc="$chartjs",zR={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},a0=e=>e===null||e==="";function $R(e,t){const n=e.style,i=e.getAttribute("height"),r=e.getAttribute("width");if(e[Cc]={initial:{height:i,width:r,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",a0(r)){const s=U_(e,"width");s!==void 0&&(e.width=s)}if(a0(i))if(e.style.height==="")e.height=e.width/(t||2);else{const s=U_(e,"height");s!==void 0&&(e.height=s)}return e}const pE=UP?{passive:!0}:!1;function BR(e,t,n){e.addEventListener(t,n,pE)}function UR(e,t,n){e.canvas.removeEventListener(t,n,pE)}function WR(e,t){const n=zR[e.type]||e.type,{x:i,y:r}=Tr(e,t);return{type:n,chart:t,native:e,x:i!==void 0?i:null,y:r!==void 0?r:null}}function gu(e,t){for(const n of e)if(n===t||n.contains(t))return!0}function HR(e,t,n){const i=e.canvas,r=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||gu(a.addedNodes,i),o=o&&!gu(a.removedNodes,i);o&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}function qR(e,t,n){const i=e.canvas,r=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||gu(a.removedNodes,i),o=o&&!gu(a.addedNodes,i);o&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}const Na=new Map;let l0=0;function gE(){const e=window.devicePixelRatio;e!==l0&&(l0=e,Na.forEach((t,n)=>{n.currentDevicePixelRatio!==e&&t()}))}function KR(e,t){Na.size||window.addEventListener("resize",gE),Na.set(e,t)}function QR(e){Na.delete(e),Na.size||window.removeEventListener("resize",gE)}function GR(e,t,n){const i=e.canvas,r=i&&Zg(i);if(!r)return;const s=Wx((a,l)=>{const c=r.clientWidth;n(a,l),c<r.clientWidth&&n()},window),o=new ResizeObserver(a=>{const l=a[0],c=l.contentRect.width,u=l.contentRect.height;c===0&&u===0||s(c,u)});return o.observe(r),KR(e,s),o}function Sd(e,t,n){n&&n.disconnect(),t==="resize"&&QR(e)}function YR(e,t,n){const i=e.canvas,r=Wx(s=>{e.ctx!==null&&n(WR(s,e))},e);return BR(i,t,r),r}class XR extends fE{acquireContext(t,n){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?($R(t,n),i):null}releaseContext(t){const n=t.canvas;if(!n[Cc])return!1;const i=n[Cc].initial;["height","width"].forEach(s=>{const o=i[s];ct(o)?n.removeAttribute(s):n.setAttribute(s,o)});const r=i.style||{};return Object.keys(r).forEach(s=>{n.style[s]=r[s]}),n.width=n.width,delete n[Cc],!0}addEventListener(t,n,i){this.removeEventListener(t,n);const r=t.$proxies||(t.$proxies={}),o={attach:HR,detach:qR,resize:GR}[n]||YR;r[n]=o(t,n,i)}removeEventListener(t,n){const i=t.$proxies||(t.$proxies={}),r=i[n];if(!r)return;({attach:Sd,detach:Sd,resize:Sd}[n]||UR)(t,n,r),i[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,n,i,r){return BP(t,n,i,r)}isAttached(t){const n=Zg(t);return!!(n&&n.isConnected)}}function JR(e){return!nE()||typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas?jR:XR}var dc;let vi=(dc=class{constructor(){j(this,"x");j(this,"y");j(this,"active",!1);j(this,"options");j(this,"$animations")}tooltipPosition(t){const{x:n,y:i}=this.getProps(["x","y"],t);return{x:n,y:i}}hasValue(){return Us(this.x)&&Us(this.y)}getProps(t,n){const i=this.$animations;if(!n||!i)return this;const r={};return t.forEach(s=>{r[s]=i[s]&&i[s].active()?i[s]._to:this[s]}),r}},j(dc,"defaults",{}),j(dc,"defaultRoutes"),dc);function ZR(e,t){const n=e.options.ticks,i=tM(e),r=Math.min(n.maxTicksLimit||i,i),s=n.major.enabled?nM(t):[],o=s.length,a=s[0],l=s[o-1],c=[];if(o>r)return iM(t,c,s,o/r),c;const u=eM(s,t,r);if(o>0){let h,d;const f=o>1?Math.round((l-a)/(o-1)):null;for(Xl(t,c,u,ct(f)?0:a-f,a),h=0,d=o-1;h<d;h++)Xl(t,c,u,s[h],s[h+1]);return Xl(t,c,u,l,ct(f)?t.length:l+f),c}return Xl(t,c,u),c}function tM(e){const t=e.options.offset,n=e._tickSize(),i=e._length/n+(t?0:1),r=e._maxLength/n;return Math.floor(Math.min(i,r))}function eM(e,t,n){const i=rM(e),r=t.length/n;if(!i)return Math.max(r,1);const s=qC(i);for(let o=0,a=s.length-1;o<a;o++){const l=s[o];if(l>r)return l}return Math.max(r,1)}function nM(e){const t=[];let n,i;for(n=0,i=e.length;n<i;n++)e[n].major&&t.push(n);return t}function iM(e,t,n,i){let r=0,s=n[0],o;for(i=Math.ceil(i),o=0;o<e.length;o++)o===s&&(t.push(e[o]),r++,s=n[r*i])}function Xl(e,t,n,i,r){const s=tt(i,0),o=Math.min(tt(r,e.length),e.length);let a=0,l,c,u;for(n=Math.ceil(n),r&&(l=r-i,n=l/Math.floor(l/n)),u=s;u<0;)a++,u=Math.round(s+a*n);for(c=Math.max(s,0);c<o;c++)c===u&&(t.push(e[c]),a++,u=Math.round(s+a*n))}function rM(e){const t=e.length;let n,i;if(t<2)return!1;for(i=e[0],n=1;n<t;++n)if(e[n]-e[n-1]!==i)return!1;return i}const sM=e=>e==="left"?"right":e==="right"?"left":e,c0=(e,t,n)=>t==="top"||t==="left"?e[t]+n:e[t]-n,u0=(e,t)=>Math.min(t||e,e);function h0(e,t){const n=[],i=e.length/t,r=e.length;let s=0;for(;s<r;s+=i)n.push(e[Math.floor(s)]);return n}function oM(e,t,n){const i=e.ticks.length,r=Math.min(t,i-1),s=e._startPixel,o=e._endPixel,a=1e-6;let l=e.getPixelForTick(r),c;if(!(n&&(i===1?c=Math.max(l-s,o-l):t===0?c=(e.getPixelForTick(1)-l)/2:c=(l-e.getPixelForTick(r-1))/2,l+=r<t?c:-c,l<s-a||l>o+a)))return l}function aM(e,t){gt(e,n=>{const i=n.gc,r=i.length/2;let s;if(r>t){for(s=0;s<r;++s)delete n.data[i[s]];i.splice(0,r)}})}function bo(e){return e.drawTicks?e.tickLength:0}function d0(e,t){if(!e.display)return 0;const n=ee(e.font,t),i=Pe(e.padding);return(St(e.text)?e.text.length:1)*n.lineHeight+i.height}function lM(e,t){return hr(e,{scale:t,type:"scale"})}function cM(e,t,n){return hr(e,{tick:n,index:t,type:"tick"})}function uM(e,t,n){let i=Kg(e);return(n&&t!=="right"||!n&&t==="right")&&(i=sM(i)),i}function hM(e,t,n,i){const{top:r,left:s,bottom:o,right:a,chart:l}=e,{chartArea:c,scales:u}=l;let h=0,d,f,m;const _=o-r,v=a-s;if(e.isHorizontal()){if(f=Ee(i,s,a),it(n)){const p=Object.keys(n)[0],g=n[p];m=u[p].getPixelForValue(g)+_-t}else n==="center"?m=(c.bottom+c.top)/2+_-t:m=c0(e,n,t);d=a-s}else{if(it(n)){const p=Object.keys(n)[0],g=n[p];f=u[p].getPixelForValue(g)-v+t}else n==="center"?f=(c.left+c.right)/2-v+t:f=c0(e,n,t);m=Ee(i,o,r),h=n==="left"?-Ht:Ht}return{titleX:f,titleY:m,maxWidth:d,rotation:h}}class ts extends vi{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,n){return t}getUserBounds(){let{_userMin:t,_userMax:n,_suggestedMin:i,_suggestedMax:r}=this;return t=qe(t,Number.POSITIVE_INFINITY),n=qe(n,Number.NEGATIVE_INFINITY),i=qe(i,Number.POSITIVE_INFINITY),r=qe(r,Number.NEGATIVE_INFINITY),{min:qe(t,i),max:qe(n,r),minDefined:zt(t),maxDefined:zt(n)}}getMinMax(t){let{min:n,max:i,minDefined:r,maxDefined:s}=this.getUserBounds(),o;if(r&&s)return{min:n,max:i};const a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)o=a[l].controller.getMinMax(this,t),r||(n=Math.min(n,o.min)),s||(i=Math.max(i,o.max));return n=s&&n>i?i:n,i=r&&n>i?n:i,{min:qe(n,qe(i,n)),max:qe(i,qe(n,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){wt(this.options.beforeUpdate,[this])}update(t,n,i){const{beginAtZero:r,grace:s,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=n,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=wP(this,s,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?h0(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=ZR(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,n,i;this.isHorizontal()?(n=this.left,i=this.right):(n=this.top,i=this.bottom,t=!t),this._startPixel=n,this._endPixel=i,this._reversePixels=t,this._length=i-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){wt(this.options.afterUpdate,[this])}beforeSetDimensions(){wt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){wt(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),wt(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){wt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const n=this.options.ticks;let i,r,s;for(i=0,r=t.length;i<r;i++)s=t[i],s.label=wt(n.callback,[s.value,i,t],this)}afterTickToLabelConversion(){wt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){wt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,n=t.ticks,i=u0(this.ticks.length,t.ticks.maxTicksLimit),r=n.minRotation||0,s=n.maxRotation;let o=r,a,l,c;if(!this._isVisible()||!n.display||r>=s||i<=1||!this.isHorizontal()){this.labelRotation=r;return}const u=this._getLabelSizes(),h=u.widest.width,d=u.highest.height,f=oe(this.chart.width-h,0,this.maxWidth);a=t.offset?this.maxWidth/i:f/(i-1),h+6>a&&(a=f/(i-(t.offset?.5:1)),l=this.maxHeight-bo(t.grid)-n.padding-d0(t.title,this.chart.options.font),c=Math.sqrt(h*h+d*d),o=Hg(Math.min(Math.asin(oe((u.highest.height+6)/a,-1,1)),Math.asin(oe(l/c,-1,1))-Math.asin(oe(d/c,-1,1)))),o=Math.max(r,Math.min(s,o))),this.labelRotation=o}afterCalculateLabelRotation(){wt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){wt(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:n,options:{ticks:i,title:r,grid:s}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=d0(r,n.options.font);if(a?(t.width=this.maxWidth,t.height=bo(s)+l):(t.height=this.maxHeight,t.width=bo(s)+l),i.display&&this.ticks.length){const{first:c,last:u,widest:h,highest:d}=this._getLabelSizes(),f=i.padding*2,m=En(this.labelRotation),_=Math.cos(m),v=Math.sin(m);if(a){const p=i.mirror?0:v*h.width+_*d.height;t.height=Math.min(this.maxHeight,t.height+p+f)}else{const p=i.mirror?0:_*h.width+v*d.height;t.width=Math.min(this.maxWidth,t.width+p+f)}this._calculatePadding(c,u,v,_)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,n,i,r){const{ticks:{align:s,padding:o},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1);let d=0,f=0;l?c?(d=r*t.width,f=i*n.height):(d=i*t.height,f=r*n.width):s==="start"?f=n.width:s==="end"?d=t.width:s!=="inner"&&(d=t.width/2,f=n.width/2),this.paddingLeft=Math.max((d-u+o)*this.width/(this.width-u),0),this.paddingRight=Math.max((f-h+o)*this.width/(this.width-h),0)}else{let u=n.height/2,h=t.height/2;s==="start"?(u=0,h=t.height):s==="end"&&(u=n.height,h=0),this.paddingTop=u+o,this.paddingBottom=h+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){wt(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:n}=this.options;return n==="top"||n==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let n,i;for(n=0,i=t.length;n<i;n++)ct(t[n].label)&&(t.splice(n,1),i--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const n=this.options.ticks.sampleSize;let i=this.ticks;n<i.length&&(i=h0(i,n)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,n,i){const{ctx:r,_longestTextCache:s}=this,o=[],a=[],l=Math.floor(n/u0(n,i));let c=0,u=0,h,d,f,m,_,v,p,g,y,E,b;for(h=0;h<n;h+=l){if(m=t[h].label,_=this._resolveTickFontOptions(h),r.font=v=_.string,p=s[v]=s[v]||{data:{},gc:[]},g=_.lineHeight,y=E=0,!ct(m)&&!St(m))y=fu(r,p.data,p.gc,y,m),E=g;else if(St(m))for(d=0,f=m.length;d<f;++d)b=m[d],!ct(b)&&!St(b)&&(y=fu(r,p.data,p.gc,y,b),E+=g);o.push(y),a.push(E),c=Math.max(y,c),u=Math.max(E,u)}aM(s,n);const I=o.indexOf(c),k=a.indexOf(u),w=x=>({width:o[x]||0,height:a[x]||0});return{first:w(0),last:w(n-1),widest:w(I),highest:w(k),widths:o,heights:a}}getLabelForValue(t){return t}getPixelForValue(t,n){return NaN}getValueForPixel(t){}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const n=this._startPixel+t*this._length;return GC(this._alignToPixels?vr(this.chart,n,0):n)}getDecimalForPixel(t){const n=(t-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:n}=this;return t<0&&n<0?n:t>0&&n>0?t:0}getContext(t){const n=this.ticks||[];if(t>=0&&t<n.length){const i=n[t];return i.$context||(i.$context=cM(this.getContext(),t,i))}return this.$context||(this.$context=lM(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,n=En(this.labelRotation),i=Math.abs(Math.cos(n)),r=Math.abs(Math.sin(n)),s=this._getLabelSizes(),o=t.autoSkipPadding||0,a=s?s.widest.width+o:0,l=s?s.highest.height+o:0;return this.isHorizontal()?l*i>a*r?a/i:l/r:l*r<a*i?l/i:a/r}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const n=this.axis,i=this.chart,r=this.options,{grid:s,position:o,border:a}=r,l=s.offset,c=this.isHorizontal(),h=this.ticks.length+(l?1:0),d=bo(s),f=[],m=a.setContext(this.getContext()),_=m.display?m.width:0,v=_/2,p=function(H){return vr(i,H,_)};let g,y,E,b,I,k,w,x,T,S,A,R;if(o==="top")g=p(this.bottom),k=this.bottom-d,x=g-v,S=p(t.top)+v,R=t.bottom;else if(o==="bottom")g=p(this.top),S=t.top,R=p(t.bottom)-v,k=g+v,x=this.top+d;else if(o==="left")g=p(this.right),I=this.right-d,w=g-v,T=p(t.left)+v,A=t.right;else if(o==="right")g=p(this.left),T=t.left,A=p(t.right)-v,I=g+v,w=this.left+d;else if(n==="x"){if(o==="center")g=p((t.top+t.bottom)/2+.5);else if(it(o)){const H=Object.keys(o)[0],F=o[H];g=p(this.chart.scales[H].getPixelForValue(F))}S=t.top,R=t.bottom,k=g+v,x=k+d}else if(n==="y"){if(o==="center")g=p((t.left+t.right)/2);else if(it(o)){const H=Object.keys(o)[0],F=o[H];g=p(this.chart.scales[H].getPixelForValue(F))}I=g-v,w=I-d,T=t.left,A=t.right}const $=tt(r.ticks.maxTicksLimit,h),B=Math.max(1,Math.ceil(h/$));for(y=0;y<h;y+=B){const H=this.getContext(y),F=s.setContext(H),M=a.setContext(H),P=F.lineWidth,q=F.color,Z=M.dash||[],V=M.dashOffset,st=F.tickWidth,ft=F.tickColor,ut=F.tickBorderDash||[],ht=F.tickBorderDashOffset;E=oM(this,y,l),E!==void 0&&(b=vr(i,E,P),c?I=w=T=A=b:k=x=S=R=b,f.push({tx1:I,ty1:k,tx2:w,ty2:x,x1:T,y1:S,x2:A,y2:R,width:P,color:q,borderDash:Z,borderDashOffset:V,tickWidth:st,tickColor:ft,tickBorderDash:ut,tickBorderDashOffset:ht}))}return this._ticksLength=h,this._borderValue=g,f}_computeLabelItems(t){const n=this.axis,i=this.options,{position:r,ticks:s}=i,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:u,mirror:h}=s,d=bo(i.grid),f=d+u,m=h?-u:f,_=-En(this.labelRotation),v=[];let p,g,y,E,b,I,k,w,x,T,S,A,R="middle";if(r==="top")I=this.bottom-m,k=this._getXAxisLabelAlignment();else if(r==="bottom")I=this.top+m,k=this._getXAxisLabelAlignment();else if(r==="left"){const B=this._getYAxisLabelAlignment(d);k=B.textAlign,b=B.x}else if(r==="right"){const B=this._getYAxisLabelAlignment(d);k=B.textAlign,b=B.x}else if(n==="x"){if(r==="center")I=(t.top+t.bottom)/2+f;else if(it(r)){const B=Object.keys(r)[0],H=r[B];I=this.chart.scales[B].getPixelForValue(H)+f}k=this._getXAxisLabelAlignment()}else if(n==="y"){if(r==="center")b=(t.left+t.right)/2-f;else if(it(r)){const B=Object.keys(r)[0],H=r[B];b=this.chart.scales[B].getPixelForValue(H)}k=this._getYAxisLabelAlignment(d).textAlign}n==="y"&&(l==="start"?R="top":l==="end"&&(R="bottom"));const $=this._getLabelSizes();for(p=0,g=a.length;p<g;++p){y=a[p],E=y.label;const B=s.setContext(this.getContext(p));w=this.getPixelForTick(p)+s.labelOffset,x=this._resolveTickFontOptions(p),T=x.lineHeight,S=St(E)?E.length:1;const H=S/2,F=B.color,M=B.textStrokeColor,P=B.textStrokeWidth;let q=k;o?(b=w,k==="inner"&&(p===g-1?q=this.options.reverse?"left":"right":p===0?q=this.options.reverse?"right":"left":q="center"),r==="top"?c==="near"||_!==0?A=-S*T+T/2:c==="center"?A=-$.highest.height/2-H*T+T:A=-$.highest.height+T/2:c==="near"||_!==0?A=T/2:c==="center"?A=$.highest.height/2-H*T:A=$.highest.height-S*T,h&&(A*=-1),_!==0&&!B.showLabelBackdrop&&(b+=T/2*Math.sin(_))):(I=w,A=(1-S)*T/2);let Z;if(B.showLabelBackdrop){const V=Pe(B.backdropPadding),st=$.heights[p],ft=$.widths[p];let ut=A-V.top,ht=0-V.left;switch(R){case"middle":ut-=st/2;break;case"bottom":ut-=st;break}switch(k){case"center":ht-=ft/2;break;case"right":ht-=ft;break}Z={left:ht,top:ut,width:ft+V.width,height:st+V.height,color:B.backdropColor}}v.push({label:E,font:x,textOffset:A,options:{rotation:_,color:F,strokeColor:M,strokeWidth:P,textAlign:q,textBaseline:R,translation:[b,I],backdrop:Z}})}return v}_getXAxisLabelAlignment(){const{position:t,ticks:n}=this.options;if(-En(this.labelRotation))return t==="top"?"left":"right";let r="center";return n.align==="start"?r="left":n.align==="end"?r="right":n.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(t){const{position:n,ticks:{crossAlign:i,mirror:r,padding:s}}=this.options,o=this._getLabelSizes(),a=t+s,l=o.widest.width;let c,u;return n==="left"?r?(u=this.right+s,i==="near"?c="left":i==="center"?(c="center",u+=l/2):(c="right",u+=l)):(u=this.right-a,i==="near"?c="right":i==="center"?(c="center",u-=l/2):(c="left",u=this.left)):n==="right"?r?(u=this.left+s,i==="near"?c="right":i==="center"?(c="center",u-=l/2):(c="left",u-=l)):(u=this.left+a,i==="near"?c="left":i==="center"?(c="center",u+=l/2):(c="right",u=this.right)):c="right",{textAlign:c,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:n},left:i,top:r,width:s,height:o}=this;n&&(t.save(),t.fillStyle=n,t.fillRect(i,r,s,o),t.restore())}getLineWidthForValue(t){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const r=this.ticks.findIndex(s=>s.value===t);return r>=0?n.setContext(this.getContext(r)).lineWidth:0}drawGrid(t){const n=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let s,o;const a=(l,c,u)=>{!u.width||!u.color||(i.save(),i.lineWidth=u.width,i.strokeStyle=u.color,i.setLineDash(u.borderDash||[]),i.lineDashOffset=u.borderDashOffset,i.beginPath(),i.moveTo(l.x,l.y),i.lineTo(c.x,c.y),i.stroke(),i.restore())};if(n.display)for(s=0,o=r.length;s<o;++s){const l=r[s];n.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:n,options:{border:i,grid:r}}=this,s=i.setContext(this.getContext()),o=i.display?s.width:0;if(!o)return;const a=r.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,u,h,d;this.isHorizontal()?(c=vr(t,this.left,o)-o/2,u=vr(t,this.right,a)+a/2,h=d=l):(h=vr(t,this.top,o)-o/2,d=vr(t,this.bottom,a)+a/2,c=u=l),n.save(),n.lineWidth=s.width,n.strokeStyle=s.color,n.beginPath(),n.moveTo(c,h),n.lineTo(u,d),n.stroke(),n.restore()}drawLabels(t){if(!this.options.ticks.display)return;const i=this.ctx,r=this._computeLabelArea();r&&rh(i,r);const s=this.getLabelItems(t);for(const o of s){const a=o.options,l=o.font,c=o.label,u=o.textOffset;Hr(i,c,0,u,l,a)}r&&sh(i)}drawTitle(){const{ctx:t,options:{position:n,title:i,reverse:r}}=this;if(!i.display)return;const s=ee(i.font),o=Pe(i.padding),a=i.align;let l=s.lineHeight/2;n==="bottom"||n==="center"||it(n)?(l+=o.bottom,St(i.text)&&(l+=s.lineHeight*(i.text.length-1))):l+=o.top;const{titleX:c,titleY:u,maxWidth:h,rotation:d}=hM(this,l,n,a);Hr(t,i.text,0,0,s,{color:i.color,maxWidth:h,rotation:d,textAlign:uM(a,n,r),textBaseline:"middle",translation:[c,u]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,n=t.ticks&&t.ticks.z||0,i=tt(t.grid&&t.grid.z,-1),r=tt(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==ts.prototype.draw?[{z:n,draw:s=>{this.draw(s)}}]:[{z:i,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:n,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(t){const n=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[];let s,o;for(s=0,o=n.length;s<o;++s){const a=n[s];a[i]===this.id&&(!t||a.type===t)&&r.push(a)}return r}_resolveTickFontOptions(t){const n=this.options.ticks.setContext(this.getContext(t));return ee(n.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class Jl{constructor(t,n,i){this.type=t,this.scope=n,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const n=Object.getPrototypeOf(t);let i;pM(n)&&(i=this.register(n));const r=this.items,s=t.id,o=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+t);return s in r||(r[s]=t,dM(t,o,i),this.override&&$t.override(t.id,t.overrides)),o}get(t){return this.items[t]}unregister(t){const n=this.items,i=t.id,r=this.scope;i in n&&delete n[i],r&&i in $t[r]&&(delete $t[r][i],this.override&&delete Wr[i])}}function dM(e,t,n){const i=Ra(Object.create(null),[n?$t.get(n):{},$t.get(t),e.defaults]);$t.set(t,i),e.defaultRoutes&&fM(t,e.defaultRoutes),e.descriptors&&$t.describe(t,e.descriptors)}function fM(e,t){Object.keys(t).forEach(n=>{const i=n.split("."),r=i.pop(),s=[e].concat(i).join("."),o=t[n].split("."),a=o.pop(),l=o.join(".");$t.route(s,r,l,a)})}function pM(e){return"id"in e&&"defaults"in e}class gM{constructor(){this.controllers=new Jl(Sn,"datasets",!0),this.elements=new Jl(vi,"elements"),this.plugins=new Jl(Object,"plugins"),this.scales=new Jl(ts,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,n,i){[...n].forEach(r=>{const s=i||this._getRegistryForType(r);i||s.isForType(r)||s===this.plugins&&r.id?this._exec(t,s,r):gt(r,o=>{const a=i||this._getRegistryForType(o);this._exec(t,a,o)})})}_exec(t,n,i){const r=Wg(t);wt(i["before"+r],[],i),n[t](i),wt(i["after"+r],[],i)}_getRegistryForType(t){for(let n=0;n<this._typedRegistries.length;n++){const i=this._typedRegistries[n];if(i.isForType(t))return i}return this.plugins}_get(t,n,i){const r=n.get(t);if(r===void 0)throw new Error('"'+t+'" is not a registered '+i+".");return r}}var Mn=new gM;class mM{constructor(){this._init=[]}notify(t,n,i,r){n==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const s=r?this._descriptors(t).filter(r):this._descriptors(t),o=this._notify(s,t,n,i);return n==="afterDestroy"&&(this._notify(s,t,"stop"),this._notify(this._init,t,"uninstall")),o}_notify(t,n,i,r){r=r||{};for(const s of t){const o=s.plugin,a=o[i],l=[n,r,s.options];if(wt(a,l,o)===!1&&r.cancelable)return!1}return!0}invalidate(){ct(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),n}_createDescriptors(t,n){const i=t&&t.config,r=tt(i.options&&i.options.plugins,{}),s=yM(i);return r===!1&&!n?[]:vM(t,s,r,n)}_notifyStateChanges(t){const n=this._oldCache||[],i=this._cache,r=(s,o)=>s.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(r(n,i),t,"stop"),this._notify(r(i,n),t,"start")}}function yM(e){const t={},n=[],i=Object.keys(Mn.plugins.items);for(let s=0;s<i.length;s++)n.push(Mn.getPlugin(i[s]));const r=e.plugins||[];for(let s=0;s<r.length;s++){const o=r[s];n.indexOf(o)===-1&&(n.push(o),t[o.id]=!0)}return{plugins:n,localIds:t}}function _M(e,t){return!t&&e===!1?null:e===!0?{}:e}function vM(e,{plugins:t,localIds:n},i,r){const s=[],o=e.getContext();for(const a of t){const l=a.id,c=_M(i[l],r);c!==null&&s.push({plugin:a,options:wM(e.config,{plugin:a,local:n[l]},c,o)})}return s}function wM(e,{plugin:t,local:n},i,r){const s=e.pluginScopeKeys(t),o=e.getOptionScopes(i,s);return n&&t.defaults&&o.push(t.defaults),e.createResolver(o,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function tp(e,t){const n=$t.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function xM(e,t){let n=e;return e==="_index_"?n=t:e==="_value_"&&(n=t==="x"?"y":"x"),n}function EM(e,t){return e===t?"_index_":"_value_"}function f0(e){if(e==="x"||e==="y"||e==="r")return e}function bM(e){if(e==="top"||e==="bottom")return"x";if(e==="left"||e==="right")return"y"}function ep(e,...t){if(f0(e))return e;for(const n of t){const i=n.axis||bM(n.position)||e.length>1&&f0(e[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function p0(e,t,n){if(n[t+"AxisID"]===e)return{axis:t}}function TM(e,t){if(t.data&&t.data.datasets){const n=t.data.datasets.filter(i=>i.xAxisID===e||i.yAxisID===e);if(n.length)return p0(e,"x",n[0])||p0(e,"y",n[0])}return{}}function SM(e,t){const n=Wr[e.type]||{scales:{}},i=t.scales||{},r=tp(e.type,t),s=Object.create(null);return Object.keys(i).forEach(o=>{const a=i[o];if(!it(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=ep(o,a,TM(o,e),$t.scales[a.type]),c=EM(l,r),u=n.scales||{};s[o]=Zo(Object.create(null),[{axis:l},a,u[l],u[c]])}),e.data.datasets.forEach(o=>{const a=o.type||e.type,l=o.indexAxis||tp(a,t),u=(Wr[a]||{}).scales||{};Object.keys(u).forEach(h=>{const d=xM(h,l),f=o[d+"AxisID"]||d;s[f]=s[f]||Object.create(null),Zo(s[f],[{axis:d},i[f],u[h]])})}),Object.keys(s).forEach(o=>{const a=s[o];Zo(a,[$t.scales[a.type],$t.scale])}),s}function mE(e){const t=e.options||(e.options={});t.plugins=tt(t.plugins,{}),t.scales=SM(e,t)}function yE(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function kM(e){return e=e||{},e.data=yE(e.data),mE(e),e}const g0=new Map,_E=new Set;function Zl(e,t){let n=g0.get(e);return n||(n=t(),g0.set(e,n),_E.add(n)),n}const To=(e,t,n)=>{const i=tr(t,n);i!==void 0&&e.add(i)};class IM{constructor(t){this._config=kM(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=yE(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),mE(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Zl(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,n){return Zl(`${t}.transition.${n}`,()=>[[`datasets.${t}.transitions.${n}`,`transitions.${n}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,n){return Zl(`${t}-${n}`,()=>[[`datasets.${t}.elements.${n}`,`datasets.${t}`,`elements.${n}`,""]])}pluginScopeKeys(t){const n=t.id,i=this.type;return Zl(`${i}-plugin-${n}`,()=>[[`plugins.${n}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,n){const i=this._scopeCache;let r=i.get(t);return(!r||n)&&(r=new Map,i.set(t,r)),r}getOptionScopes(t,n,i){const{options:r,type:s}=this,o=this._cachedScopes(t,i),a=o.get(n);if(a)return a;const l=new Set;n.forEach(u=>{t&&(l.add(t),u.forEach(h=>To(l,t,h))),u.forEach(h=>To(l,r,h)),u.forEach(h=>To(l,Wr[s]||{},h)),u.forEach(h=>To(l,$t,h)),u.forEach(h=>To(l,Xf,h))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),_E.has(n)&&o.set(n,c),c}chartOptionScopes(){const{options:t,type:n}=this;return[t,Wr[n]||{},$t.datasets[n]||{},{type:n},$t,Xf]}resolveNamedOptions(t,n,i,r=[""]){const s={$shared:!0},{resolver:o,subPrefixes:a}=m0(this._resolverCache,t,r);let l=o;if(CM(o,n)){s.$shared=!1,i=er(i)?i():i;const c=this.createResolver(t,i,a);l=Ws(o,i,c)}for(const c of n)s[c]=l[c];return s}createResolver(t,n,i=[""],r){const{resolver:s}=m0(this._resolverCache,t,i);return it(n)?Ws(s,n,void 0,r):s}}function m0(e,t,n){let i=e.get(t);i||(i=new Map,e.set(t,i));const r=n.join();let s=i.get(r);return s||(s={resolver:Yg(t,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},i.set(r,s)),s}const AM=e=>it(e)&&Object.getOwnPropertyNames(e).reduce((t,n)=>t||er(e[n]),!1);function CM(e,t){const{isScriptable:n,isIndexable:i}=Yx(e);for(const r of t){const s=n(r),o=i(r),a=(o||s)&&e[r];if(s&&(er(a)||AM(a))||o&&St(a))return!0}return!1}var PM="4.4.0";const RM=["top","bottom","left","right","chartArea"];function y0(e,t){return e==="top"||e==="bottom"||RM.indexOf(e)===-1&&t==="x"}function _0(e,t){return function(n,i){return n[e]===i[e]?n[t]-i[t]:n[e]-i[e]}}function v0(e){const t=e.chart,n=t.options.animation;t.notifyPlugins("afterRender"),wt(n&&n.onComplete,[e],t)}function MM(e){const t=e.chart,n=t.options.animation;wt(n&&n.onProgress,[e],t)}function vE(e){return nE()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const Pc={},w0=e=>{const t=vE(e);return Object.values(Pc).filter(n=>n.canvas===t).pop()};function DM(e,t,n){const i=Object.keys(e);for(const r of i){const s=+r;if(s>=t){const o=e[r];delete e[r],(n>0||s>t)&&(e[s+n]=o)}}}function OM(e,t,n,i){return!n||e.type==="mouseout"?null:i?t:e}function tc(e,t,n){return e.options.clip?e[n]:t[n]}function NM(e,t){const{xScale:n,yScale:i}=e;return n&&i?{left:tc(n,t,"left"),right:tc(n,t,"right"),top:tc(i,t,"top"),bottom:tc(i,t,"bottom")}:t}var Ti;let ah=(Ti=class{static register(...t){Mn.add(...t),x0()}static unregister(...t){Mn.remove(...t),x0()}constructor(t,n){const i=this.config=new IM(n),r=vE(t),s=w0(r);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const o=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||JR(r)),this.platform.updateConfig(i);const a=this.platform.acquireContext(r,o.aspectRatio),l=a&&a.canvas,c=l&&l.height,u=l&&l.width;if(this.id=VC(),this.ctx=a,this.canvas=l,this.width=u,this.height=c,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new mM,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=ZC(h=>this.update(h),o.resizeDelay||0),this._dataChanges=[],Pc[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}Yn.listen(this,"complete",v0),Yn.listen(this,"progress",MM),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:n},width:i,height:r,_aspectRatio:s}=this;return ct(t)?n&&s?s:r?i/r:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Mn}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():B_(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return j_(this.canvas,this.ctx),this}stop(){return Yn.stop(this),this}resize(t,n){Yn.running(this)?this._resizeBeforeDraw={width:t,height:n}:this._resize(t,n)}_resize(t,n){const i=this.options,r=this.canvas,s=i.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(r,t,n,s),a=i.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,B_(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),wt(i.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};gt(n,(i,r)=>{i.id=r})}buildOrUpdateScales(){const t=this.options,n=t.scales,i=this.scales,r=Object.keys(i).reduce((o,a)=>(o[a]=!1,o),{});let s=[];n&&(s=s.concat(Object.keys(n).map(o=>{const a=n[o],l=ep(o,a),c=l==="r",u=l==="x";return{options:a,dposition:c?"chartArea":u?"bottom":"left",dtype:c?"radialLinear":u?"category":"linear"}}))),gt(s,o=>{const a=o.options,l=a.id,c=ep(l,a),u=tt(a.type,o.dtype);(a.position===void 0||y0(a.position,c)!==y0(o.dposition))&&(a.position=o.dposition),r[l]=!0;let h=null;if(l in i&&i[l].type===u)h=i[l];else{const d=Mn.getScale(u);h=new d({id:l,type:u,ctx:this.ctx,chart:this}),i[h.id]=h}h.init(a,t)}),gt(r,(o,a)=>{o||delete i[a]}),gt(i,o=>{ke.configure(this,o,o.options),ke.addBox(this,o)})}_updateMetasets(){const t=this._metasets,n=this.data.datasets.length,i=t.length;if(t.sort((r,s)=>r.index-s.index),i>n){for(let r=n;r<i;++r)this._destroyDatasetMeta(r);t.splice(n,i-n)}this._sortedMetasets=t.slice(0).sort(_0("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:n}}=this;t.length>n.length&&delete this._stacks,t.forEach((i,r)=>{n.filter(s=>s===i._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const t=[],n=this.data.datasets;let i,r;for(this._removeUnreferencedMetasets(),i=0,r=n.length;i<r;i++){const s=n[i];let o=this.getDatasetMeta(i);const a=s.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(i),o=this.getDatasetMeta(i)),o.type=a,o.indexAxis=s.indexAxis||tp(a,this.options),o.order=s.order||0,o.index=i,o.label=""+s.label,o.visible=this.isDatasetVisible(i),o.controller)o.controller.updateIndex(i),o.controller.linkScales();else{const l=Mn.getController(a),{datasetElementType:c,dataElementType:u}=$t.datasets[a];Object.assign(l,{dataElementType:Mn.getElement(u),datasetElementType:c&&Mn.getElement(c)}),o.controller=new l(this,i),t.push(o.controller)}}return this._updateMetasets(),t}_resetElements(){gt(this.data.datasets,(t,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const n=this.config;n.update();const i=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let c=0,u=this.data.datasets.length;c<u;c++){const{controller:h}=this.getDatasetMeta(c),d=!r&&s.indexOf(h)===-1;h.buildOrUpdateElements(d),o=Math.max(+h.getMaxOverflow(),o)}o=this._minPadding=i.layout.autoPadding?o:0,this._updateLayout(o),r||gt(s,c=>{c.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(_0("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){gt(this.scales,t=>{ke.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,n=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!P_(n,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,n=this._getUniformDataChanges()||[];for(const{method:i,start:r,count:s}of n){const o=i==="_removeElements"?-s:s;DM(t,r,o)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const n=this.data.datasets.length,i=s=>new Set(t.filter(o=>o[0]===s).map((o,a)=>a+","+o.splice(1).join(","))),r=i(0);for(let s=1;s<n;s++)if(!P_(r,i(s)))return;return Array.from(r).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;ke.update(this,this.width,this.height,t);const n=this.chartArea,i=n.width<=0||n.height<=0;this._layers=[],gt(this.boxes,r=>{i&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,s)=>{r._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let n=0,i=this.data.datasets.length;n<i;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,i=this.data.datasets.length;n<i;++n)this._updateDataset(n,er(t)?t({datasetIndex:n}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,n){const i=this.getDatasetMeta(t),r={meta:i,index:t,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(i.controller._update(n),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Yn.has(this)?this.attached&&!Yn.running(this)&&Yn.start(this):(this.draw(),v0({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:i,height:r}=this._resizeBeforeDraw;this._resize(i,r),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(t=0;t<n.length&&n[t].z<=0;++t)n[t].draw(this.chartArea);for(this._drawDatasets();t<n.length;++t)n[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const n=this._sortedMetasets,i=[];let r,s;for(r=0,s=n.length;r<s;++r){const o=n[r];(!t||o.visible)&&i.push(o)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let n=t.length-1;n>=0;--n)this._drawDataset(t[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const n=this.ctx,i=t._clip,r=!i.disabled,s=NM(t,this.chartArea),o={meta:t,index:t.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",o)!==!1&&(r&&rh(n,{left:i.left===!1?0:s.left-i.left,right:i.right===!1?this.width:s.right+i.right,top:i.top===!1?0:s.top-i.top,bottom:i.bottom===!1?this.height:s.bottom+i.bottom}),t.controller.draw(),r&&sh(n),o.cancelable=!1,this.notifyPlugins("afterDatasetDraw",o))}isPointInArea(t){return si(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,n,i,r){const s=RR.modes[n];return typeof s=="function"?s(this,t,i,r):[]}getDatasetMeta(t){const n=this.data.datasets[t],i=this._metasets;let r=i.filter(s=>s&&s._dataset===n).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:t,_dataset:n,_parsed:[],_sorted:!1},i.push(r)),r}getContext(){return this.$context||(this.$context=hr(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const n=this.data.datasets[t];if(!n)return!1;const i=this.getDatasetMeta(t);return typeof i.hidden=="boolean"?!i.hidden:!n.hidden}setDatasetVisibility(t,n){const i=this.getDatasetMeta(t);i.hidden=!n}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,n,i){const r=i?"show":"hide",s=this.getDatasetMeta(t),o=s.controller._resolveAnimations(void 0,r);Ma(n)?(s.data[n].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),o.update(s,{visible:i}),this.update(a=>a.datasetIndex===t?r:void 0))}hide(t,n){this._updateVisibility(t,n,!1)}show(t,n){this._updateVisibility(t,n,!0)}_destroyDatasetMeta(t){const n=this._metasets[t];n&&n.controller&&n.controller._destroy(),delete this._metasets[t]}_stop(){let t,n;for(this.stop(),Yn.remove(this),t=0,n=this.data.datasets.length;t<n;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:n}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),j_(t,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete Pc[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,n=this.platform,i=(s,o)=>{n.addEventListener(this,s,o),t[s]=o},r=(s,o,a)=>{s.offsetX=o,s.offsetY=a,this._eventHandler(s)};gt(this.options.events,s=>i(s,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,n=this.platform,i=(l,c)=>{n.addEventListener(this,l,c),t[l]=c},r=(l,c)=>{t[l]&&(n.removeEventListener(this,l,c),delete t[l])},s=(l,c)=>{this.canvas&&this.resize(l,c)};let o;const a=()=>{r("attach",a),this.attached=!0,this.resize(),i("resize",s),i("detach",o)};o=()=>{this.attached=!1,r("resize",s),this._stop(),this._resize(0,0),i("attach",a)},n.isAttached(this.canvas)?a():o()}unbindEvents(){gt(this._listeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._listeners={},gt(this._responsiveListeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,n,i){const r=i?"set":"remove";let s,o,a,l;for(n==="dataset"&&(s=this.getDatasetMeta(t[0].datasetIndex),s.controller["_"+r+"DatasetHoverStyle"]()),a=0,l=t.length;a<l;++a){o=t[a];const c=o&&this.getDatasetMeta(o.datasetIndex).controller;c&&c[r+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const n=this._active||[],i=t.map(({datasetIndex:s,index:o})=>{const a=this.getDatasetMeta(s);if(!a)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:a.data[o],index:o}});!uu(i,n)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,n))}notifyPlugins(t,n,i){return this._plugins.notify(this,t,n,i)}isPluginEnabled(t){return this._plugins._cache.filter(n=>n.plugin.id===t).length===1}_updateHoverStyles(t,n,i){const r=this.options.hover,s=(l,c)=>l.filter(u=>!c.some(h=>u.datasetIndex===h.datasetIndex&&u.index===h.index)),o=s(n,t),a=i?t:s(t,n);o.length&&this.updateHoverStyle(o,r.mode,!1),a.length&&r.mode&&this.updateHoverStyle(a,r.mode,!0)}_eventHandler(t,n){const i={event:t,replay:n,cancelable:!0,inChartArea:this.isPointInArea(t)},r=o=>(o.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",i,r)===!1)return;const s=this._handleEvent(t,n,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,r),(s||i.changed)&&this.render(),this}_handleEvent(t,n,i){const{_active:r=[],options:s}=this,o=n,a=this._getActiveElements(t,r,i,o),l=UC(t),c=OM(t,this._lastEvent,i,l);i&&(this._lastEvent=null,wt(s.onHover,[t,a,this],this),l&&wt(s.onClick,[t,a,this],this));const u=!uu(a,r);return(u||n)&&(this._active=a,this._updateHoverStyles(a,r,n)),this._lastEvent=c,u}_getActiveElements(t,n,i,r){if(t.type==="mouseout")return[];if(!i)return n;const s=this.options.hover;return this.getElementsAtEventForMode(t,s.mode,s,r)}},j(Ti,"defaults",$t),j(Ti,"instances",Pc),j(Ti,"overrides",Wr),j(Ti,"registry",Mn),j(Ti,"version",PM),j(Ti,"getChart",w0),Ti);function x0(){return gt(ah.instances,e=>e._plugins.invalidate())}function LM(e,t,n){const{startAngle:i,pixelMargin:r,x:s,y:o,outerRadius:a,innerRadius:l}=t;let c=r/a;e.beginPath(),e.arc(s,o,a,i-c,n+c),l>r?(c=r/l,e.arc(s,o,l,n+c,i-c,!0)):e.arc(s,o,r,n+Ht,i-Ht),e.closePath(),e.clip()}function VM(e){return Gg(e,["outerStart","outerEnd","innerStart","innerEnd"])}function FM(e,t,n,i){const r=VM(e.options.borderRadius),s=(n-t)/2,o=Math.min(s,i*t/2),a=l=>{const c=(n-Math.min(s,l))*i/2;return oe(l,0,Math.min(s,c))};return{outerStart:a(r.outerStart),outerEnd:a(r.outerEnd),innerStart:oe(r.innerStart,0,o),innerEnd:oe(r.innerEnd,0,o)}}function as(e,t,n,i){return{x:n+e*Math.cos(t),y:i+e*Math.sin(t)}}function mu(e,t,n,i,r,s){const{x:o,y:a,startAngle:l,pixelMargin:c,innerRadius:u}=t,h=Math.max(t.outerRadius+i+n-c,0),d=u>0?u+i+n+c:0;let f=0;const m=r-l;if(i){const B=u>0?u-i:0,H=h>0?h-i:0,F=(B+H)/2,M=F!==0?m*F/(F+i):m;f=(m-M)/2}const _=Math.max(.001,m*h-n/At)/h,v=(m-_)/2,p=l+v+f,g=r-v-f,{outerStart:y,outerEnd:E,innerStart:b,innerEnd:I}=FM(t,d,h,g-p),k=h-y,w=h-E,x=p+y/k,T=g-E/w,S=d+b,A=d+I,R=p+b/S,$=g-I/A;if(e.beginPath(),s){const B=(x+T)/2;if(e.arc(o,a,h,x,B),e.arc(o,a,h,B,T),E>0){const P=as(w,T,o,a);e.arc(P.x,P.y,E,T,g+Ht)}const H=as(A,g,o,a);if(e.lineTo(H.x,H.y),I>0){const P=as(A,$,o,a);e.arc(P.x,P.y,I,g+Ht,$+Math.PI)}const F=(g-I/d+(p+b/d))/2;if(e.arc(o,a,d,g-I/d,F,!0),e.arc(o,a,d,F,p+b/d,!0),b>0){const P=as(S,R,o,a);e.arc(P.x,P.y,b,R+Math.PI,p-Ht)}const M=as(k,p,o,a);if(e.lineTo(M.x,M.y),y>0){const P=as(k,x,o,a);e.arc(P.x,P.y,y,p-Ht,x)}}else{e.moveTo(o,a);const B=Math.cos(x)*h+o,H=Math.sin(x)*h+a;e.lineTo(B,H);const F=Math.cos(T)*h+o,M=Math.sin(T)*h+a;e.lineTo(F,M)}e.closePath()}function jM(e,t,n,i,r){const{fullCircles:s,startAngle:o,circumference:a}=t;let l=t.endAngle;if(s){mu(e,t,n,i,l,r);for(let c=0;c<s;++c)e.fill();isNaN(a)||(l=o+(a%It||It))}return mu(e,t,n,i,l,r),e.fill(),l}function zM(e,t,n,i,r){const{fullCircles:s,startAngle:o,circumference:a,options:l}=t,{borderWidth:c,borderJoinStyle:u,borderDash:h,borderDashOffset:d}=l,f=l.borderAlign==="inner";if(!c)return;e.setLineDash(h||[]),e.lineDashOffset=d,f?(e.lineWidth=c*2,e.lineJoin=u||"round"):(e.lineWidth=c,e.lineJoin=u||"bevel");let m=t.endAngle;if(s){mu(e,t,n,i,m,r);for(let _=0;_<s;++_)e.stroke();isNaN(a)||(m=o+(a%It||It))}f&&LM(e,t,m),s||(mu(e,t,n,i,m,r),e.stroke())}class Lo extends vi{constructor(n){super();j(this,"circumference");j(this,"endAngle");j(this,"fullCircles");j(this,"innerRadius");j(this,"outerRadius");j(this,"pixelMargin");j(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,i,r){const s=this.getProps(["x","y"],r),{angle:o,distance:a}=zx(s,{x:n,y:i}),{startAngle:l,endAngle:c,innerRadius:u,outerRadius:h,circumference:d}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),f=(this.options.spacing+this.options.borderWidth)/2,_=tt(d,c-l)>=It||Da(o,l,c),v=ii(a,u+f,h+f);return _&&v}getCenterPoint(n){const{x:i,y:r,startAngle:s,endAngle:o,innerRadius:a,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:c,spacing:u}=this.options,h=(s+o)/2,d=(a+l+u+c)/2;return{x:i+Math.cos(h)*d,y:r+Math.sin(h)*d}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:i,circumference:r}=this,s=(i.offset||0)/4,o=(i.spacing||0)/2,a=i.circular;if(this.pixelMargin=i.borderAlign==="inner"?.33:0,this.fullCircles=r>It?Math.floor(r/It):0,r===0||this.innerRadius<0||this.outerRadius<0)return;n.save();const l=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(l)*s,Math.sin(l)*s);const c=1-Math.sin(Math.min(At,r||0)),u=s*c;n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor,jM(n,this,u,o,a),zM(n,this,u,o,a),n.restore()}}j(Lo,"id","arc"),j(Lo,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),j(Lo,"defaultRoutes",{backgroundColor:"backgroundColor"}),j(Lo,"descriptors",{_scriptable:!0,_indexable:n=>n!=="borderDash"});function wE(e,t,n=t){e.lineCap=tt(n.borderCapStyle,t.borderCapStyle),e.setLineDash(tt(n.borderDash,t.borderDash)),e.lineDashOffset=tt(n.borderDashOffset,t.borderDashOffset),e.lineJoin=tt(n.borderJoinStyle,t.borderJoinStyle),e.lineWidth=tt(n.borderWidth,t.borderWidth),e.strokeStyle=tt(n.borderColor,t.borderColor)}function $M(e,t,n){e.lineTo(n.x,n.y)}function BM(e){return e.stepped?hP:e.tension||e.cubicInterpolationMode==="monotone"?dP:$M}function xE(e,t,n={}){const i=e.length,{start:r=0,end:s=i-1}=n,{start:o,end:a}=t,l=Math.max(r,o),c=Math.min(s,a),u=r<o&&s<o||r>a&&s>a;return{count:i,start:l,loop:t.loop,ilen:c<l&&!u?i+c-l:c-l}}function UM(e,t,n,i){const{points:r,options:s}=t,{count:o,start:a,loop:l,ilen:c}=xE(r,n,i),u=BM(s);let{move:h=!0,reverse:d}=i||{},f,m,_;for(f=0;f<=c;++f)m=r[(a+(d?c-f:f))%o],!m.skip&&(h?(e.moveTo(m.x,m.y),h=!1):u(e,_,m,d,s.stepped),_=m);return l&&(m=r[(a+(d?c:0))%o],u(e,_,m,d,s.stepped)),!!l}function WM(e,t,n,i){const r=t.points,{count:s,start:o,ilen:a}=xE(r,n,i),{move:l=!0,reverse:c}=i||{};let u=0,h=0,d,f,m,_,v,p;const g=E=>(o+(c?a-E:E))%s,y=()=>{_!==v&&(e.lineTo(u,v),e.lineTo(u,_),e.lineTo(u,p))};for(l&&(f=r[g(0)],e.moveTo(f.x,f.y)),d=0;d<=a;++d){if(f=r[g(d)],f.skip)continue;const E=f.x,b=f.y,I=E|0;I===m?(b<_?_=b:b>v&&(v=b),u=(h*u+E)/++h):(y(),e.lineTo(E,b),m=I,h=0,_=v=b),p=b}y()}function np(e){const t=e.options,n=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!n?WM:UM}function HM(e){return e.stepped?WP:e.tension||e.cubicInterpolationMode==="monotone"?HP:Sr}function qM(e,t,n,i){let r=t._path;r||(r=t._path=new Path2D,t.path(r,n,i)&&r.closePath()),wE(e,t.options),e.stroke(r)}function KM(e,t,n,i){const{segments:r,options:s}=t,o=np(t);for(const a of r)wE(e,s,a.style),e.beginPath(),o(e,t,a,{start:n,end:n+i-1})&&e.closePath(),e.stroke()}const QM=typeof Path2D=="function";function GM(e,t,n,i){QM&&!t.options.segment?qM(e,t,n,i):KM(e,t,n,i)}class Ni extends vi{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,n){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const r=i.spanGaps?this._loop:this._fullLoop;LP(this._points,i,t,r,n),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=XP(this,this.options.segment))}first(){const t=this.segments,n=this.points;return t.length&&n[t[0].start]}last(){const t=this.segments,n=this.points,i=t.length;return i&&n[t[i-1].end]}interpolate(t,n){const i=this.options,r=t[n],s=this.points,o=aE(this,{property:n,start:r,end:r});if(!o.length)return;const a=[],l=HM(i);let c,u;for(c=0,u=o.length;c<u;++c){const{start:h,end:d}=o[c],f=s[h],m=s[d];if(f===m){a.push(f);continue}const _=Math.abs((r-f[n])/(m[n]-f[n])),v=l(f,m,_,i.stepped);v[n]=t[n],a.push(v)}return a.length===1?a[0]:a}pathSegment(t,n,i){return np(this)(t,this,n,i)}path(t,n,i){const r=this.segments,s=np(this);let o=this._loop;n=n||0,i=i||this.points.length-n;for(const a of r)o&=s(t,this,a,{start:n,end:n+i-1});return!!o}draw(t,n,i,r){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(t.save(),GM(t,this,i,r),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}j(Ni,"id","line"),j(Ni,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),j(Ni,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),j(Ni,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"});function E0(e,t,n,i){const r=e.options,{[n]:s}=e.getProps([n],i);return Math.abs(t-s)<r.radius+r.hitRadius}class Rc extends vi{constructor(n){super();j(this,"parsed");j(this,"skip");j(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,i,r){const s=this.options,{x:o,y:a}=this.getProps(["x","y"],r);return Math.pow(n-o,2)+Math.pow(i-a,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(n,i){return E0(this,n,"x",i)}inYRange(n,i){return E0(this,n,"y",i)}getCenterPoint(n){const{x:i,y:r}=this.getProps(["x","y"],n);return{x:i,y:r}}size(n){n=n||this.options||{};let i=n.radius||0;i=Math.max(i,i&&n.hoverRadius||0);const r=i&&n.borderWidth||0;return(i+r)*2}draw(n,i){const r=this.options;this.skip||r.radius<.1||!si(this,i,this.size(r)/2)||(n.strokeStyle=r.borderColor,n.lineWidth=r.borderWidth,n.fillStyle=r.backgroundColor,Jf(n,r,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}j(Rc,"id","point"),j(Rc,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),j(Rc,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function EE(e,t){const{x:n,y:i,base:r,width:s,height:o}=e.getProps(["x","y","base","width","height"],t);let a,l,c,u,h;return e.horizontal?(h=o/2,a=Math.min(n,r),l=Math.max(n,r),c=i-h,u=i+h):(h=s/2,a=n-h,l=n+h,c=Math.min(i,r),u=Math.max(i,r)),{left:a,top:c,right:l,bottom:u}}function Li(e,t,n,i){return e?0:oe(t,n,i)}function YM(e,t,n){const i=e.options.borderWidth,r=e.borderSkipped,s=Gx(i);return{t:Li(r.top,s.top,0,n),r:Li(r.right,s.right,0,t),b:Li(r.bottom,s.bottom,0,n),l:Li(r.left,s.left,0,t)}}function XM(e,t,n){const{enableBorderRadius:i}=e.getProps(["enableBorderRadius"]),r=e.options.borderRadius,s=Lr(r),o=Math.min(t,n),a=e.borderSkipped,l=i||it(r);return{topLeft:Li(!l||a.top||a.left,s.topLeft,0,o),topRight:Li(!l||a.top||a.right,s.topRight,0,o),bottomLeft:Li(!l||a.bottom||a.left,s.bottomLeft,0,o),bottomRight:Li(!l||a.bottom||a.right,s.bottomRight,0,o)}}function JM(e){const t=EE(e),n=t.right-t.left,i=t.bottom-t.top,r=YM(e,n/2,i/2),s=XM(e,n/2,i/2);return{outer:{x:t.left,y:t.top,w:n,h:i,radius:s},inner:{x:t.left+r.l,y:t.top+r.t,w:n-r.l-r.r,h:i-r.t-r.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,s.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(r.b,r.r))}}}}function kd(e,t,n,i){const r=t===null,s=n===null,a=e&&!(r&&s)&&EE(e,i);return a&&(r||ii(t,a.left,a.right))&&(s||ii(n,a.top,a.bottom))}function ZM(e){return e.topLeft||e.topRight||e.bottomLeft||e.bottomRight}function t2(e,t){e.rect(t.x,t.y,t.w,t.h)}function Id(e,t,n={}){const i=e.x!==n.x?-t:0,r=e.y!==n.y?-t:0,s=(e.x+e.w!==n.x+n.w?t:0)-i,o=(e.y+e.h!==n.y+n.h?t:0)-r;return{x:e.x+i,y:e.y+r,w:e.w+s,h:e.h+o,radius:e.radius}}class Mc extends vi{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:n,options:{borderColor:i,backgroundColor:r}}=this,{inner:s,outer:o}=JM(this),a=ZM(o.radius)?Oa:t2;t.save(),(o.w!==s.w||o.h!==s.h)&&(t.beginPath(),a(t,Id(o,n,s)),t.clip(),a(t,Id(s,-n,o)),t.fillStyle=i,t.fill("evenodd")),t.beginPath(),a(t,Id(s,n)),t.fillStyle=r,t.fill(),t.restore()}inRange(t,n,i){return kd(this,t,n,i)}inXRange(t,n){return kd(this,t,null,n)}inYRange(t,n){return kd(this,null,t,n)}getCenterPoint(t){const{x:n,y:i,base:r,horizontal:s}=this.getProps(["x","y","base","horizontal"],t);return{x:s?(n+r)/2:n,y:s?i:(i+r)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}j(Mc,"id","bar"),j(Mc,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),j(Mc,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var e2=Object.freeze({__proto__:null,ArcElement:Lo,BarElement:Mc,LineElement:Ni,PointElement:Rc});const ip=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],b0=ip.map(e=>e.replace("rgb(","rgba(").replace(")",", 0.5)"));function bE(e){return ip[e%ip.length]}function TE(e){return b0[e%b0.length]}function n2(e,t){return e.borderColor=bE(t),e.backgroundColor=TE(t),++t}function i2(e,t){return e.backgroundColor=e.data.map(()=>bE(t++)),t}function r2(e,t){return e.backgroundColor=e.data.map(()=>TE(t++)),t}function s2(e){let t=0;return(n,i)=>{const r=e.getDatasetMeta(i).controller;r instanceof Oi?t=i2(n,t):r instanceof ra?t=r2(n,t):r&&(t=n2(n,t))}}function T0(e){let t;for(t in e)if(e[t].borderColor||e[t].backgroundColor)return!0;return!1}function o2(e){return e&&(e.borderColor||e.backgroundColor)}var a2={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(e,t,n){if(!n.enabled)return;const{data:{datasets:i},options:r}=e.config,{elements:s}=r;if(!n.forceOverride&&(T0(i)||o2(r)||s&&T0(s)))return;const o=s2(e);i.forEach(o)}};function l2(e,t,n,i,r){const s=r.samples||i;if(s>=n)return e.slice(t,t+n);const o=[],a=(n-2)/(s-2);let l=0;const c=t+n-1;let u=t,h,d,f,m,_;for(o[l++]=e[u],h=0;h<s-2;h++){let v=0,p=0,g;const y=Math.floor((h+1)*a)+1+t,E=Math.min(Math.floor((h+2)*a)+1,n)+t,b=E-y;for(g=y;g<E;g++)v+=e[g].x,p+=e[g].y;v/=b,p/=b;const I=Math.floor(h*a)+1+t,k=Math.min(Math.floor((h+1)*a)+1,n)+t,{x:w,y:x}=e[u];for(f=m=-1,g=I;g<k;g++)m=.5*Math.abs((w-v)*(e[g].y-x)-(w-e[g].x)*(p-x)),m>f&&(f=m,d=e[g],_=g);o[l++]=d,u=_}return o[l++]=e[c],o}function c2(e,t,n,i){let r=0,s=0,o,a,l,c,u,h,d,f,m,_;const v=[],p=t+n-1,g=e[t].x,E=e[p].x-g;for(o=t;o<t+n;++o){a=e[o],l=(a.x-g)/E*i,c=a.y;const b=l|0;if(b===u)c<m?(m=c,h=o):c>_&&(_=c,d=o),r=(s*r+a.x)/++s;else{const I=o-1;if(!ct(h)&&!ct(d)){const k=Math.min(h,d),w=Math.max(h,d);k!==f&&k!==I&&v.push({...e[k],x:r}),w!==f&&w!==I&&v.push({...e[w],x:r})}o>0&&I!==f&&v.push(e[I]),v.push(a),u=b,s=0,m=_=c,h=d=f=o}}return v}function SE(e){if(e._decimated){const t=e._data;delete e._decimated,delete e._data,Object.defineProperty(e,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function S0(e){e.data.datasets.forEach(t=>{SE(t)})}function u2(e,t){const n=t.length;let i=0,r;const{iScale:s}=e,{min:o,max:a,minDefined:l,maxDefined:c}=s.getUserBounds();return l&&(i=oe(ri(t,s.axis,o).lo,0,n-1)),c?r=oe(ri(t,s.axis,a).hi+1,i,n)-i:r=n-i,{start:i,count:r}}var h2={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(e,t,n)=>{if(!n.enabled){S0(e);return}const i=e.width;e.data.datasets.forEach((r,s)=>{const{_data:o,indexAxis:a}=r,l=e.getDatasetMeta(s),c=o||r.data;if(Oo([a,e.options.indexAxis])==="y"||!l.controller.supportsDecimation)return;const u=e.scales[l.xAxisID];if(u.type!=="linear"&&u.type!=="time"||e.options.parsing)return;let{start:h,count:d}=u2(l,c);const f=n.threshold||4*i;if(d<=f){SE(r);return}ct(o)&&(r._data=c,delete r.data,Object.defineProperty(r,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(_){this._data=_}}));let m;switch(n.algorithm){case"lttb":m=l2(c,h,d,i,n);break;case"min-max":m=c2(c,h,d,i);break;default:throw new Error(`Unsupported decimation algorithm '${n.algorithm}'`)}r._decimated=m})},destroy(e){S0(e)}};function d2(e,t,n){const i=e.segments,r=e.points,s=t.points,o=[];for(const a of i){let{start:l,end:c}=a;c=em(l,c,r);const u=rp(n,r[l],r[c],a.loop);if(!t.segments){o.push({source:a,target:u,start:r[l],end:r[c]});continue}const h=aE(t,u);for(const d of h){const f=rp(n,s[d.start],s[d.end],d.loop),m=oE(a,r,f);for(const _ of m)o.push({source:_,target:d,start:{[n]:k0(u,f,"start",Math.max)},end:{[n]:k0(u,f,"end",Math.min)}})}}return o}function rp(e,t,n,i){if(i)return;let r=t[e],s=n[e];return e==="angle"&&(r=Qe(r),s=Qe(s)),{property:e,start:r,end:s}}function f2(e,t){const{x:n=null,y:i=null}=e||{},r=t.points,s=[];return t.segments.forEach(({start:o,end:a})=>{a=em(o,a,r);const l=r[o],c=r[a];i!==null?(s.push({x:l.x,y:i}),s.push({x:c.x,y:i})):n!==null&&(s.push({x:n,y:l.y}),s.push({x:n,y:c.y}))}),s}function em(e,t,n){for(;t>e;t--){const i=n[t];if(!isNaN(i.x)&&!isNaN(i.y))break}return t}function k0(e,t,n,i){return e&&t?i(e[n],t[n]):e?e[n]:t?t[n]:0}function kE(e,t){let n=[],i=!1;return St(e)?(i=!0,n=e):n=f2(e,t),n.length?new Ni({points:n,options:{tension:0},_loop:i,_fullLoop:i}):null}function I0(e){return e&&e.fill!==!1}function p2(e,t,n){let r=e[t].fill;const s=[t];let o;if(!n)return r;for(;r!==!1&&s.indexOf(r)===-1;){if(!zt(r))return r;if(o=e[r],!o)return!1;if(o.visible)return r;s.push(r),r=o.fill}return!1}function g2(e,t,n){const i=v2(e);if(it(i))return isNaN(i.value)?!1:i;let r=parseFloat(i);return zt(r)&&Math.floor(r)===r?m2(i[0],t,r,n):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function m2(e,t,n,i){return(e==="-"||e==="+")&&(n=t+n),n===t||n<0||n>=i?!1:n}function y2(e,t){let n=null;return e==="start"?n=t.bottom:e==="end"?n=t.top:it(e)?n=t.getPixelForValue(e.value):t.getBasePixel&&(n=t.getBasePixel()),n}function _2(e,t,n){let i;return e==="start"?i=n:e==="end"?i=t.options.reverse?t.min:t.max:it(e)?i=e.value:i=t.getBaseValue(),i}function v2(e){const t=e.options,n=t.fill;let i=tt(n&&n.target,n);return i===void 0&&(i=!!t.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function w2(e){const{scale:t,index:n,line:i}=e,r=[],s=i.segments,o=i.points,a=x2(t,n);a.push(kE({x:null,y:t.bottom},i));for(let l=0;l<s.length;l++){const c=s[l];for(let u=c.start;u<=c.end;u++)E2(r,o[u],a)}return new Ni({points:r,options:{}})}function x2(e,t){const n=[],i=e.getMatchingVisibleMetas("line");for(let r=0;r<i.length;r++){const s=i[r];if(s.index===t)break;s.hidden||n.unshift(s.dataset)}return n}function E2(e,t,n){const i=[];for(let r=0;r<n.length;r++){const s=n[r],{first:o,last:a,point:l}=b2(s,t,"x");if(!(!l||o&&a)){if(o)i.unshift(l);else if(e.push(l),!a)break}}e.push(...i)}function b2(e,t,n){const i=e.interpolate(t,n);if(!i)return{};const r=i[n],s=e.segments,o=e.points;let a=!1,l=!1;for(let c=0;c<s.length;c++){const u=s[c],h=o[u.start][n],d=o[u.end][n];if(ii(r,h,d)){a=r===h,l=r===d;break}}return{first:a,last:l,point:i}}class IE{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,n,i){const{x:r,y:s,radius:o}=this;return n=n||{start:0,end:It},t.arc(r,s,o,n.end,n.start,!0),!i.bounds}interpolate(t){const{x:n,y:i,radius:r}=this,s=t.angle;return{x:n+Math.cos(s)*r,y:i+Math.sin(s)*r,angle:s}}}function T2(e){const{chart:t,fill:n,line:i}=e;if(zt(n))return S2(t,n);if(n==="stack")return w2(e);if(n==="shape")return!0;const r=k2(e);return r instanceof IE?r:kE(r,i)}function S2(e,t){const n=e.getDatasetMeta(t);return n&&e.isDatasetVisible(t)?n.dataset:null}function k2(e){return(e.scale||{}).getPointPositionForValue?A2(e):I2(e)}function I2(e){const{scale:t={},fill:n}=e,i=y2(n,t);if(zt(i)){const r=t.isHorizontal();return{x:r?i:null,y:r?null:i}}return null}function A2(e){const{scale:t,fill:n}=e,i=t.options,r=t.getLabels().length,s=i.reverse?t.max:t.min,o=_2(n,t,s),a=[];if(i.grid.circular){const l=t.getPointPositionForValue(0,s);return new IE({x:l.x,y:l.y,radius:t.getDistanceFromCenterForValue(o)})}for(let l=0;l<r;++l)a.push(t.getPointPositionForValue(l,o));return a}function Ad(e,t,n){const i=T2(t),{line:r,scale:s,axis:o}=t,a=r.options,l=a.fill,c=a.backgroundColor,{above:u=c,below:h=c}=l||{};i&&r.points.length&&(rh(e,n),C2(e,{line:r,target:i,above:u,below:h,area:n,scale:s,axis:o}),sh(e))}function C2(e,t){const{line:n,target:i,above:r,below:s,area:o,scale:a}=t,l=n._loop?"angle":t.axis;e.save(),l==="x"&&s!==r&&(A0(e,i,o.top),C0(e,{line:n,target:i,color:r,scale:a,property:l}),e.restore(),e.save(),A0(e,i,o.bottom)),C0(e,{line:n,target:i,color:s,scale:a,property:l}),e.restore()}function A0(e,t,n){const{segments:i,points:r}=t;let s=!0,o=!1;e.beginPath();for(const a of i){const{start:l,end:c}=a,u=r[l],h=r[em(l,c,r)];s?(e.moveTo(u.x,u.y),s=!1):(e.lineTo(u.x,n),e.lineTo(u.x,u.y)),o=!!t.pathSegment(e,a,{move:o}),o?e.closePath():e.lineTo(h.x,n)}e.lineTo(t.first().x,n),e.closePath(),e.clip()}function C0(e,t){const{line:n,target:i,property:r,color:s,scale:o}=t,a=d2(n,i,r);for(const{source:l,target:c,start:u,end:h}of a){const{style:{backgroundColor:d=s}={}}=l,f=i!==!0;e.save(),e.fillStyle=d,P2(e,o,f&&rp(r,u,h)),e.beginPath();const m=!!n.pathSegment(e,l);let _;if(f){m?e.closePath():P0(e,i,h,r);const v=!!i.pathSegment(e,c,{move:m,reverse:!0});_=m&&v,_||P0(e,i,u,r)}e.closePath(),e.fill(_?"evenodd":"nonzero"),e.restore()}}function P2(e,t,n){const{top:i,bottom:r}=t.chart.chartArea,{property:s,start:o,end:a}=n||{};s==="x"&&(e.beginPath(),e.rect(o,i,a-o,r-i),e.clip())}function P0(e,t,n,i){const r=t.interpolate(n,i);r&&e.lineTo(r.x,r.y)}var R2={id:"filler",afterDatasetsUpdate(e,t,n){const i=(e.data.datasets||[]).length,r=[];let s,o,a,l;for(o=0;o<i;++o)s=e.getDatasetMeta(o),a=s.dataset,l=null,a&&a.options&&a instanceof Ni&&(l={visible:e.isDatasetVisible(o),index:o,fill:g2(a,o,i),chart:e,axis:s.controller.options.indexAxis,scale:s.vScale,line:a}),s.$filler=l,r.push(l);for(o=0;o<i;++o)l=r[o],!(!l||l.fill===!1)&&(l.fill=p2(r,o,n.propagate))},beforeDraw(e,t,n){const i=n.drawTime==="beforeDraw",r=e.getSortedVisibleDatasetMetas(),s=e.chartArea;for(let o=r.length-1;o>=0;--o){const a=r[o].$filler;a&&(a.line.updateControlPoints(s,a.axis),i&&a.fill&&Ad(e.ctx,a,s))}},beforeDatasetsDraw(e,t,n){if(n.drawTime!=="beforeDatasetsDraw")return;const i=e.getSortedVisibleDatasetMetas();for(let r=i.length-1;r>=0;--r){const s=i[r].$filler;I0(s)&&Ad(e.ctx,s,e.chartArea)}},beforeDatasetDraw(e,t,n){const i=t.meta.$filler;!I0(i)||n.drawTime!=="beforeDatasetDraw"||Ad(e.ctx,i,e.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const R0=(e,t)=>{let{boxHeight:n=t,boxWidth:i=t}=e;return e.usePointStyle&&(n=Math.min(n,t),i=e.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:n,itemHeight:Math.max(t,n)}},M2=(e,t)=>e!==null&&t!==null&&e.datasetIndex===t.datasetIndex&&e.index===t.index;class M0 extends vi{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n,i){this.maxWidth=t,this.maxHeight=n,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let n=wt(t.generateLabels,[this.chart],this)||[];t.filter&&(n=n.filter(i=>t.filter(i,this.chart.data))),t.sort&&(n=n.sort((i,r)=>t.sort(i,r,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:t,ctx:n}=this;if(!t.display){this.width=this.height=0;return}const i=t.labels,r=ee(i.font),s=r.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=R0(i,s);let c,u;n.font=r.string,this.isHorizontal()?(c=this.maxWidth,u=this._fitRows(o,s,a,l)+10):(u=this.maxHeight,c=this._fitCols(o,r,a,l)+10),this.width=Math.min(c,t.maxWidth||this.maxWidth),this.height=Math.min(u,t.maxHeight||this.maxHeight)}_fitRows(t,n,i,r){const{ctx:s,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],u=r+a;let h=t;s.textAlign="left",s.textBaseline="middle";let d=-1,f=-u;return this.legendItems.forEach((m,_)=>{const v=i+n/2+s.measureText(m.text).width;(_===0||c[c.length-1]+v+2*a>o)&&(h+=u,c[c.length-(_>0?0:1)]=0,f+=u,d++),l[_]={left:0,top:f,row:d,width:v,height:r},c[c.length-1]+=v+a}),h}_fitCols(t,n,i,r){const{ctx:s,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],u=o-t;let h=a,d=0,f=0,m=0,_=0;return this.legendItems.forEach((v,p)=>{const{itemWidth:g,itemHeight:y}=D2(i,n,s,v,r);p>0&&f+y+2*a>u&&(h+=d+a,c.push({width:d,height:f}),m+=d+a,_++,d=f=0),l[p]={left:m,top:f,col:_,width:g,height:y},d=Math.max(d,g),f+=y+a}),h+=d,c.push({width:d,height:f}),h}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:i,labels:{padding:r},rtl:s}}=this,o=Ms(s,this.left,this.width);if(this.isHorizontal()){let a=0,l=Ee(i,this.left+r,this.right-this.lineWidths[a]);for(const c of n)a!==c.row&&(a=c.row,l=Ee(i,this.left+r,this.right-this.lineWidths[a])),c.top+=this.top+t+r,c.left=o.leftForLtr(o.x(l),c.width),l+=c.width+r}else{let a=0,l=Ee(i,this.top+t+r,this.bottom-this.columnSizes[a].height);for(const c of n)c.col!==a&&(a=c.col,l=Ee(i,this.top+t+r,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+r,c.left=o.leftForLtr(o.x(c.left),c.width),l+=c.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;rh(t,this),this._draw(),sh(t)}}_draw(){const{options:t,columnSizes:n,lineWidths:i,ctx:r}=this,{align:s,labels:o}=t,a=$t.color,l=Ms(t.rtl,this.left,this.width),c=ee(o.font),{padding:u}=o,h=c.size,d=h/2;let f;this.drawTitle(),r.textAlign=l.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=c.string;const{boxWidth:m,boxHeight:_,itemHeight:v}=R0(o,h),p=function(I,k,w){if(isNaN(m)||m<=0||isNaN(_)||_<0)return;r.save();const x=tt(w.lineWidth,1);if(r.fillStyle=tt(w.fillStyle,a),r.lineCap=tt(w.lineCap,"butt"),r.lineDashOffset=tt(w.lineDashOffset,0),r.lineJoin=tt(w.lineJoin,"miter"),r.lineWidth=x,r.strokeStyle=tt(w.strokeStyle,a),r.setLineDash(tt(w.lineDash,[])),o.usePointStyle){const T={radius:_*Math.SQRT2/2,pointStyle:w.pointStyle,rotation:w.rotation,borderWidth:x},S=l.xPlus(I,m/2),A=k+d;Qx(r,T,S,A,o.pointStyleWidth&&m)}else{const T=k+Math.max((h-_)/2,0),S=l.leftForLtr(I,m),A=Lr(w.borderRadius);r.beginPath(),Object.values(A).some(R=>R!==0)?Oa(r,{x:S,y:T,w:m,h:_,radius:A}):r.rect(S,T,m,_),r.fill(),x!==0&&r.stroke()}r.restore()},g=function(I,k,w){Hr(r,w.text,I,k+v/2,c,{strikethrough:w.hidden,textAlign:l.textAlign(w.textAlign)})},y=this.isHorizontal(),E=this._computeTitleHeight();y?f={x:Ee(s,this.left+u,this.right-i[0]),y:this.top+u+E,line:0}:f={x:this.left+u,y:Ee(s,this.top+E+u,this.bottom-n[0].height),line:0},iE(this.ctx,t.textDirection);const b=v+u;this.legendItems.forEach((I,k)=>{r.strokeStyle=I.fontColor,r.fillStyle=I.fontColor;const w=r.measureText(I.text).width,x=l.textAlign(I.textAlign||(I.textAlign=o.textAlign)),T=m+d+w;let S=f.x,A=f.y;l.setWidth(this.width),y?k>0&&S+T+u>this.right&&(A=f.y+=b,f.line++,S=f.x=Ee(s,this.left+u,this.right-i[f.line])):k>0&&A+b>this.bottom&&(S=f.x=S+n[f.line].width+u,f.line++,A=f.y=Ee(s,this.top+E+u,this.bottom-n[f.line].height));const R=l.x(S);if(p(R,A,I),S=tP(x,S+m+d,y?S+T:this.right,t.rtl),g(l.x(S),A,I),y)f.x+=T+u;else if(typeof I.text!="string"){const $=c.lineHeight;f.y+=AE(I,$)+u}else f.y+=b}),rE(this.ctx,t.textDirection)}drawTitle(){const t=this.options,n=t.title,i=ee(n.font),r=Pe(n.padding);if(!n.display)return;const s=Ms(t.rtl,this.left,this.width),o=this.ctx,a=n.position,l=i.size/2,c=r.top+l;let u,h=this.left,d=this.width;if(this.isHorizontal())d=Math.max(...this.lineWidths),u=this.top+c,h=Ee(t.align,h,this.right-d);else{const m=this.columnSizes.reduce((_,v)=>Math.max(_,v.height),0);u=c+Ee(t.align,this.top,this.bottom-m-t.labels.padding-this._computeTitleHeight())}const f=Ee(a,h,h+d);o.textAlign=s.textAlign(Kg(a)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=i.string,Hr(o,n.text,f,u,i)}_computeTitleHeight(){const t=this.options.title,n=ee(t.font),i=Pe(t.padding);return t.display?n.lineHeight+i.height:0}_getLegendItemAt(t,n){let i,r,s;if(ii(t,this.left,this.right)&&ii(n,this.top,this.bottom)){for(s=this.legendHitBoxes,i=0;i<s.length;++i)if(r=s[i],ii(t,r.left,r.left+r.width)&&ii(n,r.top,r.top+r.height))return this.legendItems[i]}return null}handleEvent(t){const n=this.options;if(!L2(t.type,n))return;const i=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const r=this._hoveredItem,s=M2(r,i);r&&!s&&wt(n.onLeave,[t,r,this],this),this._hoveredItem=i,i&&!s&&wt(n.onHover,[t,i,this],this)}else i&&wt(n.onClick,[t,i,this],this)}}function D2(e,t,n,i,r){const s=O2(i,e,t,n),o=N2(r,i,t.lineHeight);return{itemWidth:s,itemHeight:o}}function O2(e,t,n,i){let r=e.text;return r&&typeof r!="string"&&(r=r.reduce((s,o)=>s.length>o.length?s:o)),t+n.size/2+i.measureText(r).width}function N2(e,t,n){let i=e;return typeof t.text!="string"&&(i=AE(t,n)),i}function AE(e,t){const n=e.text?e.text.length:0;return t*n}function L2(e,t){return!!((e==="mousemove"||e==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(e==="click"||e==="mouseup"))}var V2={id:"legend",_element:M0,start(e,t,n){const i=e.legend=new M0({ctx:e.ctx,options:n,chart:e});ke.configure(e,i,n),ke.addBox(e,i)},stop(e){ke.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,n){const i=e.legend;ke.configure(e,i,n),i.options=n},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,n){const i=t.datasetIndex,r=n.chart;r.isDatasetVisible(i)?(r.hide(i),t.hidden=!0):(r.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:n,pointStyle:i,textAlign:r,color:s,useBorderRadius:o,borderRadius:a}}=e.legend.options;return e._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(n?0:void 0),u=Pe(c.borderWidth);return{text:t[l.index].label,fillStyle:c.backgroundColor,fontColor:s,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:c.borderColor,pointStyle:i||c.pointStyle,rotation:c.rotation,textAlign:r||c.textAlign,borderRadius:o&&(a||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class nm extends vi{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=n;const r=St(i.text)?i.text.length:1;this._padding=Pe(i.padding);const s=r*ee(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:n,left:i,bottom:r,right:s,options:o}=this,a=o.align;let l=0,c,u,h;return this.isHorizontal()?(u=Ee(a,i,s),h=n+t,c=s-i):(o.position==="left"?(u=i+t,h=Ee(a,r,n),l=At*-.5):(u=s-t,h=Ee(a,n,r),l=At*.5),c=r-n),{titleX:u,titleY:h,maxWidth:c,rotation:l}}draw(){const t=this.ctx,n=this.options;if(!n.display)return;const i=ee(n.font),s=i.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(s);Hr(t,n.text,0,0,i,{color:n.color,maxWidth:l,rotation:c,textAlign:Kg(n.align),textBaseline:"middle",translation:[o,a]})}}function F2(e,t){const n=new nm({ctx:e.ctx,options:t,chart:e});ke.configure(e,n,t),ke.addBox(e,n),e.titleBlock=n}var j2={id:"title",_element:nm,start(e,t,n){F2(e,n)},stop(e){const t=e.titleBlock;ke.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,n){const i=e.titleBlock;ke.configure(e,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const ec=new WeakMap;var z2={id:"subtitle",start(e,t,n){const i=new nm({ctx:e.ctx,options:n,chart:e});ke.configure(e,i,n),ke.addBox(e,i),ec.set(e,i)},stop(e){ke.removeBox(e,ec.get(e)),ec.delete(e)},beforeUpdate(e,t,n){const i=ec.get(e);ke.configure(e,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Vo={average(e){if(!e.length)return!1;let t,n,i=0,r=0,s=0;for(t=0,n=e.length;t<n;++t){const o=e[t].element;if(o&&o.hasValue()){const a=o.tooltipPosition();i+=a.x,r+=a.y,++s}}return{x:i/s,y:r/s}},nearest(e,t){if(!e.length)return!1;let n=t.x,i=t.y,r=Number.POSITIVE_INFINITY,s,o,a;for(s=0,o=e.length;s<o;++s){const l=e[s].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),u=Yf(t,c);u<r&&(r=u,a=l)}}if(a){const l=a.tooltipPosition();n=l.x,i=l.y}return{x:n,y:i}}};function Pn(e,t){return t&&(St(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function Xn(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function $2(e,t){const{element:n,datasetIndex:i,index:r}=t,s=e.getDatasetMeta(i).controller,{label:o,value:a}=s.getLabelAndValue(r);return{chart:e,label:o,parsed:s.getParsed(r),raw:e.data.datasets[i].data[r],formattedValue:a,dataset:s.getDataset(),dataIndex:r,datasetIndex:i,element:n}}function D0(e,t){const n=e.chart.ctx,{body:i,footer:r,title:s}=e,{boxWidth:o,boxHeight:a}=t,l=ee(t.bodyFont),c=ee(t.titleFont),u=ee(t.footerFont),h=s.length,d=r.length,f=i.length,m=Pe(t.padding);let _=m.height,v=0,p=i.reduce((E,b)=>E+b.before.length+b.lines.length+b.after.length,0);if(p+=e.beforeBody.length+e.afterBody.length,h&&(_+=h*c.lineHeight+(h-1)*t.titleSpacing+t.titleMarginBottom),p){const E=t.displayColors?Math.max(a,l.lineHeight):l.lineHeight;_+=f*E+(p-f)*l.lineHeight+(p-1)*t.bodySpacing}d&&(_+=t.footerMarginTop+d*u.lineHeight+(d-1)*t.footerSpacing);let g=0;const y=function(E){v=Math.max(v,n.measureText(E).width+g)};return n.save(),n.font=c.string,gt(e.title,y),n.font=l.string,gt(e.beforeBody.concat(e.afterBody),y),g=t.displayColors?o+2+t.boxPadding:0,gt(i,E=>{gt(E.before,y),gt(E.lines,y),gt(E.after,y)}),g=0,n.font=u.string,gt(e.footer,y),n.restore(),v+=m.width,{width:v,height:_}}function B2(e,t){const{y:n,height:i}=t;return n<i/2?"top":n>e.height-i/2?"bottom":"center"}function U2(e,t,n,i){const{x:r,width:s}=i,o=n.caretSize+n.caretPadding;if(e==="left"&&r+s+o>t.width||e==="right"&&r-s-o<0)return!0}function W2(e,t,n,i){const{x:r,width:s}=n,{width:o,chartArea:{left:a,right:l}}=e;let c="center";return i==="center"?c=r<=(a+l)/2?"left":"right":r<=s/2?c="left":r>=o-s/2&&(c="right"),U2(c,e,t,n)&&(c="center"),c}function O0(e,t,n){const i=n.yAlign||t.yAlign||B2(e,n);return{xAlign:n.xAlign||t.xAlign||W2(e,t,n,i),yAlign:i}}function H2(e,t){let{x:n,width:i}=e;return t==="right"?n-=i:t==="center"&&(n-=i/2),n}function q2(e,t,n){let{y:i,height:r}=e;return t==="top"?i+=n:t==="bottom"?i-=r+n:i-=r/2,i}function N0(e,t,n,i){const{caretSize:r,caretPadding:s,cornerRadius:o}=e,{xAlign:a,yAlign:l}=n,c=r+s,{topLeft:u,topRight:h,bottomLeft:d,bottomRight:f}=Lr(o);let m=H2(t,a);const _=q2(t,l,c);return l==="center"?a==="left"?m+=c:a==="right"&&(m-=c):a==="left"?m-=Math.max(u,d)+r:a==="right"&&(m+=Math.max(h,f)+r),{x:oe(m,0,i.width-t.width),y:oe(_,0,i.height-t.height)}}function nc(e,t,n){const i=Pe(n.padding);return t==="center"?e.x+e.width/2:t==="right"?e.x+e.width-i.right:e.x+i.left}function L0(e){return Pn([],Xn(e))}function K2(e,t,n){return hr(e,{tooltip:t,tooltipItems:n,type:"tooltip"})}function V0(e,t){const n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?e.override(n):e}const CE={beforeTitle:Gn,title(e){if(e.length>0){const t=e[0],n=t.chart.data.labels,i=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return n[t.dataIndex]}return""},afterTitle:Gn,beforeBody:Gn,beforeLabel:Gn,label(e){if(this&&this.options&&this.options.mode==="dataset")return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const n=e.formattedValue;return ct(n)||(t+=n),t},labelColor(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Gn,afterBody:Gn,beforeFooter:Gn,footer:Gn,afterFooter:Gn};function Ve(e,t,n,i){const r=e[t].call(n,i);return typeof r>"u"?CE[t].call(n,i):r}class sp extends vi{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const n=this.chart,i=this.options.setContext(this.getContext()),r=i.enabled&&n.options.animation&&i.animations,s=new lE(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=K2(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,n){const{callbacks:i}=n,r=Ve(i,"beforeTitle",this,t),s=Ve(i,"title",this,t),o=Ve(i,"afterTitle",this,t);let a=[];return a=Pn(a,Xn(r)),a=Pn(a,Xn(s)),a=Pn(a,Xn(o)),a}getBeforeBody(t,n){return L0(Ve(n.callbacks,"beforeBody",this,t))}getBody(t,n){const{callbacks:i}=n,r=[];return gt(t,s=>{const o={before:[],lines:[],after:[]},a=V0(i,s);Pn(o.before,Xn(Ve(a,"beforeLabel",this,s))),Pn(o.lines,Ve(a,"label",this,s)),Pn(o.after,Xn(Ve(a,"afterLabel",this,s))),r.push(o)}),r}getAfterBody(t,n){return L0(Ve(n.callbacks,"afterBody",this,t))}getFooter(t,n){const{callbacks:i}=n,r=Ve(i,"beforeFooter",this,t),s=Ve(i,"footer",this,t),o=Ve(i,"afterFooter",this,t);let a=[];return a=Pn(a,Xn(r)),a=Pn(a,Xn(s)),a=Pn(a,Xn(o)),a}_createItems(t){const n=this._active,i=this.chart.data,r=[],s=[],o=[];let a=[],l,c;for(l=0,c=n.length;l<c;++l)a.push($2(this.chart,n[l]));return t.filter&&(a=a.filter((u,h,d)=>t.filter(u,h,d,i))),t.itemSort&&(a=a.sort((u,h)=>t.itemSort(u,h,i))),gt(a,u=>{const h=V0(t.callbacks,u);r.push(Ve(h,"labelColor",this,u)),s.push(Ve(h,"labelPointStyle",this,u)),o.push(Ve(h,"labelTextColor",this,u))}),this.labelColors=r,this.labelPointStyles=s,this.labelTextColors=o,this.dataPoints=a,a}update(t,n){const i=this.options.setContext(this.getContext()),r=this._active;let s,o=[];if(!r.length)this.opacity!==0&&(s={opacity:0});else{const a=Vo[i.position].call(this,r,this._eventPosition);o=this._createItems(i),this.title=this.getTitle(o,i),this.beforeBody=this.getBeforeBody(o,i),this.body=this.getBody(o,i),this.afterBody=this.getAfterBody(o,i),this.footer=this.getFooter(o,i);const l=this._size=D0(this,i),c=Object.assign({},a,l),u=O0(this.chart,i,c),h=N0(i,c,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,s={opacity:1,x:h.x,y:h.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,s&&this._resolveAnimations().update(this,s),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(t,n,i,r){const s=this.getCaretPosition(t,i,r);n.lineTo(s.x1,s.y1),n.lineTo(s.x2,s.y2),n.lineTo(s.x3,s.y3)}getCaretPosition(t,n,i){const{xAlign:r,yAlign:s}=this,{caretSize:o,cornerRadius:a}=i,{topLeft:l,topRight:c,bottomLeft:u,bottomRight:h}=Lr(a),{x:d,y:f}=t,{width:m,height:_}=n;let v,p,g,y,E,b;return s==="center"?(E=f+_/2,r==="left"?(v=d,p=v-o,y=E+o,b=E-o):(v=d+m,p=v+o,y=E-o,b=E+o),g=v):(r==="left"?p=d+Math.max(l,u)+o:r==="right"?p=d+m-Math.max(c,h)-o:p=this.caretX,s==="top"?(y=f,E=y-o,v=p-o,g=p+o):(y=f+_,E=y+o,v=p+o,g=p-o),b=y),{x1:v,x2:p,x3:g,y1:y,y2:E,y3:b}}drawTitle(t,n,i){const r=this.title,s=r.length;let o,a,l;if(s){const c=Ms(i.rtl,this.x,this.width);for(t.x=nc(this,i.titleAlign,i),n.textAlign=c.textAlign(i.titleAlign),n.textBaseline="middle",o=ee(i.titleFont),a=i.titleSpacing,n.fillStyle=i.titleColor,n.font=o.string,l=0;l<s;++l)n.fillText(r[l],c.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+a,l+1===s&&(t.y+=i.titleMarginBottom-a)}}_drawColorBox(t,n,i,r,s){const o=this.labelColors[i],a=this.labelPointStyles[i],{boxHeight:l,boxWidth:c}=s,u=ee(s.bodyFont),h=nc(this,"left",s),d=r.x(h),f=l<u.lineHeight?(u.lineHeight-l)/2:0,m=n.y+f;if(s.usePointStyle){const _={radius:Math.min(c,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},v=r.leftForLtr(d,c)+c/2,p=m+l/2;t.strokeStyle=s.multiKeyBackground,t.fillStyle=s.multiKeyBackground,Jf(t,_,v,p),t.strokeStyle=o.borderColor,t.fillStyle=o.backgroundColor,Jf(t,_,v,p)}else{t.lineWidth=it(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,t.strokeStyle=o.borderColor,t.setLineDash(o.borderDash||[]),t.lineDashOffset=o.borderDashOffset||0;const _=r.leftForLtr(d,c),v=r.leftForLtr(r.xPlus(d,1),c-2),p=Lr(o.borderRadius);Object.values(p).some(g=>g!==0)?(t.beginPath(),t.fillStyle=s.multiKeyBackground,Oa(t,{x:_,y:m,w:c,h:l,radius:p}),t.fill(),t.stroke(),t.fillStyle=o.backgroundColor,t.beginPath(),Oa(t,{x:v,y:m+1,w:c-2,h:l-2,radius:p}),t.fill()):(t.fillStyle=s.multiKeyBackground,t.fillRect(_,m,c,l),t.strokeRect(_,m,c,l),t.fillStyle=o.backgroundColor,t.fillRect(v,m+1,c-2,l-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,n,i){const{body:r}=this,{bodySpacing:s,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:c,boxPadding:u}=i,h=ee(i.bodyFont);let d=h.lineHeight,f=0;const m=Ms(i.rtl,this.x,this.width),_=function(w){n.fillText(w,m.x(t.x+f),t.y+d/2),t.y+=d+s},v=m.textAlign(o);let p,g,y,E,b,I,k;for(n.textAlign=o,n.textBaseline="middle",n.font=h.string,t.x=nc(this,v,i),n.fillStyle=i.bodyColor,gt(this.beforeBody,_),f=a&&v!=="right"?o==="center"?c/2+u:c+2+u:0,E=0,I=r.length;E<I;++E){for(p=r[E],g=this.labelTextColors[E],n.fillStyle=g,gt(p.before,_),y=p.lines,a&&y.length&&(this._drawColorBox(n,t,E,m,i),d=Math.max(h.lineHeight,l)),b=0,k=y.length;b<k;++b)_(y[b]),d=h.lineHeight;gt(p.after,_)}f=0,d=h.lineHeight,gt(this.afterBody,_),t.y-=s}drawFooter(t,n,i){const r=this.footer,s=r.length;let o,a;if(s){const l=Ms(i.rtl,this.x,this.width);for(t.x=nc(this,i.footerAlign,i),t.y+=i.footerMarginTop,n.textAlign=l.textAlign(i.footerAlign),n.textBaseline="middle",o=ee(i.footerFont),n.fillStyle=i.footerColor,n.font=o.string,a=0;a<s;++a)n.fillText(r[a],l.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+i.footerSpacing}}drawBackground(t,n,i,r){const{xAlign:s,yAlign:o}=this,{x:a,y:l}=t,{width:c,height:u}=i,{topLeft:h,topRight:d,bottomLeft:f,bottomRight:m}=Lr(r.cornerRadius);n.fillStyle=r.backgroundColor,n.strokeStyle=r.borderColor,n.lineWidth=r.borderWidth,n.beginPath(),n.moveTo(a+h,l),o==="top"&&this.drawCaret(t,n,i,r),n.lineTo(a+c-d,l),n.quadraticCurveTo(a+c,l,a+c,l+d),o==="center"&&s==="right"&&this.drawCaret(t,n,i,r),n.lineTo(a+c,l+u-m),n.quadraticCurveTo(a+c,l+u,a+c-m,l+u),o==="bottom"&&this.drawCaret(t,n,i,r),n.lineTo(a+f,l+u),n.quadraticCurveTo(a,l+u,a,l+u-f),o==="center"&&s==="left"&&this.drawCaret(t,n,i,r),n.lineTo(a,l+h),n.quadraticCurveTo(a,l,a+h,l),n.closePath(),n.fill(),r.borderWidth>0&&n.stroke()}_updateAnimationTarget(t){const n=this.chart,i=this.$animations,r=i&&i.x,s=i&&i.y;if(r||s){const o=Vo[t.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=D0(this,t),l=Object.assign({},o,this._size),c=O0(n,t,l),u=N0(t,l,c,n);(r._to!==u.x||s._to!==u.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(t){const n=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(n);const r={width:this.width,height:this.height},s={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const o=Pe(n.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&a&&(t.save(),t.globalAlpha=i,this.drawBackground(s,t,r,n),iE(t,n.textDirection),s.y+=o.top,this.drawTitle(s,t,n),this.drawBody(s,t,n),this.drawFooter(s,t,n),rE(t,n.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,n){const i=this._active,r=t.map(({datasetIndex:a,index:l})=>{const c=this.chart.getDatasetMeta(a);if(!c)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:c.data[l],index:l}}),s=!uu(i,r),o=this._positionChanged(r,n);(s||o)&&(this._active=r,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,n,i=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,s=this._active||[],o=this._getActiveElements(t,s,n,i),a=this._positionChanged(o,t),l=n||!uu(o,s)||a;return l&&(this._active=o,(r.enabled||r.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,n))),l}_getActiveElements(t,n,i,r){const s=this.options;if(t.type==="mouseout")return[];if(!r)return n;const o=this.chart.getElementsAtEventForMode(t,s.mode,s,i);return s.reverse&&o.reverse(),o}_positionChanged(t,n){const{caretX:i,caretY:r,options:s}=this,o=Vo[s.position].call(this,t,n);return o!==!1&&(i!==o.x||r!==o.y)}}j(sp,"positioners",Vo);var Q2={id:"tooltip",_element:sp,positioners:Vo,afterInit(e,t,n){n&&(e.tooltip=new sp({chart:e,options:n}))},beforeUpdate(e,t,n){e.tooltip&&e.tooltip.initialize(n)},reset(e,t,n){e.tooltip&&e.tooltip.initialize(n)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const n={tooltip:t};if(e.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",n)}},afterEvent(e,t){if(e.tooltip){const n=t.replay;e.tooltip.handleEvent(t.event,n,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:CE},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>e!=="filter"&&e!=="itemSort"&&e!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},G2=Object.freeze({__proto__:null,Colors:a2,Decimation:h2,Filler:R2,Legend:V2,SubTitle:z2,Title:j2,Tooltip:Q2});const Y2=(e,t,n,i)=>(typeof t=="string"?(n=e.push(t)-1,i.unshift({index:n,label:t})):isNaN(t)&&(n=null),n);function X2(e,t,n,i){const r=e.indexOf(t);if(r===-1)return Y2(e,t,n,i);const s=e.lastIndexOf(t);return r!==s?n:r}const J2=(e,t)=>e===null?null:oe(Math.round(e),0,t);function F0(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class op extends ts{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const n=this._addedLabels;if(n.length){const i=this.getLabels();for(const{index:r,label:s}of n)i[r]===s&&i.splice(r,1);this._addedLabels=[]}super.init(t)}parse(t,n){if(ct(t))return null;const i=this.getLabels();return n=isFinite(n)&&i[n]===t?n:X2(i,t,tt(n,t),this._addedLabels),J2(n,i.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:i,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(i=0),n||(r=this.getLabels().length-1)),this.min=i,this.max=r}buildTicks(){const t=this.min,n=this.max,i=this.options.offset,r=[];let s=this.getLabels();s=t===0&&n===s.length-1?s:s.slice(t,n+1),this._valueRange=Math.max(s.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let o=t;o<=n;o++)r.push({value:o});return r}getLabelForValue(t){return F0.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}j(op,"id","category"),j(op,"defaults",{ticks:{callback:F0}});function Z2(e,t){const n=[],{bounds:r,step:s,min:o,max:a,precision:l,count:c,maxTicks:u,maxDigits:h,includeBounds:d}=e,f=s||1,m=u-1,{min:_,max:v}=t,p=!ct(o),g=!ct(a),y=!ct(c),E=(v-_)/(h+1);let b=M_((v-_)/m/f)*f,I,k,w,x;if(b<1e-14&&!p&&!g)return[{value:_},{value:v}];x=Math.ceil(v/b)-Math.floor(_/b),x>m&&(b=M_(x*b/m/f)*f),ct(l)||(I=Math.pow(10,l),b=Math.ceil(b*I)/I),r==="ticks"?(k=Math.floor(_/b)*b,w=Math.ceil(v/b)*b):(k=_,w=v),p&&g&&s&&KC((a-o)/s,b/1e3)?(x=Math.round(Math.min((a-o)/b,u)),b=(a-o)/x,k=o,w=a):y?(k=p?o:k,w=g?a:w,x=c-1,b=(w-k)/x):(x=(w-k)/b,ta(x,Math.round(x),b/1e3)?x=Math.round(x):x=Math.ceil(x));const T=Math.max(D_(b),D_(k));I=Math.pow(10,ct(l)?T:l),k=Math.round(k*I)/I,w=Math.round(w*I)/I;let S=0;for(p&&(d&&k!==o?(n.push({value:o}),k<o&&S++,ta(Math.round((k+S*b)*I)/I,o,j0(o,E,e))&&S++):k<o&&S++);S<x;++S){const A=Math.round((k+S*b)*I)/I;if(g&&A>a)break;n.push({value:A})}return g&&d&&w!==a?n.length&&ta(n[n.length-1].value,a,j0(a,E,e))?n[n.length-1].value=a:n.push({value:a}):(!g||w===a)&&n.push({value:w}),n}function j0(e,t,{horizontal:n,minRotation:i}){const r=En(i),s=(n?Math.sin(r):Math.cos(r))||.001,o=.75*t*(""+e).length;return Math.min(t/s,o)}class yu extends ts{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,n){return ct(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:n,maxDefined:i}=this.getUserBounds();let{min:r,max:s}=this;const o=l=>r=n?r:l,a=l=>s=i?s:l;if(t){const l=jn(r),c=jn(s);l<0&&c<0?a(0):l>0&&c>0&&o(0)}if(r===s){let l=s===0?1:Math.abs(s*.05);a(s+l),t||o(r-l)}this.min=r,this.max=s}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:n,stepSize:i}=t,r;return i?(r=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),n=n||11),n&&(r=Math.min(n,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,n=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const r={maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},s=this._range||this,o=Z2(r,s);return t.bounds==="ticks"&&jx(o,this,"value"),t.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const t=this.ticks;let n=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const r=(i-n)/Math.max(t.length-1,1)/2;n-=r,i+=r}this._startValue=n,this._endValue=i,this._valueRange=i-n}getLabelForValue(t){return al(t,this.chart.options.locale,this.options.ticks.format)}}class ap extends yu{determineDataLimits(){const{min:t,max:n}=this.getMinMax(!0);this.min=zt(t)?t:0,this.max=zt(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),n=t?this.width:this.height,i=En(this.options.ticks.minRotation),r=(t?Math.sin(i):Math.cos(i))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,s.lineHeight/r))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}j(ap,"id","linear"),j(ap,"defaults",{ticks:{callback:ih.formatters.numeric}});const La=e=>Math.floor(Di(e)),xr=(e,t)=>Math.pow(10,La(e)+t);function z0(e){return e/Math.pow(10,La(e))===1}function $0(e,t,n){const i=Math.pow(10,n),r=Math.floor(e/i);return Math.ceil(t/i)-r}function tD(e,t){const n=t-e;let i=La(n);for(;$0(e,t,i)>10;)i++;for(;$0(e,t,i)<10;)i--;return Math.min(i,La(e))}function eD(e,{min:t,max:n}){t=qe(e.min,t);const i=[],r=La(t);let s=tD(t,n),o=s<0?Math.pow(10,Math.abs(s)):1;const a=Math.pow(10,s),l=r>s?Math.pow(10,r):0,c=Math.round((t-l)*o)/o,u=Math.floor((t-l)/a/10)*a*10;let h=Math.floor((c-u)/Math.pow(10,s)),d=qe(e.min,Math.round((l+u+h*Math.pow(10,s))*o)/o);for(;d<n;)i.push({value:d,major:z0(d),significand:h}),h>=10?h=h<15?15:20:h++,h>=20&&(s++,h=2,o=s>=0?1:o),d=Math.round((l+u+h*Math.pow(10,s))*o)/o;const f=qe(e.max,d);return i.push({value:f,major:z0(f),significand:h}),i}class lp extends ts{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,n){const i=yu.prototype.parse.apply(this,[t,n]);if(i===0){this._zero=!0;return}return zt(i)&&i>0?i:null}determineDataLimits(){const{min:t,max:n}=this.getMinMax(!0);this.min=zt(t)?Math.max(0,t):null,this.max=zt(n)?Math.max(0,n):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!zt(this._userMin)&&(this.min=t===xr(this.min,0)?xr(this.min,-1):xr(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:n}=this.getUserBounds();let i=this.min,r=this.max;const s=a=>i=t?i:a,o=a=>r=n?r:a;i===r&&(i<=0?(s(1),o(10)):(s(xr(i,-1)),o(xr(r,1)))),i<=0&&s(xr(r,-1)),r<=0&&o(xr(i,1)),this.min=i,this.max=r}buildTicks(){const t=this.options,n={min:this._userMin,max:this._userMax},i=eD(n,this);return t.bounds==="ticks"&&jx(i,this,"value"),t.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(t){return t===void 0?"0":al(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=Di(t),this._valueRange=Di(this.max)-Di(t)}getPixelForValue(t){return(t===void 0||t===0)&&(t=this.min),t===null||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(Di(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const n=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+n*this._valueRange)}}j(lp,"id","logarithmic"),j(lp,"defaults",{ticks:{callback:ih.formatters.logarithmic,major:{enabled:!0}}});function cp(e){const t=e.ticks;if(t.display&&e.display){const n=Pe(t.backdropPadding);return tt(t.font&&t.font.size,$t.font.size)+n.height}return 0}function nD(e,t,n){return n=St(n)?n:[n],{w:uP(e,t.string,n),h:n.length*t.lineHeight}}function B0(e,t,n,i,r){return e===i||e===r?{start:t-n/2,end:t+n/2}:e<i||e>r?{start:t-n,end:t}:{start:t,end:t+n}}function iD(e){const t={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},n=Object.assign({},t),i=[],r=[],s=e._pointLabels.length,o=e.options.pointLabels,a=o.centerPointLabels?At/s:0;for(let l=0;l<s;l++){const c=o.setContext(e.getPointLabelContext(l));r[l]=c.padding;const u=e.getPointPosition(l,e.drawingArea+r[l],a),h=ee(c.font),d=nD(e.ctx,h,e._pointLabels[l]);i[l]=d;const f=Qe(e.getIndexAngle(l)+a),m=Math.round(Hg(f)),_=B0(m,u.x,d.w,0,180),v=B0(m,u.y,d.h,90,270);rD(n,t,f,_,v)}e.setCenterPoint(t.l-n.l,n.r-t.r,t.t-n.t,n.b-t.b),e._pointLabelItems=aD(e,i,r)}function rD(e,t,n,i,r){const s=Math.abs(Math.sin(n)),o=Math.abs(Math.cos(n));let a=0,l=0;i.start<t.l?(a=(t.l-i.start)/s,e.l=Math.min(e.l,t.l-a)):i.end>t.r&&(a=(i.end-t.r)/s,e.r=Math.max(e.r,t.r+a)),r.start<t.t?(l=(t.t-r.start)/o,e.t=Math.min(e.t,t.t-l)):r.end>t.b&&(l=(r.end-t.b)/o,e.b=Math.max(e.b,t.b+l))}function sD(e,t,n){const i=e.drawingArea,{extra:r,additionalAngle:s,padding:o,size:a}=n,l=e.getPointPosition(t,i+r+o,s),c=Math.round(Hg(Qe(l.angle+Ht))),u=uD(l.y,a.h,c),h=lD(c),d=cD(l.x,a.w,h);return{visible:!0,x:l.x,y:u,textAlign:h,left:d,top:u,right:d+a.w,bottom:u+a.h}}function oD(e,t){if(!t)return!0;const{left:n,top:i,right:r,bottom:s}=e;return!(si({x:n,y:i},t)||si({x:n,y:s},t)||si({x:r,y:i},t)||si({x:r,y:s},t))}function aD(e,t,n){const i=[],r=e._pointLabels.length,s=e.options,{centerPointLabels:o,display:a}=s.pointLabels,l={extra:cp(s)/2,additionalAngle:o?At/r:0};let c;for(let u=0;u<r;u++){l.padding=n[u],l.size=t[u];const h=sD(e,u,l);i.push(h),a==="auto"&&(h.visible=oD(h,c),h.visible&&(c=h))}return i}function lD(e){return e===0||e===180?"center":e<180?"left":"right"}function cD(e,t,n){return n==="right"?e-=t:n==="center"&&(e-=t/2),e}function uD(e,t,n){return n===90||n===270?e-=t/2:(n>270||n<90)&&(e-=t),e}function hD(e,t,n){const{left:i,top:r,right:s,bottom:o}=n,{backdropColor:a}=t;if(!ct(a)){const l=Lr(t.borderRadius),c=Pe(t.backdropPadding);e.fillStyle=a;const u=i-c.left,h=r-c.top,d=s-i+c.width,f=o-r+c.height;Object.values(l).some(m=>m!==0)?(e.beginPath(),Oa(e,{x:u,y:h,w:d,h:f,radius:l}),e.fill()):e.fillRect(u,h,d,f)}}function dD(e,t){const{ctx:n,options:{pointLabels:i}}=e;for(let r=t-1;r>=0;r--){const s=e._pointLabelItems[r];if(!s.visible)continue;const o=i.setContext(e.getPointLabelContext(r));hD(n,o,s);const a=ee(o.font),{x:l,y:c,textAlign:u}=s;Hr(n,e._pointLabels[r],l,c+a.lineHeight/2,a,{color:o.color,textAlign:u,textBaseline:"middle"})}}function PE(e,t,n,i){const{ctx:r}=e;if(n)r.arc(e.xCenter,e.yCenter,t,0,It);else{let s=e.getPointPosition(0,t);r.moveTo(s.x,s.y);for(let o=1;o<i;o++)s=e.getPointPosition(o,t),r.lineTo(s.x,s.y)}}function fD(e,t,n,i,r){const s=e.ctx,o=t.circular,{color:a,lineWidth:l}=t;!o&&!i||!a||!l||n<0||(s.save(),s.strokeStyle=a,s.lineWidth=l,s.setLineDash(r.dash),s.lineDashOffset=r.dashOffset,s.beginPath(),PE(e,n,o,i),s.closePath(),s.stroke(),s.restore())}function pD(e,t,n){return hr(e,{label:n,index:t,type:"pointLabel"})}class Fo extends yu{constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=Pe(cp(this.options)/2),n=this.width=this.maxWidth-t.width,i=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+n/2+t.left),this.yCenter=Math.floor(this.top+i/2+t.top),this.drawingArea=Math.floor(Math.min(n,i)/2)}determineDataLimits(){const{min:t,max:n}=this.getMinMax(!1);this.min=zt(t)&&!isNaN(t)?t:0,this.max=zt(n)&&!isNaN(n)?n:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/cp(this.options))}generateTickLabels(t){yu.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((n,i)=>{const r=wt(this.options.pointLabels.callback,[n,i],this);return r||r===0?r:""}).filter((n,i)=>this.chart.getDataVisibility(i))}fit(){const t=this.options;t.display&&t.pointLabels.display?iD(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,n,i,r){this.xCenter+=Math.floor((t-n)/2),this.yCenter+=Math.floor((i-r)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,n,i,r))}getIndexAngle(t){const n=It/(this._pointLabels.length||1),i=this.options.startAngle||0;return Qe(t*n+En(i))}getDistanceFromCenterForValue(t){if(ct(t))return NaN;const n=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*n:(t-this.min)*n}getValueForDistanceFromCenter(t){if(ct(t))return NaN;const n=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-n:this.min+n}getPointLabelContext(t){const n=this._pointLabels||[];if(t>=0&&t<n.length){const i=n[t];return pD(this.getContext(),t,i)}}getPointPosition(t,n,i=0){const r=this.getIndexAngle(t)-Ht+i;return{x:Math.cos(r)*n+this.xCenter,y:Math.sin(r)*n+this.yCenter,angle:r}}getPointPositionForValue(t,n){return this.getPointPosition(t,this.getDistanceFromCenterForValue(n))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:n,top:i,right:r,bottom:s}=this._pointLabelItems[t];return{left:n,top:i,right:r,bottom:s}}drawBackground(){const{backgroundColor:t,grid:{circular:n}}=this.options;if(t){const i=this.ctx;i.save(),i.beginPath(),PE(this,this.getDistanceFromCenterForValue(this._endValue),n,this._pointLabels.length),i.closePath(),i.fillStyle=t,i.fill(),i.restore()}}drawGrid(){const t=this.ctx,n=this.options,{angleLines:i,grid:r,border:s}=n,o=this._pointLabels.length;let a,l,c;if(n.pointLabels.display&&dD(this,o),r.display&&this.ticks.forEach((u,h)=>{if(h!==0){l=this.getDistanceFromCenterForValue(u.value);const d=this.getContext(h),f=r.setContext(d),m=s.setContext(d);fD(this,f,l,o,m)}}),i.display){for(t.save(),a=o-1;a>=0;a--){const u=i.setContext(this.getPointLabelContext(a)),{color:h,lineWidth:d}=u;!d||!h||(t.lineWidth=d,t.strokeStyle=h,t.setLineDash(u.borderDash),t.lineDashOffset=u.borderDashOffset,l=this.getDistanceFromCenterForValue(n.ticks.reverse?this.min:this.max),c=this.getPointPosition(a,l),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(c.x,c.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,n=this.options,i=n.ticks;if(!i.display)return;const r=this.getIndexAngle(0);let s,o;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(r),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((a,l)=>{if(l===0&&!n.reverse)return;const c=i.setContext(this.getContext(l)),u=ee(c.font);if(s=this.getDistanceFromCenterForValue(this.ticks[l].value),c.showLabelBackdrop){t.font=u.string,o=t.measureText(a.label).width,t.fillStyle=c.backdropColor;const h=Pe(c.backdropPadding);t.fillRect(-o/2-h.left,-s-u.size/2-h.top,o+h.width,u.size+h.height)}Hr(t,a.label,0,-s,u,{color:c.color,strokeColor:c.textStrokeColor,strokeWidth:c.textStrokeWidth})}),t.restore()}drawTitle(){}}j(Fo,"id","radialLinear"),j(Fo,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:ih.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}}),j(Fo,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),j(Fo,"descriptors",{angleLines:{_fallback:"grid"}});const lh={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},je=Object.keys(lh);function U0(e,t){return e-t}function W0(e,t){if(ct(t))return null;const n=e._adapter,{parser:i,round:r,isoWeekday:s}=e._parseOpts;let o=t;return typeof i=="function"&&(o=i(o)),zt(o)||(o=typeof i=="string"?n.parse(o,i):n.parse(o)),o===null?null:(r&&(o=r==="week"&&(Us(s)||s===!0)?n.startOf(o,"isoWeek",s):n.startOf(o,r)),+o)}function H0(e,t,n,i){const r=je.length;for(let s=je.indexOf(e);s<r-1;++s){const o=lh[je[s]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-t)/(a*o.size))<=i)return je[s]}return je[r-1]}function gD(e,t,n,i,r){for(let s=je.length-1;s>=je.indexOf(n);s--){const o=je[s];if(lh[o].common&&e._adapter.diff(r,i,o)>=t-1)return o}return je[n?je.indexOf(n):0]}function mD(e){for(let t=je.indexOf(e)+1,n=je.length;t<n;++t)if(lh[je[t]].common)return je[t]}function q0(e,t,n){if(!n)e[t]=!0;else if(n.length){const{lo:i,hi:r}=qg(n,t),s=n[i]>=t?n[i]:n[r];e[s]=!0}}function yD(e,t,n,i){const r=e._adapter,s=+r.startOf(t[0].value,i),o=t[t.length-1].value;let a,l;for(a=s;a<=o;a=+r.add(a,1,i))l=n[a],l>=0&&(t[l].major=!0);return t}function K0(e,t,n){const i=[],r={},s=t.length;let o,a;for(o=0;o<s;++o)a=t[o],r[a]=o,i.push({value:a,major:!1});return s===0||!n?i:yD(e,i,r,n)}class Va extends ts{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,n={}){const i=t.time||(t.time={}),r=this._adapter=new kR._date(t.adapters.date);r.init(n),Zo(i.displayFormats,r.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=n.normalized}parse(t,n){return t===void 0?null:W0(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,n=this._adapter,i=t.time.unit||"day";let{min:r,max:s,minDefined:o,maxDefined:a}=this.getUserBounds();function l(c){!o&&!isNaN(c.min)&&(r=Math.min(r,c.min)),!a&&!isNaN(c.max)&&(s=Math.max(s,c.max))}(!o||!a)&&(l(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&l(this.getMinMax(!1))),r=zt(r)&&!isNaN(r)?r:+n.startOf(Date.now(),i),s=zt(s)&&!isNaN(s)?s:+n.endOf(Date.now(),i)+1,this.min=Math.min(r,s-1),this.max=Math.max(r+1,s)}_getLabelBounds(){const t=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(n=t[0],i=t[t.length-1]),{min:n,max:i}}buildTicks(){const t=this.options,n=t.time,i=t.ticks,r=i.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const s=this.min,o=this.max,a=XC(r,s,o);return this._unit=n.unit||(i.autoSkip?H0(n.minUnit,this.min,this.max,this._getLabelCapacity(s)):gD(this,a.length,n.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:mD(this._unit),this.initOffsets(r),t.reverse&&a.reverse(),K0(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let n=0,i=0,r,s;this.options.offset&&t.length&&(r=this.getDecimalForValue(t[0]),t.length===1?n=1-r:n=(this.getDecimalForValue(t[1])-r)/2,s=this.getDecimalForValue(t[t.length-1]),t.length===1?i=s:i=(s-this.getDecimalForValue(t[t.length-2]))/2);const o=t.length<3?.5:.25;n=oe(n,0,o),i=oe(i,0,o),this._offsets={start:n,end:i,factor:1/(n+1+i)}}_generate(){const t=this._adapter,n=this.min,i=this.max,r=this.options,s=r.time,o=s.unit||H0(s.minUnit,n,i,this._getLabelCapacity(n)),a=tt(r.ticks.stepSize,1),l=o==="week"?s.isoWeekday:!1,c=Us(l)||l===!0,u={};let h=n,d,f;if(c&&(h=+t.startOf(h,"isoWeek",l)),h=+t.startOf(h,c?"day":o),t.diff(i,n,o)>1e5*a)throw new Error(n+" and "+i+" are too far apart with stepSize of "+a+" "+o);const m=r.ticks.source==="data"&&this.getDataTimestamps();for(d=h,f=0;d<i;d=+t.add(d,a,o),f++)q0(u,d,m);return(d===i||r.bounds==="ticks"||f===1)&&q0(u,d,m),Object.keys(u).sort(U0).map(_=>+_)}getLabelForValue(t){const n=this._adapter,i=this.options.time;return i.tooltipFormat?n.format(t,i.tooltipFormat):n.format(t,i.displayFormats.datetime)}format(t,n){const r=this.options.time.displayFormats,s=this._unit,o=n||r[s];return this._adapter.format(t,o)}_tickFormatFunction(t,n,i,r){const s=this.options,o=s.ticks.callback;if(o)return wt(o,[t,n,i],this);const a=s.time.displayFormats,l=this._unit,c=this._majorUnit,u=l&&a[l],h=c&&a[c],d=i[n],f=c&&h&&d&&d.major;return this._adapter.format(t,r||(f?h:u))}generateTickLabels(t){let n,i,r;for(n=0,i=t.length;n<i;++n)r=t[n],r.label=this._tickFormatFunction(r.value,n,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const n=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((n.start+i)*n.factor)}getValueForPixel(t){const n=this._offsets,i=this.getDecimalForPixel(t)/n.factor-n.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){const n=this.options.ticks,i=this.ctx.measureText(t).width,r=En(this.isHorizontal()?n.maxRotation:n.minRotation),s=Math.cos(r),o=Math.sin(r),a=this._resolveTickFontOptions(0).size;return{w:i*s+a*o,h:i*o+a*s}}_getLabelCapacity(t){const n=this.options.time,i=n.displayFormats,r=i[n.unit]||i.millisecond,s=this._tickFormatFunction(t,0,K0(this,[t],this._majorUnit),r),o=this._getLabelSize(s),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let t=this._cache.data||[],n,i;if(t.length)return t;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(n=0,i=r.length;n<i;++n)t=t.concat(r[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let n,i;if(t.length)return t;const r=this.getLabels();for(n=0,i=r.length;n<i;++n)t.push(W0(this,r[n]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return Bx(t.sort(U0))}}j(Va,"id","time"),j(Va,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function ic(e,t,n){let i=0,r=e.length-1,s,o,a,l;n?(t>=e[i].pos&&t<=e[r].pos&&({lo:i,hi:r}=ri(e,"pos",t)),{pos:s,time:a}=e[i],{pos:o,time:l}=e[r]):(t>=e[i].time&&t<=e[r].time&&({lo:i,hi:r}=ri(e,"time",t)),{time:s,pos:a}=e[i],{time:o,pos:l}=e[r]);const c=o-s;return c?a+(l-a)*(t-s)/c:a}class up extends Va{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(t);this._minPos=ic(n,this.min),this._tableRange=ic(n,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:n,max:i}=this,r=[],s=[];let o,a,l,c,u;for(o=0,a=t.length;o<a;++o)c=t[o],c>=n&&c<=i&&r.push(c);if(r.length<2)return[{time:n,pos:0},{time:i,pos:1}];for(o=0,a=r.length;o<a;++o)u=r[o+1],l=r[o-1],c=r[o],Math.round((u+l)/2)!==c&&s.push({time:c,pos:o/(a-1)});return s}_generate(){const t=this.min,n=this.max;let i=super.getDataTimestamps();return(!i.includes(t)||!i.length)&&i.splice(0,0,t),(!i.includes(n)||i.length===1)&&i.push(n),i.sort((r,s)=>r-s)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const n=this.getDataTimestamps(),i=this.getLabelTimestamps();return n.length&&i.length?t=this.normalize(n.concat(i)):t=n.length?n:i,t=this._cache.all=t,t}getDecimalForValue(t){return(ic(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const n=this._offsets,i=this.getDecimalForPixel(t)/n.factor-n.end;return ic(this._table,i*this._tableRange+this._minPos,!0)}}j(up,"id","timeseries"),j(up,"defaults",Va.defaults);var _D=Object.freeze({__proto__:null,CategoryScale:op,LinearScale:ap,LogarithmicScale:lp,RadialLinearScale:Fo,TimeScale:Va,TimeSeriesScale:up});const vD=[SR,e2,G2,_D],RE="label";function Q0(e,t){typeof e=="function"?e(t):e&&(e.current=t)}function wD(e,t){const n=e.options;n&&t&&Object.assign(n,t)}function ME(e,t){e.labels=t}function DE(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:RE;const i=[];e.datasets=t.map(r=>{const s=e.datasets.find(o=>o[n]===r[n]);return!s||!r.data||i.includes(s)?{...r}:(i.push(s),Object.assign(s,r),s)})}function xD(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:RE;const n={labels:[],datasets:[]};return ME(n,e.labels),DE(n,e.datasets,t),n}function ED(e,t){const{height:n=150,width:i=300,redraw:r=!1,datasetIdKey:s,type:o,data:a,options:l,plugins:c=[],fallbackContent:u,updateMode:h,...d}=e,f=N.useRef(null),m=N.useRef(),_=()=>{f.current&&(m.current=new ah(f.current,{type:o,data:xD(a,s),options:l&&{...l},plugins:c}),Q0(t,m.current))},v=()=>{Q0(t,null),m.current&&(m.current.destroy(),m.current=null)};return N.useEffect(()=>{!r&&m.current&&l&&wD(m.current,l)},[r,l]),N.useEffect(()=>{!r&&m.current&&ME(m.current.config.data,a.labels)},[r,a.labels]),N.useEffect(()=>{!r&&m.current&&a.datasets&&DE(m.current.config.data,a.datasets,s)},[r,a.datasets]),N.useEffect(()=>{m.current&&(r?(v(),setTimeout(_)):m.current.update(h))},[r,l,a.labels,a.datasets,h]),N.useEffect(()=>{m.current&&(v(),setTimeout(_))},[o]),N.useEffect(()=>(_(),()=>v()),[]),Kp.createElement("canvas",Object.assign({ref:f,role:"img",height:n,width:i},d),u)}const bD=N.forwardRef(ED);function OE(e,t){return ah.register(t),N.forwardRef((n,i)=>Kp.createElement(bD,Object.assign({},n,{ref:i,type:e})))}const TD=OE("bar",ia),SD=OE("doughnut",Oi),kD=({data:e})=>C.jsx(SD,{data:e});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NE=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let r=e.charCodeAt(i);r<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=r&63|128):(r&64512)===55296&&i+1<e.length&&(e.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(e.charCodeAt(++i)&1023),t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=r&63|128):(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=r&63|128)}return t},ID=function(e){const t=[];let n=0,i=0;for(;n<e.length;){const r=e[n++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=e[n++];t[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){const s=e[n++],o=e[n++],a=e[n++],l=((r&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;t[i++]=String.fromCharCode(55296+(l>>10)),t[i++]=String.fromCharCode(56320+(l&1023))}else{const s=e[n++],o=e[n++];t[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|o&63)}}return t.join("")},LE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<e.length;r+=3){const s=e[r],o=r+1<e.length,a=o?e[r+1]:0,l=r+2<e.length,c=l?e[r+2]:0,u=s>>2,h=(s&3)<<4|a>>4;let d=(a&15)<<2|c>>6,f=c&63;l||(f=64,o||(d=64)),i.push(n[u],n[h],n[d],n[f])}return i.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(NE(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):ID(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<e.length;){const s=n[e.charAt(r++)],a=r<e.length?n[e.charAt(r)]:0;++r;const c=r<e.length?n[e.charAt(r)]:64;++r;const h=r<e.length?n[e.charAt(r)]:64;if(++r,s==null||a==null||c==null||h==null)throw new AD;const d=s<<2|a>>4;if(i.push(d),c!==64){const f=a<<4&240|c>>2;if(i.push(f),h!==64){const m=c<<6&192|h;i.push(m)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class AD extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const CD=function(e){const t=NE(e);return LE.encodeByteArray(t,!0)},_u=function(e){return CD(e).replace(/\./g,"")},PD=function(e){try{return LE.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RD(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MD=()=>RD().__FIREBASE_DEFAULTS__,DD=()=>{if(typeof process>"u"||typeof process.env>"u")return;const e={}.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},OD=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&PD(e[1]);return t&&JSON.parse(t)},VE=()=>{try{return MD()||DD()||OD()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},ND=e=>{var t,n;return(n=(t=VE())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},LD=e=>{const t=ND(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),i]:[t.substring(0,n),i]},FE=()=>{var e;return(e=VE())===null||e===void 0?void 0:e.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FD(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=t||"demo-project",r=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e),a="";return[_u(JSON.stringify(n)),_u(JSON.stringify(o)),a].join(".")}function jD(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function jE(){try{return typeof indexedDB=="object"}catch{return!1}}function zE(){return new Promise((e,t)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),e(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var s;t(((s=r.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){t(n)}})}function zD(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $D="FirebaseError";class dr extends Error{constructor(t,n,i){super(n),this.code=t,this.customData=i,this.name=$D,Object.setPrototypeOf(this,dr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ch.prototype.create)}}class ch{constructor(t,n,i){this.service=t,this.serviceName=n,this.errors=i}create(t,...n){const i=n[0]||{},r=`${this.service}/${t}`,s=this.errors[t],o=s?BD(s,i):"Error",a=`${this.serviceName}: ${o} (${r}).`;return new dr(r,a,i)}}function BD(e,t){return e.replace(UD,(n,i)=>{const r=t[i];return r!=null?String(r):`<${i}?>`})}const UD=/\{\$([^}]+)}/g;function vu(e,t){if(e===t)return!0;const n=Object.keys(e),i=Object.keys(t);for(const r of n){if(!i.includes(r))return!1;const s=e[r],o=t[r];if(G0(s)&&G0(o)){if(!vu(s,o))return!1}else if(s!==o)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function G0(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WD=1e3,HD=2,qD=4*60*60*1e3,KD=.5;function Y0(e,t=WD,n=HD){const i=t*Math.pow(n,e),r=Math.round(KD*i*(Math.random()-.5)*2);return Math.min(qD,i+r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wn(e){return e&&e._delegate?e._delegate:e}class pi{constructor(t,n,i){this.name=t,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QD{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const i=new VD;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const i=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),r=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(YD(t))try{this.getOrInitializeService({instanceIdentifier:kr})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(t=kr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=kr){return this.instances.has(t)}getOptions(t=kr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);i===a&&o.resolve(r)}return r}onInit(t,n){var i;const r=this.normalizeInstanceIdentifier(n),s=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;s.add(t),this.onInitCallbacks.set(r,s);const o=this.instances.get(r);return o&&t(o,r),()=>{s.delete(t)}}invokeOnInitCallbacks(t,n){const i=this.onInitCallbacks.get(n);if(i)for(const r of i)try{r(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:GD(t),options:n}),this.instances.set(t,i),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=kr){return this.component?this.component.multipleInstances?t:kr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function GD(e){return e===kr?void 0:e}function YD(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XD{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new QD(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var at;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(at||(at={}));const JD={debug:at.DEBUG,verbose:at.VERBOSE,info:at.INFO,warn:at.WARN,error:at.ERROR,silent:at.SILENT},ZD=at.INFO,tO={[at.DEBUG]:"log",[at.VERBOSE]:"log",[at.INFO]:"info",[at.WARN]:"warn",[at.ERROR]:"error"},eO=(e,t,...n)=>{if(t<e.logLevel)return;const i=new Date().toISOString(),r=tO[t];if(r)console[r](`[${i}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class im{constructor(t){this.name=t,this._logLevel=ZD,this._logHandler=eO,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in at))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?JD[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,at.DEBUG,...t),this._logHandler(this,at.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,at.VERBOSE,...t),this._logHandler(this,at.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,at.INFO,...t),this._logHandler(this,at.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,at.WARN,...t),this._logHandler(this,at.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,at.ERROR,...t),this._logHandler(this,at.ERROR,...t)}}const nO=(e,t)=>t.some(n=>e instanceof n);let X0,J0;function iO(){return X0||(X0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function rO(){return J0||(J0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const $E=new WeakMap,hp=new WeakMap,BE=new WeakMap,Cd=new WeakMap,rm=new WeakMap;function sO(e){const t=new Promise((n,i)=>{const r=()=>{e.removeEventListener("success",s),e.removeEventListener("error",o)},s=()=>{n(Qi(e.result)),r()},o=()=>{i(e.error),r()};e.addEventListener("success",s),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&$E.set(n,e)}).catch(()=>{}),rm.set(t,e),t}function oO(e){if(hp.has(e))return;const t=new Promise((n,i)=>{const r=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",o),e.removeEventListener("abort",o)},s=()=>{n(),r()},o=()=>{i(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",s),e.addEventListener("error",o),e.addEventListener("abort",o)});hp.set(e,t)}let dp={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return hp.get(e);if(t==="objectStoreNames")return e.objectStoreNames||BE.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Qi(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function aO(e){dp=e(dp)}function lO(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const i=e.call(Pd(this),t,...n);return BE.set(i,t.sort?t.sort():[t]),Qi(i)}:rO().includes(e)?function(...t){return e.apply(Pd(this),t),Qi($E.get(this))}:function(...t){return Qi(e.apply(Pd(this),t))}}function cO(e){return typeof e=="function"?lO(e):(e instanceof IDBTransaction&&oO(e),nO(e,iO())?new Proxy(e,dp):e)}function Qi(e){if(e instanceof IDBRequest)return sO(e);if(Cd.has(e))return Cd.get(e);const t=cO(e);return t!==e&&(Cd.set(e,t),rm.set(t,e)),t}const Pd=e=>rm.get(e);function uO(e,t,{blocked:n,upgrade:i,blocking:r,terminated:s}={}){const o=indexedDB.open(e,t),a=Qi(o);return i&&o.addEventListener("upgradeneeded",l=>{i(Qi(o.result),l.oldVersion,l.newVersion,Qi(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),r&&l.addEventListener("versionchange",c=>r(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const hO=["get","getKey","getAll","getAllKeys","count"],dO=["put","add","delete","clear"],Rd=new Map;function Z0(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Rd.get(t))return Rd.get(t);const n=t.replace(/FromIndex$/,""),i=t!==n,r=dO.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||hO.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,r?"readwrite":"readonly");let c=l.store;return i&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),r&&l.done]))[0]};return Rd.set(t,s),s}aO(e=>({...e,get:(t,n,i)=>Z0(t,n)||e.get(t,n,i),has:(t,n)=>!!Z0(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fO{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(pO(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function pO(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const fp="@firebase/app",tv="0.9.22";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qr=new im("@firebase/app"),gO="@firebase/app-compat",mO="@firebase/analytics-compat",yO="@firebase/analytics",_O="@firebase/app-check-compat",vO="@firebase/app-check",wO="@firebase/auth",xO="@firebase/auth-compat",EO="@firebase/database",bO="@firebase/database-compat",TO="@firebase/functions",SO="@firebase/functions-compat",kO="@firebase/installations",IO="@firebase/installations-compat",AO="@firebase/messaging",CO="@firebase/messaging-compat",PO="@firebase/performance",RO="@firebase/performance-compat",MO="@firebase/remote-config",DO="@firebase/remote-config-compat",OO="@firebase/storage",NO="@firebase/storage-compat",LO="@firebase/firestore",VO="@firebase/firestore-compat",FO="firebase",jO="10.5.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pp="[DEFAULT]",zO={[fp]:"fire-core",[gO]:"fire-core-compat",[yO]:"fire-analytics",[mO]:"fire-analytics-compat",[vO]:"fire-app-check",[_O]:"fire-app-check-compat",[wO]:"fire-auth",[xO]:"fire-auth-compat",[EO]:"fire-rtdb",[bO]:"fire-rtdb-compat",[TO]:"fire-fn",[SO]:"fire-fn-compat",[kO]:"fire-iid",[IO]:"fire-iid-compat",[AO]:"fire-fcm",[CO]:"fire-fcm-compat",[PO]:"fire-perf",[RO]:"fire-perf-compat",[MO]:"fire-rc",[DO]:"fire-rc-compat",[OO]:"fire-gcs",[NO]:"fire-gcs-compat",[LO]:"fire-fst",[VO]:"fire-fst-compat","fire-js":"fire-js",[FO]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wu=new Map,gp=new Map;function $O(e,t){try{e.container.addComponent(t)}catch(n){qr.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function nr(e){const t=e.name;if(gp.has(t))return qr.debug(`There were multiple attempts to register component ${t}.`),!1;gp.set(t,e);for(const n of wu.values())$O(n,e);return!0}function cl(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Gi=new ch("app","Firebase",BO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UO{constructor(t,n,i){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new pi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Gi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WO=jO;function UE(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const i=Object.assign({name:pp,automaticDataCollectionEnabled:!1},t),r=i.name;if(typeof r!="string"||!r)throw Gi.create("bad-app-name",{appName:String(r)});if(n||(n=FE()),!n)throw Gi.create("no-options");const s=wu.get(r);if(s){if(vu(n,s.options)&&vu(i,s.config))return s;throw Gi.create("duplicate-app",{appName:r})}const o=new XD(r);for(const l of gp.values())o.addComponent(l);const a=new UO(n,i,o);return wu.set(r,a),a}function WE(e=pp){const t=wu.get(e);if(!t&&e===pp&&FE())return UE();if(!t)throw Gi.create("no-app",{appName:e});return t}function zn(e,t,n){var i;let r=(i=zO[e])!==null&&i!==void 0?i:e;n&&(r+=`-${n}`);const s=r.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const a=[`Unable to register library "${r}" with version "${t}":`];s&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),qr.warn(a.join(" "));return}nr(new pi(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HO="firebase-heartbeat-database",qO=1,Fa="firebase-heartbeat-store";let Md=null;function HE(){return Md||(Md=uO(HO,qO,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(Fa)}}}).catch(e=>{throw Gi.create("idb-open",{originalErrorMessage:e.message})})),Md}async function KO(e){try{return await(await HE()).transaction(Fa).objectStore(Fa).get(qE(e))}catch(t){if(t instanceof dr)qr.warn(t.message);else{const n=Gi.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});qr.warn(n.message)}}}async function ev(e,t){try{const i=(await HE()).transaction(Fa,"readwrite");await i.objectStore(Fa).put(t,qE(e)),await i.done}catch(n){if(n instanceof dr)qr.warn(n.message);else{const i=Gi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});qr.warn(i.message)}}}function qE(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QO=1024,GO=30*24*60*60*1e3;class YO{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new JO(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=nv();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(r=>r.date===i)))return this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(r=>{const s=new Date(r.date).valueOf();return Date.now()-s<=GO}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const t=nv(),{heartbeatsToSend:n,unsentEntries:i}=XO(this._heartbeatsCache.heartbeats),r=_u(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}}function nv(){return new Date().toISOString().substring(0,10)}function XO(e,t=QO){const n=[];let i=e.slice();for(const r of e){const s=n.find(o=>o.agent===r.agent);if(s){if(s.dates.push(r.date),iv(n)>t){s.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),iv(n)>t){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class JO{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return jE()?zE().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await KO(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return ev(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return ev(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function iv(e){return _u(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZO(e){nr(new pi("platform-logger",t=>new fO(t),"PRIVATE")),nr(new pi("heartbeat",t=>new YO(t),"PRIVATE")),zn(fp,tv,e),zn(fp,tv,"esm2017"),zn("fire-js","")}ZO("");var tN=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},z,sm=sm||{},X=tN||self;function uh(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function ul(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function eN(e){return Object.prototype.hasOwnProperty.call(e,Dd)&&e[Dd]||(e[Dd]=++nN)}var Dd="closure_uid_"+(1e9*Math.random()>>>0),nN=0;function iN(e,t,n){return e.call.apply(e.bind,arguments)}function rN(e,t,n){if(!e)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),e.apply(t,r)}}return function(){return e.apply(t,arguments)}}function Ie(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Ie=iN:Ie=rN,Ie.apply(null,arguments)}function rc(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var i=n.slice();return i.push.apply(i,arguments),e.apply(this,i)}}function ce(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(i,r,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return t.prototype[r].apply(i,o)}}function fr(){this.s=this.s,this.o=this.o}var sN=0;fr.prototype.s=!1;fr.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),sN!=0)&&eN(this)};fr.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const KE=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function om(e){const t=e.length;if(0<t){const n=Array(t);for(let i=0;i<t;i++)n[i]=e[i];return n}return[]}function rv(e,t){for(let n=1;n<arguments.length;n++){const i=arguments[n];if(uh(i)){const r=e.length||0,s=i.length||0;e.length=r+s;for(let o=0;o<s;o++)e[r+o]=i[o]}else e.push(i)}}function Ae(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Ae.prototype.h=function(){this.defaultPrevented=!0};var oN=function(){if(!X.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{X.addEventListener("test",()=>{},t),X.removeEventListener("test",()=>{},t)}catch{}return e}();function ja(e){return/^[\s\xa0]*$/.test(e)}function hh(){var e=X.navigator;return e&&(e=e.userAgent)?e:""}function On(e){return hh().indexOf(e)!=-1}function am(e){return am[" "](e),e}am[" "]=function(){};function aN(e,t){var n=ZN;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}var lN=On("Opera"),qs=On("Trident")||On("MSIE"),QE=On("Edge"),mp=QE||qs,GE=On("Gecko")&&!(hh().toLowerCase().indexOf("webkit")!=-1&&!On("Edge"))&&!(On("Trident")||On("MSIE"))&&!On("Edge"),cN=hh().toLowerCase().indexOf("webkit")!=-1&&!On("Edge");function YE(){var e=X.document;return e?e.documentMode:void 0}var yp;t:{var Od="",Nd=function(){var e=hh();if(GE)return/rv:([^\);]+)(\)|;)/.exec(e);if(QE)return/Edge\/([\d\.]+)/.exec(e);if(qs)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(cN)return/WebKit\/(\S+)/.exec(e);if(lN)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(Nd&&(Od=Nd?Nd[1]:""),qs){var Ld=YE();if(Ld!=null&&Ld>parseFloat(Od)){yp=String(Ld);break t}}yp=Od}var _p;if(X.document&&qs){var sv=YE();_p=sv||parseInt(yp,10)||void 0}else _p=void 0;var uN=_p;function za(e,t){if(Ae.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,i=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(GE){t:{try{am(t.nodeName);var r=!0;break t}catch{}r=!1}r||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,i?(this.clientX=i.clientX!==void 0?i.clientX:i.pageX,this.clientY=i.clientY!==void 0?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:hN[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&za.$.h.call(this)}}ce(za,Ae);var hN={2:"touch",3:"pen",4:"mouse"};za.prototype.h=function(){za.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var hl="closure_listenable_"+(1e6*Math.random()|0),dN=0;function fN(e,t,n,i,r){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!i,this.la=r,this.key=++dN,this.fa=this.ia=!1}function dh(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function lm(e,t,n){for(const i in e)t.call(n,e[i],i,e)}function pN(e,t){for(const n in e)t.call(void 0,e[n],n,e)}function XE(e){const t={};for(const n in e)t[n]=e[n];return t}const ov="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function JE(e,t){let n,i;for(let r=1;r<arguments.length;r++){i=arguments[r];for(n in i)e[n]=i[n];for(let s=0;s<ov.length;s++)n=ov[s],Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}}function fh(e){this.src=e,this.g={},this.h=0}fh.prototype.add=function(e,t,n,i,r){var s=e.toString();e=this.g[s],e||(e=this.g[s]=[],this.h++);var o=wp(e,t,i,r);return-1<o?(t=e[o],n||(t.ia=!1)):(t=new fN(t,this.src,s,!!i,r),t.ia=n,e.push(t)),t};function vp(e,t){var n=t.type;if(n in e.g){var i=e.g[n],r=KE(i,t),s;(s=0<=r)&&Array.prototype.splice.call(i,r,1),s&&(dh(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function wp(e,t,n,i){for(var r=0;r<e.length;++r){var s=e[r];if(!s.fa&&s.listener==t&&s.capture==!!n&&s.la==i)return r}return-1}var cm="closure_lm_"+(1e6*Math.random()|0),Vd={};function ZE(e,t,n,i,r){if(i&&i.once)return eb(e,t,n,i,r);if(Array.isArray(t)){for(var s=0;s<t.length;s++)ZE(e,t[s],n,i,r);return null}return n=dm(n),e&&e[hl]?e.O(t,n,ul(i)?!!i.capture:!!i,r):tb(e,t,n,!1,i,r)}function tb(e,t,n,i,r,s){if(!t)throw Error("Invalid event type");var o=ul(r)?!!r.capture:!!r,a=hm(e);if(a||(e[cm]=a=new fh(e)),n=a.add(t,n,i,o,s),n.proxy)return n;if(i=gN(),n.proxy=i,i.src=e,i.listener=n,e.addEventListener)oN||(r=o),r===void 0&&(r=!1),e.addEventListener(t.toString(),i,r);else if(e.attachEvent)e.attachEvent(ib(t.toString()),i);else if(e.addListener&&e.removeListener)e.addListener(i);else throw Error("addEventListener and attachEvent are unavailable.");return n}function gN(){function e(n){return t.call(e.src,e.listener,n)}const t=mN;return e}function eb(e,t,n,i,r){if(Array.isArray(t)){for(var s=0;s<t.length;s++)eb(e,t[s],n,i,r);return null}return n=dm(n),e&&e[hl]?e.P(t,n,ul(i)?!!i.capture:!!i,r):tb(e,t,n,!0,i,r)}function nb(e,t,n,i,r){if(Array.isArray(t))for(var s=0;s<t.length;s++)nb(e,t[s],n,i,r);else i=ul(i)?!!i.capture:!!i,n=dm(n),e&&e[hl]?(e=e.i,t=String(t).toString(),t in e.g&&(s=e.g[t],n=wp(s,n,i,r),-1<n&&(dh(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete e.g[t],e.h--)))):e&&(e=hm(e))&&(t=e.g[t.toString()],e=-1,t&&(e=wp(t,n,i,r)),(n=-1<e?t[e]:null)&&um(n))}function um(e){if(typeof e!="number"&&e&&!e.fa){var t=e.src;if(t&&t[hl])vp(t.i,e);else{var n=e.type,i=e.proxy;t.removeEventListener?t.removeEventListener(n,i,e.capture):t.detachEvent?t.detachEvent(ib(n),i):t.addListener&&t.removeListener&&t.removeListener(i),(n=hm(t))?(vp(n,e),n.h==0&&(n.src=null,t[cm]=null)):dh(e)}}}function ib(e){return e in Vd?Vd[e]:Vd[e]="on"+e}function mN(e,t){if(e.fa)e=!0;else{t=new za(t,this);var n=e.listener,i=e.la||e.src;e.ia&&um(e),e=n.call(i,t)}return e}function hm(e){return e=e[cm],e instanceof fh?e:null}var Fd="__closure_events_fn_"+(1e9*Math.random()>>>0);function dm(e){return typeof e=="function"?e:(e[Fd]||(e[Fd]=function(t){return e.handleEvent(t)}),e[Fd])}function le(){fr.call(this),this.i=new fh(this),this.S=this,this.J=null}ce(le,fr);le.prototype[hl]=!0;le.prototype.removeEventListener=function(e,t,n,i){nb(this,e,t,n,i)};function ge(e,t){var n,i=e.J;if(i)for(n=[];i;i=i.J)n.push(i);if(e=e.S,i=t.type||t,typeof t=="string")t=new Ae(t,e);else if(t instanceof Ae)t.target=t.target||e;else{var r=t;t=new Ae(i,e),JE(t,r)}if(r=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];r=sc(o,i,!0,t)&&r}if(o=t.g=e,r=sc(o,i,!0,t)&&r,r=sc(o,i,!1,t)&&r,n)for(s=0;s<n.length;s++)o=t.g=n[s],r=sc(o,i,!1,t)&&r}le.prototype.N=function(){if(le.$.N.call(this),this.i){var e=this.i,t;for(t in e.g){for(var n=e.g[t],i=0;i<n.length;i++)dh(n[i]);delete e.g[t],e.h--}}this.J=null};le.prototype.O=function(e,t,n,i){return this.i.add(String(e),t,!1,n,i)};le.prototype.P=function(e,t,n,i){return this.i.add(String(e),t,!0,n,i)};function sc(e,t,n,i){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var r=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&vp(e.i,o),r=a.call(l,i)!==!1&&r}}return r&&!i.defaultPrevented}var fm=X.JSON.stringify;class yN{constructor(t,n){this.i=t,this.j=n,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}function _N(){var e=pm;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}class vN{constructor(){this.h=this.g=null}add(t,n){const i=rb.get();i.set(t,n),this.h?this.h.next=i:this.g=i,this.h=i}}var rb=new yN(()=>new wN,e=>e.reset());class wN{constructor(){this.next=this.g=this.h=null}set(t,n){this.h=t,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function xN(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function EN(e){X.setTimeout(()=>{throw e},0)}let $a,Ba=!1,pm=new vN,sb=()=>{const e=X.Promise.resolve(void 0);$a=()=>{e.then(bN)}};var bN=()=>{for(var e;e=_N();){try{e.h.call(e.g)}catch(n){EN(n)}var t=rb;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Ba=!1};function ph(e,t){le.call(this),this.h=e||1,this.g=t||X,this.j=Ie(this.qb,this),this.l=Date.now()}ce(ph,le);z=ph.prototype;z.ga=!1;z.T=null;z.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),ge(this,"tick"),this.ga&&(gm(this),this.start()))}};z.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function gm(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}z.N=function(){ph.$.N.call(this),gm(this),delete this.g};function mm(e,t,n){if(typeof e=="function")n&&(e=Ie(e,n));else if(e&&typeof e.handleEvent=="function")e=Ie(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:X.setTimeout(e,t||0)}function ob(e){e.g=mm(()=>{e.g=null,e.i&&(e.i=!1,ob(e))},e.j);const t=e.h;e.h=null,e.m.apply(null,t)}class TN extends fr{constructor(t,n){super(),this.m=t,this.j=n,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:ob(this)}N(){super.N(),this.g&&(X.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ua(e){fr.call(this),this.h=e,this.g={}}ce(Ua,fr);var av=[];function ab(e,t,n,i){Array.isArray(n)||(n&&(av[0]=n.toString()),n=av);for(var r=0;r<n.length;r++){var s=ZE(t,n[r],i||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function lb(e){lm(e.g,function(t,n){this.g.hasOwnProperty(n)&&um(t)},e),e.g={}}Ua.prototype.N=function(){Ua.$.N.call(this),lb(this)};Ua.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function gh(){this.g=!0}gh.prototype.Ea=function(){this.g=!1};function SN(e,t,n,i,r,s){e.info(function(){if(e.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var h=u.split("_");o=2<=h.length&&h[1]=="type"?o+(u+"="+c+"&"):o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+t+`
`+n+`
`+o})}function kN(e,t,n,i,r,s,o){e.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+t+`
`+n+`
`+s+" "+o})}function Ts(e,t,n,i){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+AN(e,n)+(i?" "+i:"")})}function IN(e,t){e.info(function(){return"TIMEOUT: "+t})}gh.prototype.info=function(){};function AN(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var i=n[e];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<r.length;o++)r[o]=""}}}}return fm(n)}catch{return t}}var es={},lv=null;function mh(){return lv=lv||new le}es.Ta="serverreachability";function cb(e){Ae.call(this,es.Ta,e)}ce(cb,Ae);function Wa(e){const t=mh();ge(t,new cb(t))}es.STAT_EVENT="statevent";function ub(e,t){Ae.call(this,es.STAT_EVENT,e),this.stat=t}ce(ub,Ae);function De(e){const t=mh();ge(t,new ub(t,e))}es.Ua="timingevent";function hb(e,t){Ae.call(this,es.Ua,e),this.size=t}ce(hb,Ae);function dl(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return X.setTimeout(function(){e()},t)}var yh={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},db={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function ym(){}ym.prototype.h=null;function cv(e){return e.h||(e.h=e.i())}function fb(){}var fl={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function _m(){Ae.call(this,"d")}ce(_m,Ae);function vm(){Ae.call(this,"c")}ce(vm,Ae);var xp;function _h(){}ce(_h,ym);_h.prototype.g=function(){return new XMLHttpRequest};_h.prototype.i=function(){return{}};xp=new _h;function pl(e,t,n,i){this.l=e,this.j=t,this.m=n,this.W=i||1,this.U=new Ua(this),this.P=CN,e=mp?125:void 0,this.V=new ph(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new pb}function pb(){this.i=null,this.g="",this.h=!1}var CN=45e3,Ep={},xu={};z=pl.prototype;z.setTimeout=function(e){this.P=e};function bp(e,t,n){e.L=1,e.v=wh(gi(t)),e.s=n,e.S=!0,gb(e,null)}function gb(e,t){e.G=Date.now(),gl(e),e.A=gi(e.v);var n=e.A,i=e.W;Array.isArray(i)||(i=[String(i)]),bb(n.i,"t",i),e.C=0,n=e.l.J,e.h=new pb,e.g=Wb(e.l,n?t:null,!e.s),0<e.O&&(e.M=new TN(Ie(e.Pa,e,e.g),e.O)),ab(e.U,e.g,"readystatechange",e.nb),t=e.I?XE(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),Wa(),SN(e.j,e.u,e.A,e.m,e.W,e.s)}z.nb=function(e){e=e.target;const t=this.M;t&&Nn(e)==3?t.l():this.Pa(e)};z.Pa=function(e){try{if(e==this.g)t:{const u=Nn(this.g);var t=this.g.Ia();const h=this.g.da();if(!(3>u)&&(u!=3||mp||this.g&&(this.h.h||this.g.ja()||fv(this.g)))){this.J||u!=4||t==7||(t==8||0>=h?Wa(3):Wa(2)),vh(this);var n=this.g.da();this.ca=n;e:if(mb(this)){var i=fv(this.g);e="";var r=i.length,s=Nn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Pr(this),sa(this);var o="";break e}this.h.i=new X.TextDecoder}for(t=0;t<r;t++)this.h.h=!0,e+=this.h.i.decode(i[t],{stream:s&&t==r-1});i.splice(0,r),this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,kN(this.j,this.u,this.A,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){e:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ja(a)){var c=a;break e}}c=null}if(n=c)Ts(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Tp(this,n);else{this.i=!1,this.o=3,De(12),Pr(this),sa(this);break t}}this.S?(yb(this,u,o),mp&&this.i&&u==3&&(ab(this.U,this.V,"tick",this.mb),this.V.start())):(Ts(this.j,this.m,o,null),Tp(this,o)),u==4&&Pr(this),this.i&&!this.J&&(u==4?zb(this.l,this):(this.i=!1,gl(this)))}else YN(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.o=3,De(12)):(this.o=0,De(13)),Pr(this),sa(this)}}}catch{}finally{}};function mb(e){return e.g?e.u=="GET"&&e.L!=2&&e.l.Ha:!1}function yb(e,t,n){let i=!0,r;for(;!e.J&&e.C<n.length;)if(r=PN(e,n),r==xu){t==4&&(e.o=4,De(14),i=!1),Ts(e.j,e.m,null,"[Incomplete Response]");break}else if(r==Ep){e.o=4,De(15),Ts(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}else Ts(e.j,e.m,r,null),Tp(e,r);mb(e)&&r!=xu&&r!=Ep&&(e.h.g="",e.C=0),t!=4||n.length!=0||e.h.h||(e.o=1,De(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,t=e.l,t.g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Sm(t),t.M=!0,De(11))):(Ts(e.j,e.m,n,"[Invalid Chunked Response]"),Pr(e),sa(e))}z.mb=function(){if(this.g){var e=Nn(this.g),t=this.g.ja();this.C<t.length&&(vh(this),yb(this,e,t),this.i&&e!=4&&gl(this))}};function PN(e,t){var n=e.C,i=t.indexOf(`
`,n);return i==-1?xu:(n=Number(t.substring(n,i)),isNaN(n)?Ep:(i+=1,i+n>t.length?xu:(t=t.slice(i,i+n),e.C=i+n,t)))}z.cancel=function(){this.J=!0,Pr(this)};function gl(e){e.Y=Date.now()+e.P,_b(e,e.P)}function _b(e,t){if(e.B!=null)throw Error("WatchDog timer not null");e.B=dl(Ie(e.lb,e),t)}function vh(e){e.B&&(X.clearTimeout(e.B),e.B=null)}z.lb=function(){this.B=null;const e=Date.now();0<=e-this.Y?(IN(this.j,this.A),this.L!=2&&(Wa(),De(17)),Pr(this),this.o=2,sa(this)):_b(this,this.Y-e)};function sa(e){e.l.H==0||e.J||zb(e.l,e)}function Pr(e){vh(e);var t=e.M;t&&typeof t.sa=="function"&&t.sa(),e.M=null,gm(e.V),lb(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function Tp(e,t){try{var n=e.l;if(n.H!=0&&(n.g==e||Sp(n.i,e))){if(!e.K&&Sp(n.i,e)&&n.H==3){try{var i=n.Ja.g.parse(t)}catch{i=null}if(Array.isArray(i)&&i.length==3){var r=i;if(r[0]==0){t:if(!n.u){if(n.g)if(n.g.G+3e3<e.G)Tu(n),bh(n);else break t;Tm(n),De(18)}}else n.Fa=r[1],0<n.Fa-n.V&&37500>r[2]&&n.G&&n.A==0&&!n.v&&(n.v=dl(Ie(n.ib,n),6e3));if(1>=kb(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Rr(n,11)}else if((e.K||n.g==e)&&Tu(n),!ja(t))for(r=n.Ja.g.parse(t),t=0;t<r.length;t++){let c=r[t];if(n.V=c[0],c=c[1],n.H==2)if(c[0]=="c"){n.K=c[1],n.pa=c[2];const u=c[3];u!=null&&(n.ra=u,n.l.info("VER="+n.ra));const h=c[4];h!=null&&(n.Ga=h,n.l.info("SVER="+n.Ga));const d=c[5];d!=null&&typeof d=="number"&&0<d&&(i=1.5*d,n.L=i,n.l.info("backChannelRequestTimeoutMs_="+i)),i=n;const f=e.g;if(f){const m=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(m){var s=i.i;s.g||m.indexOf("spdy")==-1&&m.indexOf("quic")==-1&&m.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(wm(s,s.h),s.h=null))}if(i.F){const _=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;_&&(i.Da=_,Tt(i.I,i.F,_))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms")),i=n;var o=e;if(i.wa=Ub(i,i.J?i.pa:null,i.Y),o.K){Ib(i.i,o);var a=o,l=i.L;l&&a.setTimeout(l),a.B&&(vh(a),gl(a)),i.g=o}else Fb(i);0<n.j.length&&Th(n)}else c[0]!="stop"&&c[0]!="close"||Rr(n,7);else n.H==3&&(c[0]=="stop"||c[0]=="close"?c[0]=="stop"?Rr(n,7):bm(n):c[0]!="noop"&&n.h&&n.h.Aa(c),n.A=0)}}Wa(4)}catch{}}function RN(e){if(e.Z&&typeof e.Z=="function")return e.Z();if(typeof Map<"u"&&e instanceof Map||typeof Set<"u"&&e instanceof Set)return Array.from(e.values());if(typeof e=="string")return e.split("");if(uh(e)){for(var t=[],n=e.length,i=0;i<n;i++)t.push(e[i]);return t}t=[],n=0;for(i in e)t[n++]=e[i];return t}function MN(e){if(e.ta&&typeof e.ta=="function")return e.ta();if(!e.Z||typeof e.Z!="function"){if(typeof Map<"u"&&e instanceof Map)return Array.from(e.keys());if(!(typeof Set<"u"&&e instanceof Set)){if(uh(e)||typeof e=="string"){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const i in e)t[n++]=i;return t}}}function vb(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(uh(e)||typeof e=="string")Array.prototype.forEach.call(e,t,void 0);else for(var n=MN(e),i=RN(e),r=i.length,s=0;s<r;s++)t.call(void 0,i[s],n&&n[s],e)}var wb=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function DN(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var i=e[n].indexOf("="),r=null;if(0<=i){var s=e[n].substring(0,i);r=e[n].substring(i+1)}else s=e[n];t(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}function Fr(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Fr){this.h=e.h,Eu(this,e.j),this.s=e.s,this.g=e.g,bu(this,e.m),this.l=e.l;var t=e.i,n=new Ha;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),uv(this,n),this.o=e.o}else e&&(t=String(e).match(wb))?(this.h=!1,Eu(this,t[1]||"",!0),this.s=jo(t[2]||""),this.g=jo(t[3]||"",!0),bu(this,t[4]),this.l=jo(t[5]||"",!0),uv(this,t[6]||"",!0),this.o=jo(t[7]||"")):(this.h=!1,this.i=new Ha(null,this.h))}Fr.prototype.toString=function(){var e=[],t=this.j;t&&e.push(zo(t,hv,!0),":");var n=this.g;return(n||t=="file")&&(e.push("//"),(t=this.s)&&e.push(zo(t,hv,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&e.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&e.push("/"),e.push(zo(n,n.charAt(0)=="/"?LN:NN,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",zo(n,FN)),e.join("")};function gi(e){return new Fr(e)}function Eu(e,t,n){e.j=n?jo(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function bu(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function uv(e,t,n){t instanceof Ha?(e.i=t,jN(e.i,e.h)):(n||(t=zo(t,VN)),e.i=new Ha(t,e.h))}function Tt(e,t,n){e.i.set(t,n)}function wh(e){return Tt(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function jo(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function zo(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,ON),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function ON(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var hv=/[#\/\?@]/g,NN=/[#\?:]/g,LN=/[#\?]/g,VN=/[#\?@]/g,FN=/#/g;function Ha(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function pr(e){e.g||(e.g=new Map,e.h=0,e.i&&DN(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}z=Ha.prototype;z.add=function(e,t){pr(this),this.i=null,e=oo(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function xb(e,t){pr(e),t=oo(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Eb(e,t){return pr(e),t=oo(e,t),e.g.has(t)}z.forEach=function(e,t){pr(this),this.g.forEach(function(n,i){n.forEach(function(r){e.call(t,r,i,this)},this)},this)};z.ta=function(){pr(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let i=0;i<t.length;i++){const r=e[i];for(let s=0;s<r.length;s++)n.push(t[i])}return n};z.Z=function(e){pr(this);let t=[];if(typeof e=="string")Eb(this,e)&&(t=t.concat(this.g.get(oo(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t};z.set=function(e,t){return pr(this),this.i=null,e=oo(this,e),Eb(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};z.get=function(e,t){return e?(e=this.Z(e),0<e.length?String(e[0]):t):t};function bb(e,t,n){xb(e,t),0<n.length&&(e.i=null,e.g.set(oo(e,t),om(n)),e.h+=n.length)}z.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var i=t[n];const s=encodeURIComponent(String(i)),o=this.Z(i);for(i=0;i<o.length;i++){var r=s;o[i]!==""&&(r+="="+encodeURIComponent(String(o[i]))),e.push(r)}}return this.i=e.join("&")};function oo(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function jN(e,t){t&&!e.j&&(pr(e),e.i=null,e.g.forEach(function(n,i){var r=i.toLowerCase();i!=r&&(xb(this,i),bb(this,r,n))},e)),e.j=t}var zN=class{constructor(e,t){this.g=e,this.map=t}};function Tb(e){this.l=e||$N,X.PerformanceNavigationTiming?(e=X.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(X.g&&X.g.Ka&&X.g.Ka()&&X.g.Ka().dc),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var $N=10;function Sb(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function kb(e){return e.h?1:e.g?e.g.size:0}function Sp(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function wm(e,t){e.g?e.g.add(t):e.h=t}function Ib(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}Tb.prototype.cancel=function(){if(this.i=Ab(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const e of this.g.values())e.cancel();this.g.clear()}};function Ab(e){if(e.h!=null)return e.i.concat(e.h.F);if(e.g!=null&&e.g.size!==0){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return om(e.i)}var BN=class{stringify(e){return X.JSON.stringify(e,void 0)}parse(e){return X.JSON.parse(e,void 0)}};function UN(){this.g=new BN}function WN(e,t,n){const i=n||"";try{vb(e,function(r,s){let o=r;ul(r)&&(o=fm(r)),t.push(i+s+"="+encodeURIComponent(o))})}catch(r){throw t.push(i+"type="+encodeURIComponent("_badmap")),r}}function HN(e,t){const n=new gh;if(X.Image){const i=new Image;i.onload=rc(oc,n,i,"TestLoadImage: loaded",!0,t),i.onerror=rc(oc,n,i,"TestLoadImage: error",!1,t),i.onabort=rc(oc,n,i,"TestLoadImage: abort",!1,t),i.ontimeout=rc(oc,n,i,"TestLoadImage: timeout",!1,t),X.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=e}else t(!1)}function oc(e,t,n,i,r){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,r(i)}catch{}}function ml(e){this.l=e.ec||null,this.j=e.ob||!1}ce(ml,ym);ml.prototype.g=function(){return new xh(this.l,this.j)};ml.prototype.i=function(e){return function(){return e}}({});function xh(e,t){le.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=xm,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ce(xh,le);var xm=0;z=xh.prototype;z.open=function(e,t){if(this.readyState!=xm)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,qa(this)};z.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||X).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))};z.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,yl(this)),this.readyState=xm};z.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,qa(this)),this.g&&(this.readyState=3,qa(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof X.ReadableStream<"u"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Cb(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))};function Cb(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}z.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?yl(this):qa(this),this.readyState==3&&Cb(this)}};z.Za=function(e){this.g&&(this.response=this.responseText=e,yl(this))};z.Ya=function(e){this.g&&(this.response=e,yl(this))};z.ka=function(){this.g&&yl(this)};function yl(e){e.readyState=4,e.l=null,e.j=null,e.A=null,qa(e)}z.setRequestHeader=function(e,t){this.v.append(e,t)};z.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};z.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join(`\r
`)};function qa(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(xh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});var qN=X.JSON.parse;function Bt(e){le.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Pb,this.L=this.M=!1}ce(Bt,le);var Pb="",KN=/^https?$/i,QN=["POST","PUT"];z=Bt.prototype;z.Oa=function(e){this.M=e};z.ha=function(e,t,n,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():xp.g(),this.C=this.u?cv(this.u):cv(xp),this.g.onreadystatechange=Ie(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(s){dv(this,s);return}if(e=n||"",n=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)n.set(r,i[r]);else if(typeof i.keys=="function"&&typeof i.get=="function")for(const s of i.keys())n.set(s,i.get(s));else throw Error("Unknown input type for opt_headers: "+String(i));i=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),r=X.FormData&&e instanceof X.FormData,!(0<=KE(QN,t))||i||r||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Db(this),0<this.B&&((this.L=GN(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ie(this.ua,this)):this.A=mm(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){dv(this,s)}};function GN(e){return qs&&typeof e.timeout=="number"&&e.ontimeout!==void 0}z.ua=function(){typeof sm<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ge(this,"timeout"),this.abort(8))};function dv(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Rb(e),Eh(e)}function Rb(e){e.F||(e.F=!0,ge(e,"complete"),ge(e,"error"))}z.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,ge(this,"complete"),ge(this,"abort"),Eh(this))};z.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Eh(this,!0)),Bt.$.N.call(this)};z.La=function(){this.s||(this.G||this.v||this.l?Mb(this):this.kb())};z.kb=function(){Mb(this)};function Mb(e){if(e.h&&typeof sm<"u"&&(!e.C[1]||Nn(e)!=4||e.da()!=2)){if(e.v&&Nn(e)==4)mm(e.La,0,e);else if(ge(e,"readystatechange"),Nn(e)==4){e.h=!1;try{const o=e.da();t:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break t;default:t=!1}var n;if(!(n=t)){var i;if(i=o===0){var r=String(e.I).match(wb)[1]||null;!r&&X.self&&X.self.location&&(r=X.self.location.protocol.slice(0,-1)),i=!KN.test(r?r.toLowerCase():"")}n=i}if(n)ge(e,"complete"),ge(e,"success");else{e.m=6;try{var s=2<Nn(e)?e.g.statusText:""}catch{s=""}e.j=s+" ["+e.da()+"]",Rb(e)}}finally{Eh(e)}}}}function Eh(e,t){if(e.g){Db(e);const n=e.g,i=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||ge(e,"ready");try{n.onreadystatechange=i}catch{}}}function Db(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(X.clearTimeout(e.A),e.A=null)}z.isActive=function(){return!!this.g};function Nn(e){return e.g?e.g.readyState:0}z.da=function(){try{return 2<Nn(this)?this.g.status:-1}catch{return-1}};z.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};z.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),qN(t)}};function fv(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case Pb:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}function YN(e){const t={};e=(e.g&&2<=Nn(e)&&e.g.getAllResponseHeaders()||"").split(`\r
`);for(let i=0;i<e.length;i++){if(ja(e[i]))continue;var n=xN(e[i]);const r=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=t[r]||[];t[r]=s,s.push(n)}pN(t,function(i){return i.join(", ")})}z.Ia=function(){return this.m};z.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function Ob(e){let t="";return lm(e,function(n,i){t+=i,t+=":",t+=n,t+=`\r
`}),t}function Em(e,t,n){t:{for(i in n){var i=!1;break t}i=!0}i||(n=Ob(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):Tt(e,t,n))}function So(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Nb(e){this.Ga=0,this.j=[],this.l=new gh,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=So("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=So("baseRetryDelayMs",5e3,e),this.hb=So("retryDelaySeedMs",1e4,e),this.eb=So("forwardChannelMaxRetries",2,e),this.xa=So("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new Tb(e&&e.concurrentRequestLimit),this.Ja=new UN,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}z=Nb.prototype;z.ra=8;z.H=1;function bm(e){if(Lb(e),e.H==3){var t=e.W++,n=gi(e.I);if(Tt(n,"SID",e.K),Tt(n,"RID",t),Tt(n,"TYPE","terminate"),_l(e,n),t=new pl(e,e.l,t),t.L=2,t.v=wh(gi(n)),n=!1,X.navigator&&X.navigator.sendBeacon)try{n=X.navigator.sendBeacon(t.v.toString(),"")}catch{}!n&&X.Image&&(new Image().src=t.v,n=!0),n||(t.g=Wb(t.l,null),t.g.ha(t.v)),t.G=Date.now(),gl(t)}Bb(e)}function bh(e){e.g&&(Sm(e),e.g.cancel(),e.g=null)}function Lb(e){bh(e),e.u&&(X.clearTimeout(e.u),e.u=null),Tu(e),e.i.cancel(),e.m&&(typeof e.m=="number"&&X.clearTimeout(e.m),e.m=null)}function Th(e){if(!Sb(e.i)&&!e.m){e.m=!0;var t=e.Na;$a||sb(),Ba||($a(),Ba=!0),pm.add(t,e),e.C=0}}function XN(e,t){return kb(e.i)>=e.i.j-(e.m?1:0)?!1:e.m?(e.j=t.F.concat(e.j),!0):e.H==1||e.H==2||e.C>=(e.cb?0:e.eb)?!1:(e.m=dl(Ie(e.Na,e,t),$b(e,e.C)),e.C++,!0)}z.Na=function(e){if(this.m)if(this.m=null,this.H==1){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const r=new pl(this,this.l,e);let s=this.s;if(this.U&&(s?(s=XE(s),JE(s,this.U)):s=this.U),this.o!==null||this.O||(r.I=s,s=null),this.P)t:{for(var t=0,n=0;n<this.j.length;n++){e:{var i=this.j[n];if("__data__"in i.map&&(i=i.map.__data__,typeof i=="string")){i=i.length;break e}i=void 0}if(i===void 0)break;if(t+=i,4096<t){t=n;break t}if(t===4096||n===this.j.length-1){t=n+1;break t}}t=1e3}else t=1e3;t=Vb(this,r,t),n=gi(this.I),Tt(n,"RID",e),Tt(n,"CVER",22),this.F&&Tt(n,"X-HTTP-Session-Id",this.F),_l(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(Ob(s)))+"&"+t:this.o&&Em(n,this.o,s)),wm(this.i,r),this.bb&&Tt(n,"TYPE","init"),this.P?(Tt(n,"$req",t),Tt(n,"SID","null"),r.aa=!0,bp(r,n,null)):bp(r,n,t),this.H=2}}else this.H==3&&(e?pv(this,e):this.j.length==0||Sb(this.i)||pv(this))};function pv(e,t){var n;t?n=t.m:n=e.W++;const i=gi(e.I);Tt(i,"SID",e.K),Tt(i,"RID",n),Tt(i,"AID",e.V),_l(e,i),e.o&&e.s&&Em(i,e.o,e.s),n=new pl(e,e.l,n,e.C+1),e.o===null&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=Vb(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),wm(e.i,n),bp(n,i,t)}function _l(e,t){e.na&&lm(e.na,function(n,i){Tt(t,i,n)}),e.h&&vb({},function(n,i){Tt(t,i,n)})}function Vb(e,t,n){n=Math.min(e.j.length,n);var i=e.h?Ie(e.h.Va,e.h,e):null;t:{var r=e.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=r[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let c=r[l].g;const u=r[l].map;if(c-=s,0>c)s=Math.max(0,r[l].g-100),a=!1;else try{WN(u,o,"req"+c+"_")}catch{i&&i(u)}}if(a){i=o.join("&");break t}}}return e=e.j.splice(0,n),t.F=e,i}function Fb(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;$a||sb(),Ba||($a(),Ba=!0),pm.add(t,e),e.A=0}}function Tm(e){return e.g||e.u||3<=e.A?!1:(e.ba++,e.u=dl(Ie(e.Ma,e),$b(e,e.A)),e.A++,!0)}z.Ma=function(){if(this.u=null,jb(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=dl(Ie(this.jb,this),e)}};z.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,De(10),bh(this),jb(this))};function Sm(e){e.B!=null&&(X.clearTimeout(e.B),e.B=null)}function jb(e){e.g=new pl(e,e.l,"rpc",e.ba),e.o===null&&(e.g.I=e.s),e.g.O=0;var t=gi(e.wa);Tt(t,"RID","rpc"),Tt(t,"SID",e.K),Tt(t,"AID",e.V),Tt(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&Tt(t,"TO",e.qa),Tt(t,"TYPE","xmlhttp"),_l(e,t),e.o&&e.s&&Em(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.v=wh(gi(t)),n.s=null,n.S=!0,gb(n,e)}z.ib=function(){this.v!=null&&(this.v=null,bh(this),Tm(this),De(19))};function Tu(e){e.v!=null&&(X.clearTimeout(e.v),e.v=null)}function zb(e,t){var n=null;if(e.g==t){Tu(e),Sm(e),e.g=null;var i=2}else if(Sp(e.i,t))n=t.F,Ib(e.i,t),i=1;else return;if(e.H!=0){if(t.i)if(i==1){n=t.s?t.s.length:0,t=Date.now()-t.G;var r=e.C;i=mh(),ge(i,new hb(i,n)),Th(e)}else Fb(e);else if(r=t.o,r==3||r==0&&0<t.ca||!(i==1&&XN(e,t)||i==2&&Tm(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),r){case 1:Rr(e,5);break;case 4:Rr(e,10);break;case 3:Rr(e,6);break;default:Rr(e,2)}}}function $b(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function Rr(e,t){if(e.l.info("Error code "+t),t==2){var n=null;e.h&&(n=null);var i=Ie(e.pb,e);n||(n=new Fr("//www.google.com/images/cleardot.gif"),X.location&&X.location.protocol=="http"||Eu(n,"https"),wh(n)),HN(n.toString(),i)}else De(2);e.H=0,e.h&&e.h.za(t),Bb(e),Lb(e)}z.pb=function(e){e?(this.l.info("Successfully pinged google.com"),De(2)):(this.l.info("Failed to ping google.com"),De(1))};function Bb(e){if(e.H=0,e.ma=[],e.h){const t=Ab(e.i);(t.length!=0||e.j.length!=0)&&(rv(e.ma,t),rv(e.ma,e.j),e.i.i.length=0,om(e.j),e.j.length=0),e.h.ya()}}function Ub(e,t,n){var i=n instanceof Fr?gi(n):new Fr(n);if(i.g!="")t&&(i.g=t+"."+i.g),bu(i,i.m);else{var r=X.location;i=r.protocol,t=t?t+"."+r.hostname:r.hostname,r=+r.port;var s=new Fr(null);i&&Eu(s,i),t&&(s.g=t),r&&bu(s,r),n&&(s.l=n),i=s}return n=e.F,t=e.Da,n&&t&&Tt(i,n,t),Tt(i,"VER",e.ra),_l(e,i),i}function Wb(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return t=n&&e.Ha&&!e.va?new Bt(new ml({ob:!0})):new Bt(e.va),t.Oa(e.J),t}z.isActive=function(){return!!this.h&&this.h.isActive(this)};function Hb(){}z=Hb.prototype;z.Ba=function(){};z.Aa=function(){};z.za=function(){};z.ya=function(){};z.isActive=function(){return!0};z.Va=function(){};function Su(){if(qs&&!(10<=Number(uN)))throw Error("Environmental error: no available transport.")}Su.prototype.g=function(e,t){return new en(e,t)};function en(e,t){le.call(this),this.g=new Nb(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!ja(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!ja(t)&&(this.g.F=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new ao(this)}ce(en,le);en.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;De(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=Ub(e,null,e.Y),Th(e)};en.prototype.close=function(){bm(this.g)};en.prototype.u=function(e){var t=this.g;if(typeof e=="string"){var n={};n.__data__=e,e=n}else this.v&&(n={},n.__data__=fm(e),e=n);t.j.push(new zN(t.fb++,e)),t.H==3&&Th(t)};en.prototype.N=function(){this.g.h=null,delete this.j,bm(this.g),delete this.g,en.$.N.call(this)};function qb(e){_m.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){t:{for(const n in t){e=n;break t}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}ce(qb,_m);function Kb(){vm.call(this),this.status=1}ce(Kb,vm);function ao(e){this.g=e}ce(ao,Hb);ao.prototype.Ba=function(){ge(this.g,"a")};ao.prototype.Aa=function(e){ge(this.g,new qb(e))};ao.prototype.za=function(e){ge(this.g,new Kb)};ao.prototype.ya=function(){ge(this.g,"b")};function JN(){this.blockSize=-1}function In(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}ce(In,JN);In.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function jd(e,t,n){n||(n=0);var i=Array(16);if(typeof t=="string")for(var r=0;16>r;++r)i[r]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(r=0;16>r;++r)i[r]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],r=e.g[2];var s=e.g[3],o=t+(s^n&(r^s))+i[0]+3614090360&4294967295;t=n+(o<<7&4294967295|o>>>25),o=s+(r^t&(n^r))+i[1]+3905402710&4294967295,s=t+(o<<12&4294967295|o>>>20),o=r+(n^s&(t^n))+i[2]+606105819&4294967295,r=s+(o<<17&4294967295|o>>>15),o=n+(t^r&(s^t))+i[3]+3250441966&4294967295,n=r+(o<<22&4294967295|o>>>10),o=t+(s^n&(r^s))+i[4]+4118548399&4294967295,t=n+(o<<7&4294967295|o>>>25),o=s+(r^t&(n^r))+i[5]+1200080426&4294967295,s=t+(o<<12&4294967295|o>>>20),o=r+(n^s&(t^n))+i[6]+2821735955&4294967295,r=s+(o<<17&4294967295|o>>>15),o=n+(t^r&(s^t))+i[7]+4249261313&4294967295,n=r+(o<<22&4294967295|o>>>10),o=t+(s^n&(r^s))+i[8]+1770035416&4294967295,t=n+(o<<7&4294967295|o>>>25),o=s+(r^t&(n^r))+i[9]+2336552879&4294967295,s=t+(o<<12&4294967295|o>>>20),o=r+(n^s&(t^n))+i[10]+4294925233&4294967295,r=s+(o<<17&4294967295|o>>>15),o=n+(t^r&(s^t))+i[11]+2304563134&4294967295,n=r+(o<<22&4294967295|o>>>10),o=t+(s^n&(r^s))+i[12]+1804603682&4294967295,t=n+(o<<7&4294967295|o>>>25),o=s+(r^t&(n^r))+i[13]+4254626195&4294967295,s=t+(o<<12&4294967295|o>>>20),o=r+(n^s&(t^n))+i[14]+2792965006&4294967295,r=s+(o<<17&4294967295|o>>>15),o=n+(t^r&(s^t))+i[15]+1236535329&4294967295,n=r+(o<<22&4294967295|o>>>10),o=t+(r^s&(n^r))+i[1]+4129170786&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^r&(t^n))+i[6]+3225465664&4294967295,s=t+(o<<9&4294967295|o>>>23),o=r+(t^n&(s^t))+i[11]+643717713&4294967295,r=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(r^s))+i[0]+3921069994&4294967295,n=r+(o<<20&4294967295|o>>>12),o=t+(r^s&(n^r))+i[5]+3593408605&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^r&(t^n))+i[10]+38016083&4294967295,s=t+(o<<9&4294967295|o>>>23),o=r+(t^n&(s^t))+i[15]+3634488961&4294967295,r=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(r^s))+i[4]+3889429448&4294967295,n=r+(o<<20&4294967295|o>>>12),o=t+(r^s&(n^r))+i[9]+568446438&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^r&(t^n))+i[14]+3275163606&4294967295,s=t+(o<<9&4294967295|o>>>23),o=r+(t^n&(s^t))+i[3]+4107603335&4294967295,r=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(r^s))+i[8]+1163531501&4294967295,n=r+(o<<20&4294967295|o>>>12),o=t+(r^s&(n^r))+i[13]+2850285829&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^r&(t^n))+i[2]+4243563512&4294967295,s=t+(o<<9&4294967295|o>>>23),o=r+(t^n&(s^t))+i[7]+1735328473&4294967295,r=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(r^s))+i[12]+2368359562&4294967295,n=r+(o<<20&4294967295|o>>>12),o=t+(n^r^s)+i[5]+4294588738&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^r)+i[8]+2272392833&4294967295,s=t+(o<<11&4294967295|o>>>21),o=r+(s^t^n)+i[11]+1839030562&4294967295,r=s+(o<<16&4294967295|o>>>16),o=n+(r^s^t)+i[14]+4259657740&4294967295,n=r+(o<<23&4294967295|o>>>9),o=t+(n^r^s)+i[1]+2763975236&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^r)+i[4]+1272893353&4294967295,s=t+(o<<11&4294967295|o>>>21),o=r+(s^t^n)+i[7]+4139469664&4294967295,r=s+(o<<16&4294967295|o>>>16),o=n+(r^s^t)+i[10]+3200236656&4294967295,n=r+(o<<23&4294967295|o>>>9),o=t+(n^r^s)+i[13]+681279174&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^r)+i[0]+3936430074&4294967295,s=t+(o<<11&4294967295|o>>>21),o=r+(s^t^n)+i[3]+3572445317&4294967295,r=s+(o<<16&4294967295|o>>>16),o=n+(r^s^t)+i[6]+76029189&4294967295,n=r+(o<<23&4294967295|o>>>9),o=t+(n^r^s)+i[9]+3654602809&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^r)+i[12]+3873151461&4294967295,s=t+(o<<11&4294967295|o>>>21),o=r+(s^t^n)+i[15]+530742520&4294967295,r=s+(o<<16&4294967295|o>>>16),o=n+(r^s^t)+i[2]+3299628645&4294967295,n=r+(o<<23&4294967295|o>>>9),o=t+(r^(n|~s))+i[0]+4096336452&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~r))+i[7]+1126891415&4294967295,s=t+(o<<10&4294967295|o>>>22),o=r+(t^(s|~n))+i[14]+2878612391&4294967295,r=s+(o<<15&4294967295|o>>>17),o=n+(s^(r|~t))+i[5]+4237533241&4294967295,n=r+(o<<21&4294967295|o>>>11),o=t+(r^(n|~s))+i[12]+1700485571&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~r))+i[3]+2399980690&4294967295,s=t+(o<<10&4294967295|o>>>22),o=r+(t^(s|~n))+i[10]+4293915773&4294967295,r=s+(o<<15&4294967295|o>>>17),o=n+(s^(r|~t))+i[1]+2240044497&4294967295,n=r+(o<<21&4294967295|o>>>11),o=t+(r^(n|~s))+i[8]+1873313359&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~r))+i[15]+4264355552&4294967295,s=t+(o<<10&4294967295|o>>>22),o=r+(t^(s|~n))+i[6]+2734768916&4294967295,r=s+(o<<15&4294967295|o>>>17),o=n+(s^(r|~t))+i[13]+1309151649&4294967295,n=r+(o<<21&4294967295|o>>>11),o=t+(r^(n|~s))+i[4]+4149444226&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~r))+i[11]+3174756917&4294967295,s=t+(o<<10&4294967295|o>>>22),o=r+(t^(s|~n))+i[2]+718787259&4294967295,r=s+(o<<15&4294967295|o>>>17),o=n+(s^(r|~t))+i[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(r+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+r&4294967295,e.g[3]=e.g[3]+s&4294967295}In.prototype.j=function(e,t){t===void 0&&(t=e.length);for(var n=t-this.blockSize,i=this.m,r=this.h,s=0;s<t;){if(r==0)for(;s<=n;)jd(this,e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<t;)if(i[r++]=e.charCodeAt(s++),r==this.blockSize){jd(this,i),r=0;break}}else for(;s<t;)if(i[r++]=e[s++],r==this.blockSize){jd(this,i),r=0;break}}this.h=r,this.i+=t};In.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=n&255,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var i=0;32>i;i+=8)e[n++]=this.g[t]>>>i&255;return e};function yt(e,t){this.h=t;for(var n=[],i=!0,r=e.length-1;0<=r;r--){var s=e[r]|0;i&&s==t||(n[r]=s,i=!1)}this.g=n}var ZN={};function km(e){return-128<=e&&128>e?aN(e,function(t){return new yt([t|0],0>t?-1:0)}):new yt([e|0],0>e?-1:0)}function Ln(e){if(isNaN(e)||!isFinite(e))return Ds;if(0>e)return de(Ln(-e));for(var t=[],n=1,i=0;e>=n;i++)t[i]=e/n|0,n*=kp;return new yt(t,0)}function Qb(e,t){if(e.length==0)throw Error("number format error: empty string");if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(e.charAt(0)=="-")return de(Qb(e.substring(1),t));if(0<=e.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Ln(Math.pow(t,8)),i=Ds,r=0;r<e.length;r+=8){var s=Math.min(8,e.length-r),o=parseInt(e.substring(r,r+s),t);8>s?(s=Ln(Math.pow(t,s)),i=i.R(s).add(Ln(o))):(i=i.R(n),i=i.add(Ln(o)))}return i}var kp=4294967296,Ds=km(0),Ip=km(1),gv=km(16777216);z=yt.prototype;z.ea=function(){if(dn(this))return-de(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var i=this.D(n);e+=(0<=i?i:kp+i)*t,t*=kp}return e};z.toString=function(e){if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(oi(this))return"0";if(dn(this))return"-"+de(this).toString(e);for(var t=Ln(Math.pow(e,6)),n=this,i="";;){var r=Iu(n,t).g;n=ku(n,r.R(t));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(e);if(n=r,oi(n))return s+i;for(;6>s.length;)s="0"+s;i=s+i}};z.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h};function oi(e){if(e.h!=0)return!1;for(var t=0;t<e.g.length;t++)if(e.g[t]!=0)return!1;return!0}function dn(e){return e.h==-1}z.X=function(e){return e=ku(this,e),dn(e)?-1:oi(e)?0:1};function de(e){for(var t=e.g.length,n=[],i=0;i<t;i++)n[i]=~e.g[i];return new yt(n,~e.h).add(Ip)}z.abs=function(){return dn(this)?de(this):this};z.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0,r=0;r<=t;r++){var s=i+(this.D(r)&65535)+(e.D(r)&65535),o=(s>>>16)+(this.D(r)>>>16)+(e.D(r)>>>16);i=o>>>16,s&=65535,o&=65535,n[r]=o<<16|s}return new yt(n,n[n.length-1]&-2147483648?-1:0)};function ku(e,t){return e.add(de(t))}z.R=function(e){if(oi(this)||oi(e))return Ds;if(dn(this))return dn(e)?de(this).R(de(e)):de(de(this).R(e));if(dn(e))return de(this.R(de(e)));if(0>this.X(gv)&&0>e.X(gv))return Ln(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],i=0;i<2*t;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var r=0;r<e.g.length;r++){var s=this.D(i)>>>16,o=this.D(i)&65535,a=e.D(r)>>>16,l=e.D(r)&65535;n[2*i+2*r]+=o*l,ac(n,2*i+2*r),n[2*i+2*r+1]+=s*l,ac(n,2*i+2*r+1),n[2*i+2*r+1]+=o*a,ac(n,2*i+2*r+1),n[2*i+2*r+2]+=s*a,ac(n,2*i+2*r+2)}for(i=0;i<t;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=t;i<2*t;i++)n[i]=0;return new yt(n,0)};function ac(e,t){for(;(e[t]&65535)!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function ko(e,t){this.g=e,this.h=t}function Iu(e,t){if(oi(t))throw Error("division by zero");if(oi(e))return new ko(Ds,Ds);if(dn(e))return t=Iu(de(e),t),new ko(de(t.g),de(t.h));if(dn(t))return t=Iu(e,de(t)),new ko(de(t.g),t.h);if(30<e.g.length){if(dn(e)||dn(t))throw Error("slowDivide_ only works with positive integers.");for(var n=Ip,i=t;0>=i.X(e);)n=mv(n),i=mv(i);var r=ls(n,1),s=ls(i,1);for(i=ls(i,2),n=ls(n,2);!oi(i);){var o=s.add(i);0>=o.X(e)&&(r=r.add(n),s=o),i=ls(i,1),n=ls(n,1)}return t=ku(e,r.R(t)),new ko(r,t)}for(r=Ds;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),i=Math.ceil(Math.log(n)/Math.LN2),i=48>=i?1:Math.pow(2,i-48),s=Ln(n),o=s.R(t);dn(o)||0<o.X(e);)n-=i,s=Ln(n),o=s.R(t);oi(s)&&(s=Ip),r=r.add(s),e=ku(e,o)}return new ko(r,e)}z.gb=function(e){return Iu(this,e).h};z.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.D(i)&e.D(i);return new yt(n,this.h&e.h)};z.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.D(i)|e.D(i);return new yt(n,this.h|e.h)};z.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.D(i)^e.D(i);return new yt(n,this.h^e.h)};function mv(e){for(var t=e.g.length+1,n=[],i=0;i<t;i++)n[i]=e.D(i)<<1|e.D(i-1)>>>31;return new yt(n,e.h)}function ls(e,t){var n=t>>5;t%=32;for(var i=e.g.length-n,r=[],s=0;s<i;s++)r[s]=0<t?e.D(s+n)>>>t|e.D(s+n+1)<<32-t:e.D(s+n);return new yt(r,e.h)}Su.prototype.createWebChannel=Su.prototype.g;en.prototype.send=en.prototype.u;en.prototype.open=en.prototype.m;en.prototype.close=en.prototype.close;yh.NO_ERROR=0;yh.TIMEOUT=8;yh.HTTP_ERROR=6;db.COMPLETE="complete";fb.EventType=fl;fl.OPEN="a";fl.CLOSE="b";fl.ERROR="c";fl.MESSAGE="d";le.prototype.listen=le.prototype.O;Bt.prototype.listenOnce=Bt.prototype.P;Bt.prototype.getLastError=Bt.prototype.Sa;Bt.prototype.getLastErrorCode=Bt.prototype.Ia;Bt.prototype.getStatus=Bt.prototype.da;Bt.prototype.getResponseJson=Bt.prototype.Wa;Bt.prototype.getResponseText=Bt.prototype.ja;Bt.prototype.send=Bt.prototype.ha;Bt.prototype.setWithCredentials=Bt.prototype.Oa;In.prototype.digest=In.prototype.l;In.prototype.reset=In.prototype.reset;In.prototype.update=In.prototype.j;yt.prototype.add=yt.prototype.add;yt.prototype.multiply=yt.prototype.R;yt.prototype.modulo=yt.prototype.gb;yt.prototype.compare=yt.prototype.X;yt.prototype.toNumber=yt.prototype.ea;yt.prototype.toString=yt.prototype.toString;yt.prototype.getBits=yt.prototype.D;yt.fromNumber=Ln;yt.fromString=Qb;var tL=function(){return new Su},eL=function(){return mh()},zd=yh,nL=db,iL=es,yv={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},rL=ml,lc=fb,sL=Bt,oL=In,Os=yt;const _v="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}be.UNAUTHENTICATED=new be(null),be.GOOGLE_CREDENTIALS=new be("google-credentials-uid"),be.FIRST_PARTY=new be("first-party-uid"),be.MOCK_USER=new be("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lo="10.5.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kr=new im("@firebase/firestore");function Io(){return Kr.logLevel}function W(e,...t){if(Kr.logLevel<=at.DEBUG){const n=t.map(Im);Kr.debug(`Firestore (${lo}): ${e}`,...n)}}function mi(e,...t){if(Kr.logLevel<=at.ERROR){const n=t.map(Im);Kr.error(`Firestore (${lo}): ${e}`,...n)}}function Ks(e,...t){if(Kr.logLevel<=at.WARN){const n=t.map(Im);Kr.warn(`Firestore (${lo}): ${e}`,...n)}}function Im(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y(e="Unexpected state"){const t=`FIRESTORE (${lo}) INTERNAL ASSERTION FAILED: `+e;throw mi(t),new Error(t)}function Ct(e,t){e||Y()}function et(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class K extends dr{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gb{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class aL{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(be.UNAUTHENTICATED))}shutdown(){}}class lL{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class cL{constructor(t){this.t=t,this.currentUser=be.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){let i=this.i;const r=l=>this.i!==i?(i=this.i,n(l)):Promise.resolve();let s=new li;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new li,t.enqueueRetryable(()=>r(this.currentUser))};const o=()=>{const l=s;t.enqueueRetryable(async()=>{await l.promise,await r(this.currentUser)})},a=l=>{W("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(W("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new li)}},0),o()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==t?(W("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Ct(typeof i.accessToken=="string"),new Gb(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return Ct(t===null||typeof t=="string"),new be(t)}}class uL{constructor(t,n,i){this.l=t,this.h=n,this.P=i,this.type="FirstParty",this.user=be.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class hL{constructor(t,n,i){this.l=t,this.h=n,this.P=i}getToken(){return Promise.resolve(new uL(this.l,this.h,this.P))}start(t,n){t.enqueueRetryable(()=>n(be.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class dL{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class fL{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,n){const i=s=>{s.error!=null&&W("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,W("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>i(s))};const r=s=>{W("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?r(s):W("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(Ct(typeof n.token=="string"),this.R=n.token,new dL(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pL(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let i=0;i<e;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yb{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length;let i="";for(;i.length<20;){const r=pL(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<n&&(i+=t.charAt(r[s]%t.length))}return i}}function dt(e,t){return e<t?-1:e>t?1:0}function Qs(e,t,n){return e.length===t.length&&e.every((i,r)=>n(i,t[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new K(D.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new K(D.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new K(D.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new K(D.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return ne.fromMillis(Date.now())}static fromDate(t){return ne.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*n));return new ne(n,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?dt(this.nanoseconds,t.nanoseconds):dt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(t){this.timestamp=t}static fromTimestamp(t){return new J(t)}static min(){return new J(new ne(0,0))}static max(){return new J(new ne(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(t,n,i){n===void 0?n=0:n>t.length&&Y(),i===void 0?i=t.length-n:i>t.length-n&&Y(),this.segments=t,this.offset=n,this.len=i}get length(){return this.len}isEqual(t){return Ka.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Ka?t.forEach(i=>{n.push(i)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,i=this.limit();n<i;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const i=Math.min(t.length,n.length);for(let r=0;r<i;r++){const s=t.get(r),o=n.get(r);if(s<o)return-1;if(s>o)return 1}return t.length<n.length?-1:t.length>n.length?1:0}}class Rt extends Ka{construct(t,n,i){return new Rt(t,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const n=[];for(const i of t){if(i.indexOf("//")>=0)throw new K(D.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(r=>r.length>0))}return new Rt(n)}static emptyPath(){return new Rt([])}}const gL=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class fe extends Ka{construct(t,n,i){return new fe(t,n,i)}static isValidIdentifier(t){return gL.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),fe.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new fe(["__name__"])}static fromServerFormat(t){const n=[];let i="",r=0;const s=()=>{if(i.length===0)throw new K(D.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let o=!1;for(;r<t.length;){const a=t[r];if(a==="\\"){if(r+1===t.length)throw new K(D.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[r+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new K(D.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=l,r+=2}else a==="`"?(o=!o,r++):a!=="."||o?(i+=a,r++):(s(),r++)}if(s(),o)throw new K(D.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new fe(n)}static emptyPath(){return new fe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(t){this.path=t}static fromPath(t){return new Q(Rt.fromString(t))}static fromName(t){return new Q(Rt.fromString(t).popFirst(5))}static empty(){return new Q(Rt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Rt.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Rt.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Q(new Rt(t.slice()))}}function mL(e,t){const n=e.toTimestamp().seconds,i=e.toTimestamp().nanoseconds+1,r=J.fromTimestamp(i===1e9?new ne(n+1,0):new ne(n,i));return new ir(r,Q.empty(),t)}function yL(e){return new ir(e.readTime,e.key,-1)}class ir{constructor(t,n,i){this.readTime=t,this.documentKey=n,this.largestBatchId=i}static min(){return new ir(J.min(),Q.empty(),-1)}static max(){return new ir(J.max(),Q.empty(),-1)}}function _L(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=Q.comparator(e.documentKey,t.documentKey),n!==0?n:dt(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class wL{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vl(e){if(e.code!==D.FAILED_PRECONDITION||e.message!==vL)throw e;W("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Y(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new O((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(n,s).next(i,r)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof O?n:O.resolve(n)}catch(n){return O.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):O.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):O.reject(n)}static resolve(t){return new O((n,i)=>{n(t)})}static reject(t){return new O((n,i)=>{i(t)})}static waitFor(t){return new O((n,i)=>{let r=0,s=0,o=!1;t.forEach(a=>{++r,a.next(()=>{++s,o&&s===r&&n()},l=>i(l))}),o=!0,s===r&&n()})}static or(t){let n=O.resolve(!1);for(const i of t)n=n.next(r=>r?O.resolve(r):i());return n}static forEach(t,n){const i=[];return t.forEach((r,s)=>{i.push(n.call(this,r,s))}),this.waitFor(i)}static mapArray(t,n){return new O((i,r)=>{const s=t.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;n(t[c]).next(u=>{o[c]=u,++a,a===s&&i(o)},u=>r(u))}})}static doWhile(t,n){return new O((i,r)=>{const s=()=>{t()===!0?n().next(()=>{s()},r):i()};s()})}}function wl(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=i=>this.se(i),this.oe=i=>n.writeSequenceNumber(i))}se(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.oe&&this.oe(t),t}}Am._e=-1;function Sh(e){return e==null}function Au(e){return e===0&&1/e==-1/0}function xL(e){return typeof e=="number"&&Number.isInteger(e)&&!Au(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vv(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function ns(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Xb(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(t,n){this.comparator=t,this.root=n||he.EMPTY}insert(t,n){return new Ft(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,he.BLACK,null,null))}remove(t){return new Ft(this.comparator,this.root.remove(t,this.comparator).copy(null,null,he.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(t,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(t){let n=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return n+i.left.size;r<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,i)=>(t(n,i),!1))}toString(){const t=[];return this.inorderTraversal((n,i)=>(t.push(`${n}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new cc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new cc(this.root,t,this.comparator,!1)}getReverseIterator(){return new cc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new cc(this.root,t,this.comparator,!0)}}class cc{constructor(t,n,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=n?i(t.key,n):1,n&&r&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class he{constructor(t,n,i,r,s){this.key=t,this.value=n,this.color=i??he.RED,this.left=r??he.EMPTY,this.right=s??he.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,i,r,s){return new he(t??this.key,n??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,i){let r=this;const s=i(t,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(t,n,i),null):s===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(t,n,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return he.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let i,r=this;if(n(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(t,r.key)===0){if(r.right.isEmpty())return he.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,he.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,he.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Y();const t=this.left.check();if(t!==this.right.check())throw Y();return t+(this.isRed()?0:1)}}he.EMPTY=null,he.RED=!0,he.BLACK=!1;he.EMPTY=new class{constructor(){this.size=0}get key(){throw Y()}get value(){throw Y()}get color(){throw Y()}get left(){throw Y()}get right(){throw Y()}copy(t,n,i,r,s){return this}insert(t,n,i){return new he(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{constructor(t){this.comparator=t,this.data=new Ft(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,i)=>(t(n),!1))}forEachInRange(t,n){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;n(r.key)}}forEachWhile(t,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new wv(this.data.getIterator())}getIteratorFrom(t){return new wv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(i=>{n=n.add(i)}),n}isEqual(t){if(!(t instanceof me)||this.size!==t.size)return!1;const n=this.data.getIterator(),i=t.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,s=i.getNext().key;if(this.comparator(r,s)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new me(this.comparator);return n.data=t,n}}class wv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(t){this.fields=t,t.sort(fe.comparator)}static empty(){return new Ye([])}unionWith(t){let n=new me(fe.comparator);for(const i of this.fields)n=n.add(i);for(const i of t)n=n.add(i);return new Ye(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Qs(this.fields,t.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Jb("Invalid base64 string: "+s):s}}(t);return new Re(n)}static fromUint8Array(t){const n=function(r){let s="";for(let o=0;o<r.length;++o)s+=String.fromCharCode(r[o]);return s}(t);return new Re(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return dt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Re.EMPTY_BYTE_STRING=new Re("");const EL=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function rr(e){if(Ct(!!e),typeof e=="string"){let t=0;const n=EL.exec(e);if(Ct(!!n),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Qt(e.seconds),nanos:Qt(e.nanos)}}function Qt(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Qr(e){return typeof e=="string"?Re.fromBase64String(e):Re.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cm(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Pm(e){const t=e.mapValue.fields.__previous_value__;return Cm(t)?Pm(t):t}function Qa(e){const t=rr(e.mapValue.fields.__local_write_time__.timestampValue);return new ne(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bL{constructor(t,n,i,r,s,o,a,l,c){this.databaseId=t,this.appId=n,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class Ga{constructor(t,n){this.projectId=t,this.database=n||"(default)"}static empty(){return new Ga("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof Ga&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Gr(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Cm(e)?4:TL(e)?9007199254740991:10:Y()}function Hn(e,t){if(e===t)return!0;const n=Gr(e);if(n!==Gr(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Qa(e).isEqual(Qa(t));case 3:return function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const o=rr(r.timestampValue),a=rr(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(r,s){return Qr(r.bytesValue).isEqual(Qr(s.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(r,s){return Qt(r.geoPointValue.latitude)===Qt(s.geoPointValue.latitude)&&Qt(r.geoPointValue.longitude)===Qt(s.geoPointValue.longitude)}(e,t);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return Qt(r.integerValue)===Qt(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const o=Qt(r.doubleValue),a=Qt(s.doubleValue);return o===a?Au(o)===Au(a):isNaN(o)&&isNaN(a)}return!1}(e,t);case 9:return Qs(e.arrayValue.values||[],t.arrayValue.values||[],Hn);case 10:return function(r,s){const o=r.mapValue.fields||{},a=s.mapValue.fields||{};if(vv(o)!==vv(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Hn(o[l],a[l])))return!1;return!0}(e,t);default:return Y()}}function Ya(e,t){return(e.values||[]).find(n=>Hn(n,t))!==void 0}function Gs(e,t){if(e===t)return 0;const n=Gr(e),i=Gr(t);if(n!==i)return dt(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return dt(e.booleanValue,t.booleanValue);case 2:return function(s,o){const a=Qt(s.integerValue||s.doubleValue),l=Qt(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(e,t);case 3:return xv(e.timestampValue,t.timestampValue);case 4:return xv(Qa(e),Qa(t));case 5:return dt(e.stringValue,t.stringValue);case 6:return function(s,o){const a=Qr(s),l=Qr(o);return a.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const u=dt(a[c],l[c]);if(u!==0)return u}return dt(a.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(s,o){const a=dt(Qt(s.latitude),Qt(o.latitude));return a!==0?a:dt(Qt(s.longitude),Qt(o.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(s,o){const a=s.values||[],l=o.values||[];for(let c=0;c<a.length&&c<l.length;++c){const u=Gs(a[c],l[c]);if(u)return u}return dt(a.length,l.length)}(e.arrayValue,t.arrayValue);case 10:return function(s,o){if(s===uc.mapValue&&o===uc.mapValue)return 0;if(s===uc.mapValue)return 1;if(o===uc.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),c=o.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let h=0;h<l.length&&h<u.length;++h){const d=dt(l[h],u[h]);if(d!==0)return d;const f=Gs(a[l[h]],c[u[h]]);if(f!==0)return f}return dt(l.length,u.length)}(e.mapValue,t.mapValue);default:throw Y()}}function xv(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return dt(e,t);const n=rr(e),i=rr(t),r=dt(n.seconds,i.seconds);return r!==0?r:dt(n.nanos,i.nanos)}function Ys(e){return Ap(e)}function Ap(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const i=rr(n);return`time(${i.seconds},${i.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return Qr(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return Q.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let i="[",r=!0;for(const s of n.values||[])r?r=!1:i+=",",i+=Ap(s);return i+"]"}(e.arrayValue):"mapValue"in e?function(n){const i=Object.keys(n.fields||{}).sort();let r="{",s=!0;for(const o of i)s?s=!1:r+=",",r+=`${o}:${Ap(n.fields[o])}`;return r+"}"}(e.mapValue):Y()}function Cp(e){return!!e&&"integerValue"in e}function Rm(e){return!!e&&"arrayValue"in e}function Ev(e){return!!e&&"nullValue"in e}function bv(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Dc(e){return!!e&&"mapValue"in e}function oa(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return ns(e.mapValue.fields,(n,i)=>t.mapValue.fields[n]=oa(i)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=oa(e.arrayValue.values[n]);return t}return Object.assign({},e)}function TL(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ze{constructor(t){this.value=t}static empty(){return new ze({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let i=0;i<t.length-1;++i)if(n=(n.mapValue.fields||{})[t.get(i)],!Dc(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=oa(n)}setAll(t){let n=fe.emptyPath(),i={},r=[];t.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,i,r),i={},r=[],n=a.popLast()}o?i[a.lastSegment()]=oa(o):r.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,i,r)}delete(t){const n=this.field(t.popLast());Dc(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Hn(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=n.mapValue.fields[t.get(i)];Dc(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[t.get(i)]=r),n=r}return n.mapValue.fields}applyChanges(t,n,i){ns(n,(r,s)=>t[r]=s);for(const r of i)delete t[r]}clone(){return new ze(oa(this.value))}}function Zb(e){const t=[];return ns(e.fields,(n,i)=>{const r=new fe([n]);if(Dc(i)){const s=Zb(i.mapValue).fields;if(s.length===0)t.push(r);else for(const o of s)t.push(r.child(o))}else t.push(r)}),new Ye(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(t,n,i,r,s,o,a){this.key=t,this.documentType=n,this.version=i,this.readTime=r,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(t){return new Se(t,0,J.min(),J.min(),J.min(),ze.empty(),0)}static newFoundDocument(t,n,i,r){return new Se(t,1,n,J.min(),i,r,0)}static newNoDocument(t,n){return new Se(t,2,n,J.min(),J.min(),ze.empty(),0)}static newUnknownDocument(t,n){return new Se(t,3,n,J.min(),J.min(),ze.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(J.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=ze.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=ze.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=J.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Se&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Se(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu{constructor(t,n){this.position=t,this.inclusive=n}}function Tv(e,t,n){let i=0;for(let r=0;r<e.position.length;r++){const s=t[r],o=e.position[r];if(s.field.isKeyField()?i=Q.comparator(Q.fromName(o.referenceValue),n.key):i=Gs(o,n.data.field(s.field)),s.dir==="desc"&&(i*=-1),i!==0)break}return i}function Sv(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Hn(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu{constructor(t,n="asc"){this.field=t,this.dir=n}}function SL(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tT{}class Zt extends tT{constructor(t,n,i){super(),this.field=t,this.op=n,this.value=i}static create(t,n,i){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,i):new IL(t,n,i):n==="array-contains"?new PL(t,i):n==="in"?new RL(t,i):n==="not-in"?new ML(t,i):n==="array-contains-any"?new DL(t,i):new Zt(t,n,i)}static createKeyFieldInFilter(t,n,i){return n==="in"?new AL(t,i):new CL(t,i)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Gs(n,this.value)):n!==null&&Gr(this.value)===Gr(n)&&this.matchesComparison(Gs(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Y()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class qn extends tT{constructor(t,n){super(),this.filters=t,this.op=n,this.ue=null}static create(t,n){return new qn(t,n)}matches(t){return eT(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function eT(e){return e.op==="and"}function nT(e){return kL(e)&&eT(e)}function kL(e){for(const t of e.filters)if(t instanceof qn)return!1;return!0}function Pp(e){if(e instanceof Zt)return e.field.canonicalString()+e.op.toString()+Ys(e.value);if(nT(e))return e.filters.map(t=>Pp(t)).join(",");{const t=e.filters.map(n=>Pp(n)).join(",");return`${e.op}(${t})`}}function iT(e,t){return e instanceof Zt?function(i,r){return r instanceof Zt&&i.op===r.op&&i.field.isEqual(r.field)&&Hn(i.value,r.value)}(e,t):e instanceof qn?function(i,r){return r instanceof qn&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((s,o,a)=>s&&iT(o,r.filters[a]),!0):!1}(e,t):void Y()}function rT(e){return e instanceof Zt?function(n){return`${n.field.canonicalString()} ${n.op} ${Ys(n.value)}`}(e):e instanceof qn?function(n){return n.op.toString()+" {"+n.getFilters().map(rT).join(" ,")+"}"}(e):"Filter"}class IL extends Zt{constructor(t,n,i){super(t,n,i),this.key=Q.fromName(i.referenceValue)}matches(t){const n=Q.comparator(t.key,this.key);return this.matchesComparison(n)}}class AL extends Zt{constructor(t,n){super(t,"in",n),this.keys=sT("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class CL extends Zt{constructor(t,n){super(t,"not-in",n),this.keys=sT("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function sT(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>Q.fromName(i.referenceValue))}class PL extends Zt{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Rm(n)&&Ya(n.arrayValue,this.value)}}class RL extends Zt{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Ya(this.value.arrayValue,n)}}class ML extends Zt{constructor(t,n){super(t,"not-in",n)}matches(t){if(Ya(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!Ya(this.value.arrayValue,n)}}class DL extends Zt{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Rm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>Ya(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OL{constructor(t,n=null,i=[],r=[],s=null,o=null,a=null){this.path=t,this.collectionGroup=n,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=o,this.endAt=a,this.ce=null}}function kv(e,t=null,n=[],i=[],r=null,s=null,o=null){return new OL(e,t,n,i,r,s,o)}function Mm(e){const t=et(e);if(t.ce===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(i=>Pp(i)).join(","),n+="|ob:",n+=t.orderBy.map(i=>function(s){return s.field.canonicalString()+s.dir}(i)).join(","),Sh(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(i=>Ys(i)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(i=>Ys(i)).join(",")),t.ce=n}return t.ce}function Dm(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!SL(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!iT(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Sv(e.startAt,t.startAt)&&Sv(e.endAt,t.endAt)}function Rp(e){return Q.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(t,n=null,i=[],r=[],s=null,o="F",a=null,l=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function NL(e,t,n,i,r,s,o,a){return new kh(e,t,n,i,r,s,o,a)}function Om(e){return new kh(e)}function Iv(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function LL(e){return e.collectionGroup!==null}function aa(e){const t=et(e);if(t.le===null){t.le=[];const n=new Set;for(const s of t.explicitOrderBy)t.le.push(s),n.add(s.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new me(fe.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(t).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||t.le.push(new Pu(s,i))}),n.has(fe.keyField().canonicalString())||t.le.push(new Pu(fe.keyField(),i))}return t.le}function $n(e){const t=et(e);return t.he||(t.he=VL(t,aa(e))),t.he}function VL(e,t){if(e.limitType==="F")return kv(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(r=>{const s=r.dir==="desc"?"asc":"desc";return new Pu(r.field,s)});const n=e.endAt?new Cu(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Cu(e.startAt.position,e.startAt.inclusive):null;return kv(e.path,e.collectionGroup,t,e.filters,e.limit,n,i)}}function Mp(e,t,n){return new kh(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Ih(e,t){return Dm($n(e),$n(t))&&e.limitType===t.limitType}function oT(e){return`${Mm($n(e))}|lt:${e.limitType}`}function cs(e){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(r=>rT(r)).join(", ")}]`),Sh(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(r=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(r)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(r=>Ys(r)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(r=>Ys(r)).join(",")),`Target(${i})`}($n(e))}; limitType=${e.limitType})`}function Ah(e,t){return t.isFoundDocument()&&function(i,r){const s=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(s):Q.isDocumentKey(i.path)?i.path.isEqual(s):i.path.isImmediateParentOf(s)}(e,t)&&function(i,r){for(const s of aa(i))if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0}(e,t)&&function(i,r){for(const s of i.filters)if(!s.matches(r))return!1;return!0}(e,t)&&function(i,r){return!(i.startAt&&!function(o,a,l){const c=Tv(o,a,l);return o.inclusive?c<=0:c<0}(i.startAt,aa(i),r)||i.endAt&&!function(o,a,l){const c=Tv(o,a,l);return o.inclusive?c>=0:c>0}(i.endAt,aa(i),r))}(e,t)}function FL(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function aT(e){return(t,n)=>{let i=!1;for(const r of aa(e)){const s=jL(r,t,n);if(s!==0)return s;i=i||r.field.isKeyField()}return 0}}function jL(e,t,n){const i=e.field.isKeyField()?Q.comparator(t.key,n.key):function(s,o,a){const l=o.data.field(s),c=a.data.field(s);return l!==null&&c!==null?Gs(l,c):Y()}(e.field,t,n);switch(e.dir){case"asc":return i;case"desc":return-1*i;default:return Y()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i!==void 0){for(const[r,s]of i)if(this.equalsFn(r,t))return s}}has(t){return this.get(t)!==void 0}set(t,n){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return this.inner[i]=[[t,n]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],t))return void(r[s]=[t,n]);r.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return i.length===1?delete this.inner[n]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){ns(this.inner,(n,i)=>{for(const[r,s]of i)t(r,s)})}isEmpty(){return Xb(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zL=new Ft(Q.comparator);function yi(){return zL}const lT=new Ft(Q.comparator);function $o(...e){let t=lT;for(const n of e)t=t.insert(n.key,n);return t}function cT(e){let t=lT;return e.forEach((n,i)=>t=t.insert(n,i.overlayedDocument)),t}function Mr(){return la()}function uT(){return la()}function la(){return new co(e=>e.toString(),(e,t)=>e.isEqual(t))}const $L=new Ft(Q.comparator),BL=new me(Q.comparator);function nt(...e){let t=BL;for(const n of e)t=t.add(n);return t}const UL=new me(dt);function WL(){return UL}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hT(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Au(t)?"-0":t}}function dT(e){return{integerValue:""+e}}function fT(e,t){return xL(t)?dT(t):hT(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(){this._=void 0}}function HL(e,t,n){return e instanceof Ru?function(r,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&Cm(s)&&(s=Pm(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,t):e instanceof Xa?gT(e,t):e instanceof Ja?mT(e,t):function(r,s){const o=pT(r,s),a=Av(o)+Av(r.Ie);return Cp(o)&&Cp(r.Ie)?dT(a):hT(r.serializer,a)}(e,t)}function qL(e,t,n){return e instanceof Xa?gT(e,t):e instanceof Ja?mT(e,t):n}function pT(e,t){return e instanceof Za?function(i){return Cp(i)||function(s){return!!s&&"doubleValue"in s}(i)}(t)?t:{integerValue:0}:null}class Ru extends Ch{}class Xa extends Ch{constructor(t){super(),this.elements=t}}function gT(e,t){const n=yT(t);for(const i of e.elements)n.some(r=>Hn(r,i))||n.push(i);return{arrayValue:{values:n}}}class Ja extends Ch{constructor(t){super(),this.elements=t}}function mT(e,t){let n=yT(t);for(const i of e.elements)n=n.filter(r=>!Hn(r,i));return{arrayValue:{values:n}}}class Za extends Ch{constructor(t,n){super(),this.serializer=t,this.Ie=n}}function Av(e){return Qt(e.integerValue||e.doubleValue)}function yT(e){return Rm(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KL{constructor(t,n){this.field=t,this.transform=n}}function QL(e,t){return e.field.isEqual(t.field)&&function(i,r){return i instanceof Xa&&r instanceof Xa||i instanceof Ja&&r instanceof Ja?Qs(i.elements,r.elements,Hn):i instanceof Za&&r instanceof Za?Hn(i.Ie,r.Ie):i instanceof Ru&&r instanceof Ru}(e.transform,t.transform)}class GL{constructor(t,n){this.version=t,this.transformResults=n}}class Bn{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Bn}static exists(t){return new Bn(void 0,t)}static updateTime(t){return new Bn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Oc(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class Ph{}function _T(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new wT(e.key,Bn.none()):new xl(e.key,e.data,Bn.none());{const n=e.data,i=ze.empty();let r=new me(fe.comparator);for(let s of t.fields)if(!r.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?i.delete(s):i.set(s,o),r=r.add(s)}return new gr(e.key,i,new Ye(r.toArray()),Bn.none())}}function YL(e,t,n){e instanceof xl?function(r,s,o){const a=r.value.clone(),l=Pv(r.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(e,t,n):e instanceof gr?function(r,s,o){if(!Oc(r.precondition,s))return void s.convertToUnknownDocument(o.version);const a=Pv(r.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(vT(r)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(e,t,n):function(r,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,t,n)}function ca(e,t,n,i){return e instanceof xl?function(s,o,a,l){if(!Oc(s.precondition,o))return a;const c=s.value.clone(),u=Rv(s.fieldTransforms,l,o);return c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(e,t,n,i):e instanceof gr?function(s,o,a,l){if(!Oc(s.precondition,o))return a;const c=Rv(s.fieldTransforms,l,o),u=o.data;return u.setAll(vT(s)),u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(e,t,n,i):function(s,o,a){return Oc(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(e,t,n)}function XL(e,t){let n=null;for(const i of e.fieldTransforms){const r=t.data.field(i.field),s=pT(i.transform,r||null);s!=null&&(n===null&&(n=ze.empty()),n.set(i.field,s))}return n||null}function Cv(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&Qs(i,r,(s,o)=>QL(s,o))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class xl extends Ph{constructor(t,n,i,r=[]){super(),this.key=t,this.value=n,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class gr extends Ph{constructor(t,n,i,r,s=[]){super(),this.key=t,this.data=n,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function vT(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=e.data.field(n);t.set(n,i)}}),t}function Pv(e,t,n){const i=new Map;Ct(e.length===n.length);for(let r=0;r<n.length;r++){const s=e[r],o=s.transform,a=t.data.field(s.field);i.set(s.field,qL(o,a,n[r]))}return i}function Rv(e,t,n){const i=new Map;for(const r of e){const s=r.transform,o=n.data.field(r.field);i.set(r.field,HL(s,o,t))}return i}class wT extends Ph{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class JL extends Ph{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZL{constructor(t,n,i,r){this.batchId=t,this.localWriteTime=n,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,n){const i=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(t.key)&&YL(s,t,i[r])}}applyToLocalView(t,n){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(n=ca(i,t,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(n=ca(i,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const i=uT();return this.mutations.forEach(r=>{const s=t.get(r.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(r.key)?null:a;const l=_T(o,a);l!==null&&i.set(r.key,l),o.isValidDocument()||o.convertToNoDocument(J.min())}),i}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),nt())}isEqual(t){return this.batchId===t.batchId&&Qs(this.mutations,t.mutations,(n,i)=>Cv(n,i))&&Qs(this.baseMutations,t.baseMutations,(n,i)=>Cv(n,i))}}class Nm{constructor(t,n,i,r){this.batch=t,this.commitVersion=n,this.mutationResults=i,this.docVersions=r}static from(t,n,i){Ct(t.mutations.length===i.length);let r=function(){return $L}();const s=t.mutations;for(let o=0;o<s.length;o++)r=r.insert(s[o].key,i[o].version);return new Nm(t,n,i,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tV{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eV{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Kt,ot;function nV(e){switch(e){default:return Y();case D.CANCELLED:case D.UNKNOWN:case D.DEADLINE_EXCEEDED:case D.RESOURCE_EXHAUSTED:case D.INTERNAL:case D.UNAVAILABLE:case D.UNAUTHENTICATED:return!1;case D.INVALID_ARGUMENT:case D.NOT_FOUND:case D.ALREADY_EXISTS:case D.PERMISSION_DENIED:case D.FAILED_PRECONDITION:case D.ABORTED:case D.OUT_OF_RANGE:case D.UNIMPLEMENTED:case D.DATA_LOSS:return!0}}function xT(e){if(e===void 0)return mi("GRPC error has no .code"),D.UNKNOWN;switch(e){case Kt.OK:return D.OK;case Kt.CANCELLED:return D.CANCELLED;case Kt.UNKNOWN:return D.UNKNOWN;case Kt.DEADLINE_EXCEEDED:return D.DEADLINE_EXCEEDED;case Kt.RESOURCE_EXHAUSTED:return D.RESOURCE_EXHAUSTED;case Kt.INTERNAL:return D.INTERNAL;case Kt.UNAVAILABLE:return D.UNAVAILABLE;case Kt.UNAUTHENTICATED:return D.UNAUTHENTICATED;case Kt.INVALID_ARGUMENT:return D.INVALID_ARGUMENT;case Kt.NOT_FOUND:return D.NOT_FOUND;case Kt.ALREADY_EXISTS:return D.ALREADY_EXISTS;case Kt.PERMISSION_DENIED:return D.PERMISSION_DENIED;case Kt.FAILED_PRECONDITION:return D.FAILED_PRECONDITION;case Kt.ABORTED:return D.ABORTED;case Kt.OUT_OF_RANGE:return D.OUT_OF_RANGE;case Kt.UNIMPLEMENTED:return D.UNIMPLEMENTED;case Kt.DATA_LOSS:return D.DATA_LOSS;default:return Y()}}(ot=Kt||(Kt={}))[ot.OK=0]="OK",ot[ot.CANCELLED=1]="CANCELLED",ot[ot.UNKNOWN=2]="UNKNOWN",ot[ot.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ot[ot.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ot[ot.NOT_FOUND=5]="NOT_FOUND",ot[ot.ALREADY_EXISTS=6]="ALREADY_EXISTS",ot[ot.PERMISSION_DENIED=7]="PERMISSION_DENIED",ot[ot.UNAUTHENTICATED=16]="UNAUTHENTICATED",ot[ot.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ot[ot.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ot[ot.ABORTED=10]="ABORTED",ot[ot.OUT_OF_RANGE=11]="OUT_OF_RANGE",ot[ot.UNIMPLEMENTED=12]="UNIMPLEMENTED",ot[ot.INTERNAL=13]="INTERNAL",ot[ot.UNAVAILABLE=14]="UNAVAILABLE",ot[ot.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iV(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rV=new Os([4294967295,4294967295],0);function Mv(e){const t=iV().encode(e),n=new oL;return n.update(t),new Uint8Array(n.digest())}function Dv(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),i=t.getUint32(4,!0),r=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new Os([n,i],0),new Os([r,s],0)]}class Lm{constructor(t,n,i){if(this.bitmap=t,this.padding=n,this.hashCount=i,n<0||n>=8)throw new Bo(`Invalid padding: ${n}`);if(i<0)throw new Bo(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new Bo(`Invalid hash count: ${i}`);if(t.length===0&&n!==0)throw new Bo(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*t.length-n,this.Ee=Os.fromNumber(this.Te)}de(t,n,i){let r=t.add(n.multiply(Os.fromNumber(i)));return r.compare(rV)===1&&(r=new Os([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ee).toNumber()}Ae(t){return(this.bitmap[Math.floor(t/8)]&1<<t%8)!=0}mightContain(t){if(this.Te===0)return!1;const n=Mv(t),[i,r]=Dv(n);for(let s=0;s<this.hashCount;s++){const o=this.de(i,r,s);if(!this.Ae(o))return!1}return!0}static create(t,n,i){const r=t%8==0?0:8-t%8,s=new Uint8Array(Math.ceil(t/8)),o=new Lm(s,r,n);return i.forEach(a=>o.insert(a)),o}insert(t){if(this.Te===0)return;const n=Mv(t),[i,r]=Dv(n);for(let s=0;s<this.hashCount;s++){const o=this.de(i,r,s);this.Re(o)}}Re(t){const n=Math.floor(t/8),i=t%8;this.bitmap[n]|=1<<i}}class Bo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(t,n,i,r,s){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,n,i){const r=new Map;return r.set(t,El.createSynthesizedTargetChangeForCurrentChange(t,n,i)),new Rh(J.min(),r,new Ft(dt),yi(),nt())}}class El{constructor(t,n,i,r,s){this.resumeToken=t,this.current=n,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,n,i){return new El(i,n,nt(),nt(),nt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(t,n,i,r){this.Ve=t,this.removedTargetIds=n,this.key=i,this.me=r}}class ET{constructor(t,n){this.targetId=t,this.fe=n}}class bT{constructor(t,n,i=Re.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=n,this.resumeToken=i,this.cause=r}}class Ov{constructor(){this.ge=0,this.pe=Lv(),this.ye=Re.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(t){t.approximateByteSize()>0&&(this.Se=!0,this.ye=t)}ve(){let t=nt(),n=nt(),i=nt();return this.pe.forEach((r,s)=>{switch(s){case 0:t=t.add(r);break;case 2:n=n.add(r);break;case 1:i=i.add(r);break;default:Y()}}),new El(this.ye,this.we,t,n,i)}Fe(){this.Se=!1,this.pe=Lv()}Me(t,n){this.Se=!0,this.pe=this.pe.insert(t,n)}xe(t){this.Se=!0,this.pe=this.pe.remove(t)}Oe(){this.ge+=1}Ne(){this.ge-=1}Be(){this.Se=!0,this.we=!0}}class sV{constructor(t){this.Le=t,this.ke=new Map,this.qe=yi(),this.Qe=Nv(),this.Ke=new Ft(dt)}$e(t){for(const n of t.Ve)t.me&&t.me.isFoundDocument()?this.Ue(n,t.me):this.We(n,t.key,t.me);for(const n of t.removedTargetIds)this.We(n,t.key,t.me)}Ge(t){this.forEachTarget(t,n=>{const i=this.ze(n);switch(t.state){case 0:this.je(n)&&i.Ce(t.resumeToken);break;case 1:i.Ne(),i.be||i.Fe(),i.Ce(t.resumeToken);break;case 2:i.Ne(),i.be||this.removeTarget(n);break;case 3:this.je(n)&&(i.Be(),i.Ce(t.resumeToken));break;case 4:this.je(n)&&(this.He(n),i.Ce(t.resumeToken));break;default:Y()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ke.forEach((i,r)=>{this.je(r)&&n(r)})}Je(t){const n=t.targetId,i=t.fe.count,r=this.Ye(n);if(r){const s=r.target;if(Rp(s))if(i===0){const o=new Q(s.path);this.We(n,o,Se.newNoDocument(o,J.min()))}else Ct(i===1);else{const o=this.Ze(n);if(o!==i){const a=this.Xe(t),l=a?this.et(a,t,o):1;if(l!==0){this.He(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,c)}}}}}Xe(t){const n=t.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:s=0}=n;let o,a;try{o=Qr(i).toUint8Array()}catch(l){if(l instanceof Jb)return Ks("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Lm(o,r,s)}catch(l){return Ks(l instanceof Bo?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Te===0?null:a}et(t,n,i){return n.fe.count===i-this.rt(t,n.targetId)?0:2}rt(t,n){const i=this.Le.getRemoteKeysForTarget(n);let r=0;return i.forEach(s=>{const o=this.Le.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;t.mightContain(a)||(this.We(n,s,null),r++)}),r}it(t){const n=new Map;this.ke.forEach((s,o)=>{const a=this.Ye(o);if(a){if(s.current&&Rp(a.target)){const l=new Q(a.target.path);this.qe.get(l)!==null||this.st(o,l)||this.We(o,l,Se.newNoDocument(l,t))}s.De&&(n.set(o,s.ve()),s.Fe())}});let i=nt();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Ye(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(i=i.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(t));const r=new Rh(t,n,this.Ke,this.qe,i);return this.qe=yi(),this.Qe=Nv(),this.Ke=new Ft(dt),r}Ue(t,n){if(!this.je(t))return;const i=this.st(t,n.key)?2:0;this.ze(t).Me(n.key,i),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(t))}We(t,n,i){if(!this.je(t))return;const r=this.ze(t);this.st(t,n)?r.Me(n,1):r.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(t)),i&&(this.qe=this.qe.insert(n,i))}removeTarget(t){this.ke.delete(t)}Ze(t){const n=this.ze(t).ve();return this.Le.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Oe(t){this.ze(t).Oe()}ze(t){let n=this.ke.get(t);return n||(n=new Ov,this.ke.set(t,n)),n}ot(t){let n=this.Qe.get(t);return n||(n=new me(dt),this.Qe=this.Qe.insert(t,n)),n}je(t){const n=this.Ye(t)!==null;return n||W("WatchChangeAggregator","Detected inactive target",t),n}Ye(t){const n=this.ke.get(t);return n&&n.be?null:this.Le._t(t)}He(t){this.ke.set(t,new Ov),this.Le.getRemoteKeysForTarget(t).forEach(n=>{this.We(t,n,null)})}st(t,n){return this.Le.getRemoteKeysForTarget(t).has(n)}}function Nv(){return new Ft(Q.comparator)}function Lv(){return new Ft(Q.comparator)}const oV=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),aV=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),lV=(()=>({and:"AND",or:"OR"}))();class cV{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Dp(e,t){return e.useProto3Json||Sh(t)?t:{value:t}}function Mu(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function TT(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function uV(e,t){return Mu(e,t.toTimestamp())}function Un(e){return Ct(!!e),J.fromTimestamp(function(n){const i=rr(n);return new ne(i.seconds,i.nanos)}(e))}function Vm(e,t){return function(i){return new Rt(["projects",i.projectId,"databases",i.database])}(e).child("documents").child(t).canonicalString()}function ST(e){const t=Rt.fromString(e);return Ct(CT(t)),t}function Op(e,t){return Vm(e.databaseId,t.path)}function $d(e,t){const n=ST(t);if(n.get(1)!==e.databaseId.projectId)throw new K(D.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new K(D.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Q(kT(n))}function Np(e,t){return Vm(e.databaseId,t)}function hV(e){const t=ST(e);return t.length===4?Rt.emptyPath():kT(t)}function Lp(e){return new Rt(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function kT(e){return Ct(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function Vv(e,t,n){return{name:Op(e,t),fields:n.value.mapValue.fields}}function dV(e,t){let n;if("targetChange"in t){t.targetChange;const i=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Y()}(t.targetChange.targetChangeType||"NO_CHANGE"),r=t.targetChange.targetIds||[],s=function(c,u){return c.useProto3Json?(Ct(u===void 0||typeof u=="string"),Re.fromBase64String(u||"")):(Ct(u===void 0||u instanceof Uint8Array),Re.fromUint8Array(u||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(c){const u=c.code===void 0?D.UNKNOWN:xT(c.code);return new K(u,c.message||"")}(o);n=new bT(i,r,s,a||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const r=$d(e,i.document.name),s=Un(i.document.updateTime),o=i.document.createTime?Un(i.document.createTime):J.min(),a=new ze({mapValue:{fields:i.document.fields}}),l=Se.newFoundDocument(r,s,o,a),c=i.targetIds||[],u=i.removedTargetIds||[];n=new Nc(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const r=$d(e,i.document),s=i.readTime?Un(i.readTime):J.min(),o=Se.newNoDocument(r,s),a=i.removedTargetIds||[];n=new Nc([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const r=$d(e,i.document),s=i.removedTargetIds||[];n=new Nc([],s,r,null)}else{if(!("filter"in t))return Y();{t.filter;const i=t.filter;i.targetId;const{count:r=0,unchangedNames:s}=i,o=new eV(r,s),a=i.targetId;n=new ET(a,o)}}return n}function fV(e,t){let n;if(t instanceof xl)n={update:Vv(e,t.key,t.value)};else if(t instanceof wT)n={delete:Op(e,t.key)};else if(t instanceof gr)n={update:Vv(e,t.key,t.data),updateMask:EV(t.fieldMask)};else{if(!(t instanceof JL))return Y();n={verify:Op(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(i=>function(s,o){const a=o.transform;if(a instanceof Ru)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Xa)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ja)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Za)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw Y()}(0,i))),t.precondition.isNone||(n.currentDocument=function(r,s){return s.updateTime!==void 0?{updateTime:uV(r,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Y()}(e,t.precondition)),n}function pV(e,t){return e&&e.length>0?(Ct(t!==void 0),e.map(n=>function(r,s){let o=r.updateTime?Un(r.updateTime):Un(s);return o.isEqual(J.min())&&(o=Un(s)),new GL(o,r.transformResults||[])}(n,t))):[]}function gV(e,t){return{documents:[Np(e,t.path)]}}function mV(e,t){const n={structuredQuery:{}},i=t.path;t.collectionGroup!==null?(n.parent=Np(e,i),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Np(e,i.popLast()),n.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(l){if(l.length!==0)return AT(qn.create(l,"and"))}(t.filters);r&&(n.structuredQuery.where=r);const s=function(l){if(l.length!==0)return l.map(c=>function(h){return{field:us(h.field),direction:vV(h.dir)}}(c))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const o=Dp(e,t.limit);return o!==null&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(t.endAt)),n}function yV(e){let t=hV(e.parent);const n=e.structuredQuery,i=n.from?n.from.length:0;let r=null;if(i>0){Ct(i===1);const u=n.from[0];u.allDescendants?r=u.collectionId:t=t.child(u.collectionId)}let s=[];n.where&&(s=function(h){const d=IT(h);return d instanceof qn&&nT(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(d=>function(m){return new Pu(hs(m.field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(d))}(n.orderBy));let a=null;n.limit&&(a=function(h){let d;return d=typeof h=="object"?h.value:h,Sh(d)?null:d}(n.limit));let l=null;n.startAt&&(l=function(h){const d=!!h.before,f=h.values||[];return new Cu(f,d)}(n.startAt));let c=null;return n.endAt&&(c=function(h){const d=!h.before,f=h.values||[];return new Cu(f,d)}(n.endAt)),NL(t,r,o,s,a,"F",l,c)}function _V(e,t){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Y()}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function IT(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=hs(n.unaryFilter.field);return Zt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=hs(n.unaryFilter.field);return Zt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=hs(n.unaryFilter.field);return Zt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=hs(n.unaryFilter.field);return Zt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Y()}}(e):e.fieldFilter!==void 0?function(n){return Zt.create(hs(n.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Y()}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return qn.create(n.compositeFilter.filters.map(i=>IT(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return Y()}}(n.compositeFilter.op))}(e):Y()}function vV(e){return oV[e]}function wV(e){return aV[e]}function xV(e){return lV[e]}function us(e){return{fieldPath:e.canonicalString()}}function hs(e){return fe.fromServerFormat(e.fieldPath)}function AT(e){return e instanceof Zt?function(n){if(n.op==="=="){if(bv(n.value))return{unaryFilter:{field:us(n.field),op:"IS_NAN"}};if(Ev(n.value))return{unaryFilter:{field:us(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(bv(n.value))return{unaryFilter:{field:us(n.field),op:"IS_NOT_NAN"}};if(Ev(n.value))return{unaryFilter:{field:us(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:us(n.field),op:wV(n.op),value:n.value}}}(e):e instanceof qn?function(n){const i=n.getFilters().map(r=>AT(r));return i.length===1?i[0]:{compositeFilter:{op:xV(n.op),filters:i}}}(e):Y()}function EV(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function CT(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi{constructor(t,n,i,r,s=J.min(),o=J.min(),a=Re.EMPTY_BYTE_STRING,l=null){this.target=t,this.targetId=n,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(t){return new Vi(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Vi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Vi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Vi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bV{constructor(t){this.ut=t}}function TV(e){const t=yV({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?Mp(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SV{constructor(){this.on=new kV}addToCollectionParentIndex(t,n){return this.on.add(n),O.resolve()}getCollectionParents(t,n){return O.resolve(this.on.getEntries(n))}addFieldIndex(t,n){return O.resolve()}deleteFieldIndex(t,n){return O.resolve()}deleteAllFieldIndexes(t){return O.resolve()}createTargetIndexes(t,n){return O.resolve()}getDocumentsMatchingTarget(t,n){return O.resolve(null)}getIndexType(t,n){return O.resolve(0)}getFieldIndexes(t,n){return O.resolve([])}getNextCollectionGroupToUpdate(t){return O.resolve(null)}getMinOffset(t,n){return O.resolve(ir.min())}getMinOffsetFromCollectionGroup(t,n){return O.resolve(ir.min())}updateCollectionGroup(t,n,i){return O.resolve()}updateIndexEntries(t,n){return O.resolve()}}class kV{constructor(){this.index={}}add(t){const n=t.lastSegment(),i=t.popLast(),r=this.index[n]||new me(Rt.comparator),s=!r.has(i);return this.index[n]=r.add(i),s}has(t){const n=t.lastSegment(),i=t.popLast(),r=this.index[n];return r&&r.has(i)}getEntries(t){return(this.index[t]||new me(Rt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(t){this.xn=t}next(){return this.xn+=2,this.xn}static On(){return new Xs(0)}static Nn(){return new Xs(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IV{constructor(){this.changes=new co(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Se.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?O.resolve(i):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AV{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CV{constructor(t,n,i,r){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,n){let i=null;return this.documentOverlayCache.getOverlay(t,n).next(r=>(i=r,this.remoteDocumentCache.getEntry(t,n))).next(r=>(i!==null&&ca(i.mutation,r,Ye.empty(),ne.now()),r))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.getLocalViewOfDocuments(t,i,nt()).next(()=>i))}getLocalViewOfDocuments(t,n,i=nt()){const r=Mr();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,i).next(s=>{let o=$o();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(t,n){const i=Mr();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,nt()))}populateOverlays(t,n,i){const r=[];return i.forEach(s=>{n.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(t,r).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(t,n,i,r){let s=yi();const o=la(),a=function(){return la()}();return n.forEach((l,c)=>{const u=i.get(c.key);r.has(c.key)&&(u===void 0||u.mutation instanceof gr)?s=s.insert(c.key,c):u!==void 0?(o.set(c.key,u.mutation.getFieldMask()),ca(u.mutation,c,u.mutation.getFieldMask(),ne.now())):o.set(c.key,Ye.empty())}),this.recalculateAndSaveOverlays(t,s).next(l=>(l.forEach((c,u)=>o.set(c,u)),n.forEach((c,u)=>{var h;return a.set(c,new AV(u,(h=o.get(c))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(t,n){const i=la();let r=new Ft((o,a)=>o-a),s=nt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let u=i.get(l)||Ye.empty();u=a.applyToLocalView(c,u),i.set(l,u);const h=(r.get(a.batchId)||nt()).add(l);r=r.insert(a.batchId,h)})}).next(()=>{const o=[],a=r.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,h=uT();u.forEach(d=>{if(!s.has(d)){const f=_T(n.get(d),i.get(d));f!==null&&h.set(d,f),s=s.add(d)}}),o.push(this.documentOverlayCache.saveOverlays(t,c,h))}return O.waitFor(o)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,n,i,r){return function(o){return Q.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):LL(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,i,r):this.getDocumentsMatchingCollectionQuery(t,n,i,r)}getNextDocuments(t,n,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,i,r).next(s=>{const o=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,i.largestBatchId,r-s.size):O.resolve(Mr());let a=-1,l=s;return o.next(c=>O.forEach(c,(u,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(u)?O.resolve():this.remoteDocumentCache.getEntry(t,u).next(d=>{l=l.insert(u,d)}))).next(()=>this.populateOverlays(t,c,s)).next(()=>this.computeViews(t,l,c,nt())).next(u=>({batchId:a,changes:cT(u)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new Q(n)).next(i=>{let r=$o();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(t,n,i,r){const s=n.collectionGroup;let o=$o();return this.indexManager.getCollectionParents(t,s).next(a=>O.forEach(a,l=>{const c=function(h,d){return new kh(d,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(t,c,i,r).next(u=>{u.forEach((h,d)=>{o=o.insert(h,d)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(t,n,i,r){let s;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,i.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,i,s,r))).next(o=>{s.forEach((l,c)=>{const u=c.getKey();o.get(u)===null&&(o=o.insert(u,Se.newInvalidDocument(u)))});let a=$o();return o.forEach((l,c)=>{const u=s.get(l);u!==void 0&&ca(u.mutation,c,Ye.empty(),ne.now()),Ah(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PV{constructor(t){this.serializer=t,this.ur=new Map,this.cr=new Map}getBundleMetadata(t,n){return O.resolve(this.ur.get(n))}saveBundleMetadata(t,n){return this.ur.set(n.id,function(r){return{id:r.id,version:r.version,createTime:Un(r.createTime)}}(n)),O.resolve()}getNamedQuery(t,n){return O.resolve(this.cr.get(n))}saveNamedQuery(t,n){return this.cr.set(n.name,function(r){return{name:r.name,query:TV(r.bundledQuery),readTime:Un(r.readTime)}}(n)),O.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RV{constructor(){this.overlays=new Ft(Q.comparator),this.lr=new Map}getOverlay(t,n){return O.resolve(this.overlays.get(n))}getOverlays(t,n){const i=Mr();return O.forEach(n,r=>this.getOverlay(t,r).next(s=>{s!==null&&i.set(r,s)})).next(()=>i)}saveOverlays(t,n,i){return i.forEach((r,s)=>{this.lt(t,n,s)}),O.resolve()}removeOverlaysForBatchId(t,n,i){const r=this.lr.get(i);return r!==void 0&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.lr.delete(i)),O.resolve()}getOverlaysForCollection(t,n,i){const r=Mr(),s=n.length+1,o=new Q(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>i&&r.set(l.getKey(),l)}return O.resolve(r)}getOverlaysForCollectionGroup(t,n,i,r){let s=new Ft((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>i){let u=s.get(c.largestBatchId);u===null&&(u=Mr(),s=s.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=Mr(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=r)););return O.resolve(a)}lt(t,n,i){const r=this.overlays.get(i.key);if(r!==null){const o=this.lr.get(r.largestBatchId).delete(i.key);this.lr.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(i.key,new tV(n,i));let s=this.lr.get(n);s===void 0&&(s=nt(),this.lr.set(n,s)),this.lr.set(n,s.add(i.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm{constructor(){this.hr=new me(re.Pr),this.Ir=new me(re.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(t,n){const i=new re(t,n);this.hr=this.hr.add(i),this.Ir=this.Ir.add(i)}Er(t,n){t.forEach(i=>this.addReference(i,n))}removeReference(t,n){this.dr(new re(t,n))}Ar(t,n){t.forEach(i=>this.removeReference(i,n))}Rr(t){const n=new Q(new Rt([])),i=new re(n,t),r=new re(n,t+1),s=[];return this.Ir.forEachInRange([i,r],o=>{this.dr(o),s.push(o.key)}),s}Vr(){this.hr.forEach(t=>this.dr(t))}dr(t){this.hr=this.hr.delete(t),this.Ir=this.Ir.delete(t)}mr(t){const n=new Q(new Rt([])),i=new re(n,t),r=new re(n,t+1);let s=nt();return this.Ir.forEachInRange([i,r],o=>{s=s.add(o.key)}),s}containsKey(t){const n=new re(t,0),i=this.hr.firstAfterOrEqual(n);return i!==null&&t.isEqual(i.key)}}class re{constructor(t,n){this.key=t,this.gr=n}static Pr(t,n){return Q.comparator(t.key,n.key)||dt(t.gr,n.gr)}static Tr(t,n){return dt(t.gr,n.gr)||Q.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MV{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new me(re.Pr)}checkEmpty(t){return O.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,i,r){const s=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new ZL(s,n,i,r);this.mutationQueue.push(o);for(const a of r)this.yr=this.yr.add(new re(a.key,s)),this.indexManager.addToCollectionParentIndex(t,a.key.path.popLast());return O.resolve(o)}lookupMutationBatch(t,n){return O.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(t,n){const i=n+1,r=this.Sr(i),s=r<0?0:r;return O.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return O.resolve(this.mutationQueue.length===0?-1:this.pr-1)}getAllMutationBatches(t){return O.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const i=new re(n,0),r=new re(n,Number.POSITIVE_INFINITY),s=[];return this.yr.forEachInRange([i,r],o=>{const a=this.wr(o.gr);s.push(a)}),O.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,n){let i=new me(dt);return n.forEach(r=>{const s=new re(r,0),o=new re(r,Number.POSITIVE_INFINITY);this.yr.forEachInRange([s,o],a=>{i=i.add(a.gr)})}),O.resolve(this.br(i))}getAllMutationBatchesAffectingQuery(t,n){const i=n.path,r=i.length+1;let s=i;Q.isDocumentKey(s)||(s=s.child(""));const o=new re(new Q(s),0);let a=new me(dt);return this.yr.forEachWhile(l=>{const c=l.key.path;return!!i.isPrefixOf(c)&&(c.length===r&&(a=a.add(l.gr)),!0)},o),O.resolve(this.br(a))}br(t){const n=[];return t.forEach(i=>{const r=this.wr(i);r!==null&&n.push(r)}),n}removeMutationBatch(t,n){Ct(this.Dr(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.yr;return O.forEach(n.mutations,r=>{const s=new re(r.key,n.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.yr=i})}Fn(t){}containsKey(t,n){const i=new re(n,0),r=this.yr.firstAfterOrEqual(i);return O.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(t){return this.mutationQueue.length,O.resolve()}Dr(t,n){return this.Sr(t)}Sr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}wr(t){const n=this.Sr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DV{constructor(t){this.Cr=t,this.docs=function(){return new Ft(Q.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const i=n.key,r=this.docs.get(i),s=r?r.size:0,o=this.Cr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const i=this.docs.get(n);return O.resolve(i?i.document.mutableCopy():Se.newInvalidDocument(n))}getEntries(t,n){let i=yi();return n.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():Se.newInvalidDocument(r))}),O.resolve(i)}getDocumentsMatchingQuery(t,n,i,r){let s=yi();const o=n.path,a=new Q(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||_L(yL(u),i)<=0||(r.has(u.key)||Ah(n,u))&&(s=s.insert(u.key,u.mutableCopy()))}return O.resolve(s)}getAllFromCollectionGroup(t,n,i,r){Y()}vr(t,n){return O.forEach(this.docs,i=>n(i))}newChangeBuffer(t){return new OV(this)}getSize(t){return O.resolve(this.size)}}class OV extends IV{constructor(t){super(),this._r=t}applyChanges(t){const n=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?n.push(this._r.addEntry(t,r)):this._r.removeEntry(i)}),O.waitFor(n)}getFromCache(t,n){return this._r.getEntry(t,n)}getAllFromCache(t,n){return this._r.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NV{constructor(t){this.persistence=t,this.Fr=new co(n=>Mm(n),Dm),this.lastRemoteSnapshotVersion=J.min(),this.highestTargetId=0,this.Mr=0,this.Or=new Fm,this.targetCount=0,this.Nr=Xs.On()}forEachTarget(t,n){return this.Fr.forEach((i,r)=>n(r)),O.resolve()}getLastRemoteSnapshotVersion(t){return O.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return O.resolve(this.Mr)}allocateTargetId(t){return this.highestTargetId=this.Nr.next(),O.resolve(this.highestTargetId)}setTargetsMetadata(t,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.Mr&&(this.Mr=n),O.resolve()}kn(t){this.Fr.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.Nr=new Xs(n),this.highestTargetId=n),t.sequenceNumber>this.Mr&&(this.Mr=t.sequenceNumber)}addTargetData(t,n){return this.kn(n),this.targetCount+=1,O.resolve()}updateTargetData(t,n){return this.kn(n),O.resolve()}removeTargetData(t,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,O.resolve()}removeTargets(t,n,i){let r=0;const s=[];return this.Fr.forEach((o,a)=>{a.sequenceNumber<=n&&i.get(a.targetId)===null&&(this.Fr.delete(o),s.push(this.removeMatchingKeysForTargetId(t,a.targetId)),r++)}),O.waitFor(s).next(()=>r)}getTargetCount(t){return O.resolve(this.targetCount)}getTargetData(t,n){const i=this.Fr.get(n)||null;return O.resolve(i)}addMatchingKeys(t,n,i){return this.Or.Er(n,i),O.resolve()}removeMatchingKeys(t,n,i){this.Or.Ar(n,i);const r=this.persistence.referenceDelegate,s=[];return r&&n.forEach(o=>{s.push(r.markPotentiallyOrphaned(t,o))}),O.waitFor(s)}removeMatchingKeysForTargetId(t,n){return this.Or.Rr(n),O.resolve()}getMatchingKeysForTargetId(t,n){const i=this.Or.mr(n);return O.resolve(i)}containsKey(t,n){return O.resolve(this.Or.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LV{constructor(t,n){this.Br={},this.overlays={},this.Lr=new Am(0),this.kr=!1,this.kr=!0,this.referenceDelegate=t(this),this.qr=new NV(this),this.indexManager=new SV,this.remoteDocumentCache=function(r){return new DV(r)}(i=>this.referenceDelegate.Qr(i)),this.serializer=new bV(n),this.Kr=new PV(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new RV,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let i=this.Br[t.toKey()];return i||(i=new MV(n,this.referenceDelegate),this.Br[t.toKey()]=i),i}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(t,n,i){W("MemoryPersistence","Starting transaction:",t);const r=new VV(this.Lr.next());return this.referenceDelegate.$r(),i(r).next(s=>this.referenceDelegate.Ur(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Wr(t,n){return O.or(Object.values(this.Br).map(i=>()=>i.containsKey(t,n)))}}class VV extends wL{constructor(t){super(),this.currentSequenceNumber=t}}class jm{constructor(t){this.persistence=t,this.Gr=new Fm,this.zr=null}static jr(t){return new jm(t)}get Hr(){if(this.zr)return this.zr;throw Y()}addReference(t,n,i){return this.Gr.addReference(i,n),this.Hr.delete(i.toString()),O.resolve()}removeReference(t,n,i){return this.Gr.removeReference(i,n),this.Hr.add(i.toString()),O.resolve()}markPotentiallyOrphaned(t,n){return this.Hr.add(n.toString()),O.resolve()}removeTarget(t,n){this.Gr.Rr(n.targetId).forEach(r=>this.Hr.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,n.targetId).next(r=>{r.forEach(s=>this.Hr.add(s.toString()))}).next(()=>i.removeTargetData(t,n))}$r(){this.zr=new Set}Ur(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return O.forEach(this.Hr,i=>{const r=Q.fromPath(i);return this.Jr(t,r).next(s=>{s||n.removeEntry(r,J.min())})}).next(()=>(this.zr=null,n.apply(t)))}updateLimboDocument(t,n){return this.Jr(t,n).next(i=>{i?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(t){return 0}Jr(t,n){return O.or([()=>O.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Wr(t,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zm{constructor(t,n,i,r){this.targetId=t,this.fromCache=n,this.ki=i,this.qi=r}static Qi(t,n){let i=nt(),r=nt();for(const s of n.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new zm(t,n.fromCache,i,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jV{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(t,n){this.Gi=t,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(t,n,i,r){const s={result:null};return this.zi(t,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ji(t,n,r,i).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new FV;return this.Hi(t,n,o).next(a=>{if(s.result=a,this.$i)return this.Ji(t,n,o,a.size)})}).next(()=>s.result)}Ji(t,n,i,r){return i.documentReadCount<this.Ui?(Io()<=at.DEBUG&&W("QueryEngine","SDK will not create cache indexes for query:",cs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),O.resolve()):(Io()<=at.DEBUG&&W("QueryEngine","Query:",cs(n),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.Wi*r?(Io()<=at.DEBUG&&W("QueryEngine","The SDK decides to create cache indexes for query:",cs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,$n(n))):O.resolve())}zi(t,n){if(Iv(n))return O.resolve(null);let i=$n(n);return this.indexManager.getIndexType(t,i).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=Mp(n,null,"F"),i=$n(n)),this.indexManager.getDocumentsMatchingTarget(t,i).next(s=>{const o=nt(...s);return this.Gi.getDocuments(t,o).next(a=>this.indexManager.getMinOffset(t,i).next(l=>{const c=this.Yi(n,a);return this.Zi(n,c,o,l.readTime)?this.zi(t,Mp(n,null,"F")):this.Xi(t,c,n,l)}))})))}ji(t,n,i,r){return Iv(n)||r.isEqual(J.min())?O.resolve(null):this.Gi.getDocuments(t,i).next(s=>{const o=this.Yi(n,s);return this.Zi(n,o,i,r)?O.resolve(null):(Io()<=at.DEBUG&&W("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),cs(n)),this.Xi(t,o,n,mL(r,-1)).next(a=>a))})}Yi(t,n){let i=new me(aT(t));return n.forEach((r,s)=>{Ah(t,s)&&(i=i.add(s))}),i}Zi(t,n,i,r){if(t.limit===null)return!1;if(i.size!==n.size)return!0;const s=t.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Hi(t,n,i){return Io()<=at.DEBUG&&W("QueryEngine","Using full collection scan to execute query:",cs(n)),this.Gi.getDocumentsMatchingQuery(t,n,ir.min(),i)}Xi(t,n,i,r){return this.Gi.getDocumentsMatchingQuery(t,i,r).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zV{constructor(t,n,i,r){this.persistence=t,this.es=n,this.serializer=r,this.ts=new Ft(dt),this.ns=new co(s=>Mm(s),Dm),this.rs=new Map,this.ss=t.getRemoteDocumentCache(),this.qr=t.getTargetCache(),this.Kr=t.getBundleCache(),this.os(i)}os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new CV(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.ts))}}function $V(e,t,n,i){return new zV(e,t,n,i)}async function PT(e,t){const n=et(e);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let r;return n.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,n.os(t),n.mutationQueue.getAllMutationBatches(i))).next(s=>{const o=[],a=[];let l=nt();for(const c of r){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of s){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(i,l).next(c=>({_s:c,removedBatchIds:o,addedBatchIds:a}))})})}function BV(e,t){const n=et(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),s=n.ss.newChangeBuffer({trackRemovals:!0});return function(a,l,c,u){const h=c.batch,d=h.keys();let f=O.resolve();return d.forEach(m=>{f=f.next(()=>u.getEntry(l,m)).next(_=>{const v=c.docVersions.get(m);Ct(v!==null),_.version.compareTo(v)<0&&(h.applyToRemoteDocument(_,c),_.isValidDocument()&&(_.setReadTime(c.commitVersion),u.addEntry(_)))})}),f.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,i,t,s).next(()=>s.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(a){let l=nt();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(t))).next(()=>n.localDocuments.getDocuments(i,r))})}function RT(e){const t=et(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.qr.getLastRemoteSnapshotVersion(n))}function UV(e,t){const n=et(e),i=t.snapshotVersion;let r=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.ss.newChangeBuffer({trackRemovals:!0});r=n.ts;const a=[];t.targetChanges.forEach((u,h)=>{const d=r.get(h);if(!d)return;a.push(n.qr.removeMatchingKeys(s,u.removedDocuments,h).next(()=>n.qr.addMatchingKeys(s,u.addedDocuments,h)));let f=d.withSequenceNumber(s.currentSequenceNumber);t.targetMismatches.get(h)!==null?f=f.withResumeToken(Re.EMPTY_BYTE_STRING,J.min()).withLastLimboFreeSnapshotVersion(J.min()):u.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(u.resumeToken,i)),r=r.insert(h,f),function(_,v,p){return _.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=3e8?!0:p.addedDocuments.size+p.modifiedDocuments.size+p.removedDocuments.size>0}(d,f,u)&&a.push(n.qr.updateTargetData(s,f))});let l=yi(),c=nt();if(t.documentUpdates.forEach(u=>{t.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,u))}),a.push(WV(s,o,t.documentUpdates).next(u=>{l=u.us,c=u.cs})),!i.isEqual(J.min())){const u=n.qr.getLastRemoteSnapshotVersion(s).next(h=>n.qr.setTargetsMetadata(s,s.currentSequenceNumber,i));a.push(u)}return O.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(n.ts=r,s))}function WV(e,t,n){let i=nt(),r=nt();return n.forEach(s=>i=i.add(s)),t.getEntries(e,i).next(s=>{let o=yi();return n.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(r=r.add(a)),l.isNoDocument()&&l.version.isEqual(J.min())?(t.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(t.addEntry(l),o=o.insert(a,l)):W("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{us:o,cs:r}})}function HV(e,t){const n=et(e);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(t===void 0&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function qV(e,t){const n=et(e);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return n.qr.getTargetData(i,t).next(s=>s?(r=s,O.resolve(r)):n.qr.allocateTargetId(i).next(o=>(r=new Vi(t,o,"TargetPurposeListen",i.currentSequenceNumber),n.qr.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=n.ts.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ts=n.ts.insert(i.targetId,i),n.ns.set(t,i.targetId)),i})}async function Vp(e,t,n){const i=et(e),r=i.ts.get(t),s=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",s,o=>i.persistence.referenceDelegate.removeTarget(o,r))}catch(o){if(!wl(o))throw o;W("LocalStore",`Failed to update sequence numbers for target ${t}: ${o}`)}i.ts=i.ts.remove(t),i.ns.delete(r.target)}function Fv(e,t,n){const i=et(e);let r=J.min(),s=nt();return i.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,u){const h=et(l),d=h.ns.get(u);return d!==void 0?O.resolve(h.ts.get(d)):h.qr.getTargetData(c,u)}(i,o,$n(t)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,i.qr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>i.es.getDocumentsMatchingQuery(o,t,n?r:J.min(),n?s:nt())).next(a=>(KV(i,FL(t),a),{documents:a,ls:s})))}function KV(e,t,n){let i=e.rs.get(t)||J.min();n.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),e.rs.set(t,i)}class jv{constructor(){this.activeTargetIds=WL()}ds(t){this.activeTargetIds=this.activeTargetIds.add(t)}As(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Es(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class QV{constructor(){this.eo=new jv,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,i){}addLocalQueryTarget(t){return this.eo.ds(t),this.no[t]||"not-current"}updateQueryState(t,n,i){this.no[t]=n}removeLocalQueryTarget(t){this.eo.As(t)}isLocalQueryTarget(t){return this.eo.activeTargetIds.has(t)}clearQueryState(t){delete this.no[t]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(t){return this.eo.activeTargetIds.has(t)}start(){return this.eo=new jv,Promise.resolve()}handleUserChange(t,n,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GV{ro(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zv{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(t){this.ao.push(t)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){W("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.ao)t(0)}_o(){W("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.ao)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hc=null;function Bd(){return hc===null?hc=function(){return 268435456+Math.round(2147483648*Math.random())}():hc++,"0x"+hc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XV{constructor(t){this.co=t.co,this.lo=t.lo}ho(t){this.Po=t}Io(t){this.To=t}onMessage(t){this.Eo=t}close(){this.lo()}send(t){this.co(t)}Ao(){this.Po()}Ro(t){this.To(t)}Vo(t){this.Eo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xe="WebChannelConnection";class JV extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const i=n.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.mo=i+"://"+n.host,this.fo=`projects/${r}/databases/${s}`,this.po=this.databaseId.database==="(default)"?`project_id=${r}`:`project_id=${r}&database_id=${s}`}get yo(){return!1}wo(n,i,r,s,o){const a=Bd(),l=this.So(n,i);W("RestConnection",`Sending RPC '${n}' ${a}:`,l,r);const c={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(c,s,o),this.Do(n,l,c,r).then(u=>(W("RestConnection",`Received RPC '${n}' ${a}: `,u),u),u=>{throw Ks("RestConnection",`RPC '${n}' ${a} failed with error: `,u,"url: ",l,"request:",r),u})}Co(n,i,r,s,o,a){return this.wo(n,i,r,s,o)}bo(n,i,r){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+lo}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((s,o)=>n[o]=s),r&&r.headers.forEach((s,o)=>n[o]=s)}So(n,i){const r=YV[n];return`${this.mo}/v1/${i}:${r}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Do(t,n,i,r){const s=Bd();return new Promise((o,a)=>{const l=new sL;l.setWithCredentials(!0),l.listenOnce(nL.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case zd.NO_ERROR:const u=l.getResponseJson();W(xe,`XHR for RPC '${t}' ${s} received:`,JSON.stringify(u)),o(u);break;case zd.TIMEOUT:W(xe,`RPC '${t}' ${s} timed out`),a(new K(D.DEADLINE_EXCEEDED,"Request time out"));break;case zd.HTTP_ERROR:const h=l.getStatus();if(W(xe,`RPC '${t}' ${s} failed with status:`,h,"response text:",l.getResponseText()),h>0){let d=l.getResponseJson();Array.isArray(d)&&(d=d[0]);const f=d==null?void 0:d.error;if(f&&f.status&&f.message){const m=function(v){const p=v.toLowerCase().replace(/_/g,"-");return Object.values(D).indexOf(p)>=0?p:D.UNKNOWN}(f.status);a(new K(m,f.message))}else a(new K(D.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new K(D.UNAVAILABLE,"Connection failed."));break;default:Y()}}finally{W(xe,`RPC '${t}' ${s} completed.`)}});const c=JSON.stringify(r);W(xe,`RPC '${t}' ${s} sending request:`,r),l.send(n,"POST",c,i,15)})}vo(t,n,i){const r=Bd(),s=[this.mo,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=tL(),a=eL(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.xmlHttpFactory=new rL({})),this.bo(l.initMessageHeaders,n,i),l.encodeInitMessageHeaders=!0;const u=s.join("");W(xe,`Creating RPC '${t}' stream ${r}: ${u}`,l);const h=o.createWebChannel(u,l);let d=!1,f=!1;const m=new XV({co:v=>{f?W(xe,`Not sending because RPC '${t}' stream ${r} is closed:`,v):(d||(W(xe,`Opening RPC '${t}' stream ${r} transport.`),h.open(),d=!0),W(xe,`RPC '${t}' stream ${r} sending:`,v),h.send(v))},lo:()=>h.close()}),_=(v,p,g)=>{v.listen(p,y=>{try{g(y)}catch(E){setTimeout(()=>{throw E},0)}})};return _(h,lc.EventType.OPEN,()=>{f||W(xe,`RPC '${t}' stream ${r} transport opened.`)}),_(h,lc.EventType.CLOSE,()=>{f||(f=!0,W(xe,`RPC '${t}' stream ${r} transport closed`),m.Ro())}),_(h,lc.EventType.ERROR,v=>{f||(f=!0,Ks(xe,`RPC '${t}' stream ${r} transport errored:`,v),m.Ro(new K(D.UNAVAILABLE,"The operation could not be completed")))}),_(h,lc.EventType.MESSAGE,v=>{var p;if(!f){const g=v.data[0];Ct(!!g);const y=g,E=y.error||((p=y[0])===null||p===void 0?void 0:p.error);if(E){W(xe,`RPC '${t}' stream ${r} received error:`,E);const b=E.status;let I=function(x){const T=Kt[x];if(T!==void 0)return xT(T)}(b),k=E.message;I===void 0&&(I=D.INTERNAL,k="Unknown error status: "+b+" with message "+E.message),f=!0,m.Ro(new K(I,k)),h.close()}else W(xe,`RPC '${t}' stream ${r} received:`,g),m.Vo(g)}}),_(a,iL.STAT_EVENT,v=>{v.stat===yv.PROXY?W(xe,`RPC '${t}' stream ${r} detected buffering proxy`):v.stat===yv.NOPROXY&&W(xe,`RPC '${t}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{m.Ao()},0),m}}function Ud(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mh(e){return new cV(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MT{constructor(t,n,i=1e3,r=1.5,s=6e4){this.si=t,this.timerId=n,this.Fo=i,this.Mo=r,this.xo=s,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(t){this.cancel();const n=Math.floor(this.Oo+this.qo()),i=Math.max(0,Date.now()-this.Bo),r=Math.max(0,n-i);r>0&&W("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Oo} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,r,()=>(this.Bo=Date.now(),t())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){this.No!==null&&(this.No.skipDelay(),this.No=null)}cancel(){this.No!==null&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DT{constructor(t,n,i,r,s,o,a,l){this.si=t,this.Ko=i,this.$o=r,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new MT(t,n)}jo(){return this.state===1||this.state===5||this.Ho()}Ho(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Jo()}async stop(){this.jo()&&await this.close(0)}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&this.Wo===null&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(t){this.t_(),this.stream.send(t)}async Xo(){if(this.Ho())return this.close(0)}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}async close(t,n){this.t_(),this.n_(),this.zo.cancel(),this.Uo++,t!==4?this.zo.reset():n&&n.code===D.RESOURCE_EXHAUSTED?(mi(n.toString()),mi("Using maximum backoff delay to prevent overloading the backend."),this.zo.Lo()):n&&n.code===D.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.r_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Io(n)}r_(){}auth(){this.state=1;const t=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Uo===n&&this.s_(i,r)},i=>{t(()=>{const r=new K(D.UNKNOWN,"Fetching auth token failed: "+i.message);return this.o_(r)})})}s_(t,n){const i=this.i_(this.Uo);this.stream=this.__(t,n),this.stream.ho(()=>{i(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(r=>{i(()=>this.o_(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Jo(){this.state=5,this.zo.ko(async()=>{this.state=0,this.start()})}o_(t){return W("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}i_(t){return n=>{this.si.enqueueAndForget(()=>this.Uo===t?n():(W("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ZV extends DT{constructor(t,n,i,r,s,o){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,r,o),this.serializer=s}__(t,n){return this.connection.vo("Listen",t,n)}onMessage(t){this.zo.reset();const n=dV(this.serializer,t),i=function(s){if(!("targetChange"in s))return J.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?J.min():o.readTime?Un(o.readTime):J.min()}(t);return this.listener.a_(n,i)}u_(t){const n={};n.database=Lp(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=Rp(l)?{documents:gV(s,l)}:{query:mV(s,l)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=TT(s,o.resumeToken);const c=Dp(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(J.min())>0){a.readTime=Mu(s,o.snapshotVersion.toTimestamp());const c=Dp(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,t);const i=_V(this.serializer,t);i&&(n.labels=i),this.e_(n)}c_(t){const n={};n.database=Lp(this.serializer),n.removeTarget=t,this.e_(n)}}class tF extends DT{constructor(t,n,i,r,s,o){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,r,o),this.serializer=s,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(t,n){return this.connection.vo("Write",t,n)}onMessage(t){if(Ct(!!t.streamToken),this.lastStreamToken=t.streamToken,this.l_){this.zo.reset();const n=pV(t.writeResults,t.commitTime),i=Un(t.commitTime);return this.listener.I_(i,n)}return Ct(!t.writeResults||t.writeResults.length===0),this.l_=!0,this.listener.T_()}E_(){const t={};t.database=Lp(this.serializer),this.e_(t)}P_(t){const n={streamToken:this.lastStreamToken,writes:t.map(i=>fV(this.serializer,i))};this.e_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eF extends class{}{constructor(t,n,i,r){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=i,this.serializer=r,this.d_=!1}A_(){if(this.d_)throw new K(D.FAILED_PRECONDITION,"The client has already been terminated.")}wo(t,n,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,s])=>this.connection.wo(t,n,i,r,s)).catch(r=>{throw r.name==="FirebaseError"?(r.code===D.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new K(D.UNKNOWN,r.toString())})}Co(t,n,i,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(t,n,i,s,o,r)).catch(s=>{throw s.name==="FirebaseError"?(s.code===D.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new K(D.UNKNOWN,s.toString())})}terminate(){this.d_=!0}}class nF{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){this.V_===0&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(t){this.state==="Online"?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.p_("Offline")))}set(t){this.S_(),this.V_=0,t==="Online"&&(this.f_=!1),this.p_(t)}p_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}y_(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(mi(n),this.f_=!1):W("OnlineStateTracker",n)}S_(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iF{constructor(t,n,i,r,s){this.localStore=t,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=s,this.F_.ro(o=>{i.enqueueAndForget(async()=>{is(this)&&(W("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=et(l);c.C_.add(4),await bl(c),c.M_.set("Unknown"),c.C_.delete(4),await Dh(c)}(this))})}),this.M_=new nF(i,r)}}async function Dh(e){if(is(e))for(const t of e.v_)await t(!0)}async function bl(e){for(const t of e.v_)await t(!1)}function OT(e,t){const n=et(e);n.D_.has(t.targetId)||(n.D_.set(t.targetId,t),Um(n)?Bm(n):uo(n).Ho()&&$m(n,t))}function NT(e,t){const n=et(e),i=uo(n);n.D_.delete(t),i.Ho()&&LT(n,t),n.D_.size===0&&(i.Ho()?i.Zo():is(n)&&n.M_.set("Unknown"))}function $m(e,t){if(e.x_.Oe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(J.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}uo(e).u_(t)}function LT(e,t){e.x_.Oe(t),uo(e).c_(t)}function Bm(e){e.x_=new sV({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),_t:t=>e.D_.get(t)||null,nt:()=>e.datastore.serializer.databaseId}),uo(e).start(),e.M_.g_()}function Um(e){return is(e)&&!uo(e).jo()&&e.D_.size>0}function is(e){return et(e).C_.size===0}function VT(e){e.x_=void 0}async function rF(e){e.D_.forEach((t,n)=>{$m(e,t)})}async function sF(e,t){VT(e),Um(e)?(e.M_.w_(t),Bm(e)):e.M_.set("Unknown")}async function oF(e,t,n){if(e.M_.set("Online"),t instanceof bT&&t.state===2&&t.cause)try{await async function(r,s){const o=s.cause;for(const a of s.targetIds)r.D_.has(a)&&(await r.remoteSyncer.rejectListen(a,o),r.D_.delete(a),r.x_.removeTarget(a))}(e,t)}catch(i){W("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),await Du(e,i)}else if(t instanceof Nc?e.x_.$e(t):t instanceof ET?e.x_.Je(t):e.x_.Ge(t),!n.isEqual(J.min()))try{const i=await RT(e.localStore);n.compareTo(i)>=0&&await function(s,o){const a=s.x_.it(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=s.D_.get(c);u&&s.D_.set(c,u.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const u=s.D_.get(l);if(!u)return;s.D_.set(l,u.withResumeToken(Re.EMPTY_BYTE_STRING,u.snapshotVersion)),LT(s,l);const h=new Vi(u.target,l,c,u.sequenceNumber);$m(s,h)}),s.remoteSyncer.applyRemoteEvent(a)}(e,n)}catch(i){W("RemoteStore","Failed to raise snapshot:",i),await Du(e,i)}}async function Du(e,t,n){if(!wl(t))throw t;e.C_.add(1),await bl(e),e.M_.set("Offline"),n||(n=()=>RT(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{W("RemoteStore","Retrying IndexedDB access"),await n(),e.C_.delete(1),await Dh(e)})}function FT(e,t){return t().catch(n=>Du(e,n,t))}async function Oh(e){const t=et(e),n=sr(t);let i=t.b_.length>0?t.b_[t.b_.length-1].batchId:-1;for(;aF(t);)try{const r=await HV(t.localStore,i);if(r===null){t.b_.length===0&&n.Zo();break}i=r.batchId,lF(t,r)}catch(r){await Du(t,r)}jT(t)&&zT(t)}function aF(e){return is(e)&&e.b_.length<10}function lF(e,t){e.b_.push(t);const n=sr(e);n.Ho()&&n.h_&&n.P_(t.mutations)}function jT(e){return is(e)&&!sr(e).jo()&&e.b_.length>0}function zT(e){sr(e).start()}async function cF(e){sr(e).E_()}async function uF(e){const t=sr(e);for(const n of e.b_)t.P_(n.mutations)}async function hF(e,t,n){const i=e.b_.shift(),r=Nm.from(i,t,n);await FT(e,()=>e.remoteSyncer.applySuccessfulWrite(r)),await Oh(e)}async function dF(e,t){t&&sr(e).h_&&await async function(i,r){if(function(o){return nV(o)&&o!==D.ABORTED}(r.code)){const s=i.b_.shift();sr(i).Yo(),await FT(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,r)),await Oh(i)}}(e,t),jT(e)&&zT(e)}async function $v(e,t){const n=et(e);n.asyncQueue.verifyOperationInProgress(),W("RemoteStore","RemoteStore received new credentials");const i=is(n);n.C_.add(3),await bl(n),i&&n.M_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.C_.delete(3),await Dh(n)}async function fF(e,t){const n=et(e);t?(n.C_.delete(2),await Dh(n)):t||(n.C_.add(2),await bl(n),n.M_.set("Unknown"))}function uo(e){return e.O_||(e.O_=function(n,i,r){const s=et(n);return s.A_(),new ZV(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(e.datastore,e.asyncQueue,{ho:rF.bind(null,e),Io:sF.bind(null,e),a_:oF.bind(null,e)}),e.v_.push(async t=>{t?(e.O_.Yo(),Um(e)?Bm(e):e.M_.set("Unknown")):(await e.O_.stop(),VT(e))})),e.O_}function sr(e){return e.N_||(e.N_=function(n,i,r){const s=et(n);return s.A_(),new tF(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(e.datastore,e.asyncQueue,{ho:cF.bind(null,e),Io:dF.bind(null,e),T_:uF.bind(null,e),I_:hF.bind(null,e)}),e.v_.push(async t=>{t?(e.N_.Yo(),await Oh(e)):(await e.N_.stop(),e.b_.length>0&&(W("RemoteStore",`Stopping write stream with ${e.b_.length} pending writes`),e.b_=[]))})),e.N_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wm{constructor(t,n,i,r,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new li,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,i,r,s){const o=Date.now()+i,a=new Wm(t,n,o,r,s);return a.start(i),a}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new K(D.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Hm(e,t){if(mi("AsyncQueue",`${t}: ${e}`),wl(e))return new K(D.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(t){this.comparator=t?(n,i)=>t(n,i)||Q.comparator(n.key,i.key):(n,i)=>Q.comparator(n.key,i.key),this.keyedMap=$o(),this.sortedSet=new Ft(this.comparator)}static emptySet(t){return new Ns(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,i)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Ns)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;n.hasNext();){const r=n.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const i=new Ns;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bv{constructor(){this.B_=new Ft(Q.comparator)}track(t){const n=t.doc.key,i=this.B_.get(n);i?t.type!==0&&i.type===3?this.B_=this.B_.insert(n,t):t.type===3&&i.type!==1?this.B_=this.B_.insert(n,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.B_=this.B_.insert(n,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.B_=this.B_.insert(n,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.B_=this.B_.remove(n):t.type===1&&i.type===2?this.B_=this.B_.insert(n,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.B_=this.B_.insert(n,{type:2,doc:t.doc}):Y():this.B_=this.B_.insert(n,t)}L_(){const t=[];return this.B_.inorderTraversal((n,i)=>{t.push(i)}),t}}class Js{constructor(t,n,i,r,s,o,a,l,c){this.query=t,this.docs=n,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(t,n,i,r,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Js(t,n,Ns.emptySet(n),o,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Ih(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,i=t.docChanges;if(n.length!==i.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==i[r].type||!n[r].doc.isEqual(i[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pF{constructor(){this.k_=void 0,this.listeners=[]}}class gF{constructor(){this.queries=new co(t=>oT(t),Ih),this.onlineState="Unknown",this.q_=new Set}}async function $T(e,t){const n=et(e),i=t.query;let r=!1,s=n.queries.get(i);if(s||(r=!0,s=new pF),r)try{s.k_=await n.onListen(i)}catch(o){const a=Hm(o,`Initialization of query '${cs(t.query)}' failed`);return void t.onError(a)}n.queries.set(i,s),s.listeners.push(t),t.Q_(n.onlineState),s.k_&&t.K_(s.k_)&&qm(n)}async function BT(e,t){const n=et(e),i=t.query;let r=!1;const s=n.queries.get(i);if(s){const o=s.listeners.indexOf(t);o>=0&&(s.listeners.splice(o,1),r=s.listeners.length===0)}if(r)return n.queries.delete(i),n.onUnlisten(i)}function mF(e,t){const n=et(e);let i=!1;for(const r of t){const s=r.query,o=n.queries.get(s);if(o){for(const a of o.listeners)a.K_(r)&&(i=!0);o.k_=r}}i&&qm(n)}function yF(e,t,n){const i=et(e),r=i.queries.get(t);if(r)for(const s of r.listeners)s.onError(n);i.queries.delete(t)}function qm(e){e.q_.forEach(t=>{t.next()})}class UT{constructor(t,n,i){this.query=t,this.U_=n,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=i||{}}K_(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)r.type!==3&&i.push(r);t=new Js(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.W_?this.z_(t)&&(this.U_.next(t),n=!0):this.j_(t,this.onlineState)&&(this.H_(t),n=!0),this.G_=t,n}onError(t){this.U_.error(t)}Q_(t){this.onlineState=t;let n=!1;return this.G_&&!this.W_&&this.j_(this.G_,t)&&(this.H_(this.G_),n=!0),n}j_(t,n){if(!t.fromCache)return!0;const i=n!=="Offline";return(!this.options.J_||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}z_(t){if(t.docChanges.length>0)return!0;const n=this.G_&&this.G_.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}H_(t){t=Js.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.W_=!0,this.U_.next(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WT{constructor(t){this.key=t}}class HT{constructor(t){this.key=t}}class _F{constructor(t,n){this.query=t,this.ia=n,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=nt(),this.mutatedKeys=nt(),this._a=aT(t),this.aa=new Ns(this._a)}get ua(){return this.ia}ca(t,n){const i=n?n.la:new Bv,r=n?n.aa:this.aa;let s=n?n.mutatedKeys:this.mutatedKeys,o=r,a=!1;const l=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,c=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((u,h)=>{const d=r.get(u),f=Ah(this.query,h)?h:null,m=!!d&&this.mutatedKeys.has(d.key),_=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let v=!1;d&&f?d.data.isEqual(f.data)?m!==_&&(i.track({type:3,doc:f}),v=!0):this.ha(d,f)||(i.track({type:2,doc:f}),v=!0,(l&&this._a(f,l)>0||c&&this._a(f,c)<0)&&(a=!0)):!d&&f?(i.track({type:0,doc:f}),v=!0):d&&!f&&(i.track({type:1,doc:d}),v=!0,(l||c)&&(a=!0)),v&&(f?(o=o.add(f),s=_?s.add(u):s.delete(u)):(o=o.delete(u),s=s.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),s=s.delete(u.key),i.track({type:1,doc:u})}return{aa:o,la:i,Zi:a,mutatedKeys:s}}ha(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,i){const r=this.aa;this.aa=t.aa,this.mutatedKeys=t.mutatedKeys;const s=t.la.L_();s.sort((c,u)=>function(d,f){const m=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Y()}};return m(d)-m(f)}(c.type,u.type)||this._a(c.doc,u.doc)),this.Pa(i);const o=n?this.Ia():[],a=this.oa.size===0&&this.current?1:0,l=a!==this.sa;return this.sa=a,s.length!==0||l?{snapshot:new Js(this.query,t.aa,r,s,t.mutatedKeys,a===0,l,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ta:o}:{Ta:o}}Q_(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({aa:this.aa,la:new Bv,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(t){return!this.ia.has(t)&&!!this.aa.has(t)&&!this.aa.get(t).hasLocalMutations}Pa(t){t&&(t.addedDocuments.forEach(n=>this.ia=this.ia.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.ia=this.ia.delete(n)),this.current=t.current)}Ia(){if(!this.current)return[];const t=this.oa;this.oa=nt(),this.aa.forEach(i=>{this.Ea(i.key)&&(this.oa=this.oa.add(i.key))});const n=[];return t.forEach(i=>{this.oa.has(i)||n.push(new HT(i))}),this.oa.forEach(i=>{t.has(i)||n.push(new WT(i))}),n}da(t){this.ia=t.ls,this.oa=nt();const n=this.ca(t.documents);return this.applyChanges(n,!0)}Aa(){return Js.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,this.sa===0,this.hasCachedResults)}}class vF{constructor(t,n,i){this.query=t,this.targetId=n,this.view=i}}class wF{constructor(t){this.key=t,this.Ra=!1}}class xF{constructor(t,n,i,r,s,o){this.localStore=t,this.remoteStore=n,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Va={},this.ma=new co(a=>oT(a),Ih),this.fa=new Map,this.ga=new Set,this.pa=new Ft(Q.comparator),this.ya=new Map,this.wa=new Fm,this.Sa={},this.ba=new Map,this.Da=Xs.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return this.Ca===!0}}async function EF(e,t){const n=MF(e);let i,r;const s=n.ma.get(t);if(s)i=s.targetId,n.sharedClientState.addLocalQueryTarget(i),r=s.view.Aa();else{const o=await qV(n.localStore,$n(t)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);i=o.targetId,r=await bF(n,t,i,a==="current",o.resumeToken),n.isPrimaryClient&&OT(n.remoteStore,o)}return r}async function bF(e,t,n,i,r){e.va=(h,d,f)=>async function(_,v,p,g){let y=v.view.ca(p);y.Zi&&(y=await Fv(_.localStore,v.query,!1).then(({documents:I})=>v.view.ca(I,y)));const E=g&&g.targetChanges.get(v.targetId),b=v.view.applyChanges(y,_.isPrimaryClient,E);return Wv(_,v.targetId,b.Ta),b.snapshot}(e,h,d,f);const s=await Fv(e.localStore,t,!0),o=new _F(t,s.ls),a=o.ca(s.documents),l=El.createSynthesizedTargetChangeForCurrentChange(n,i&&e.onlineState!=="Offline",r),c=o.applyChanges(a,e.isPrimaryClient,l);Wv(e,n,c.Ta);const u=new vF(t,n,o);return e.ma.set(t,u),e.fa.has(n)?e.fa.get(n).push(t):e.fa.set(n,[t]),c.snapshot}async function TF(e,t){const n=et(e),i=n.ma.get(t),r=n.fa.get(i.targetId);if(r.length>1)return n.fa.set(i.targetId,r.filter(s=>!Ih(s,t))),void n.ma.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await Vp(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),NT(n.remoteStore,i.targetId),Fp(n,i.targetId)}).catch(vl)):(Fp(n,i.targetId),await Vp(n.localStore,i.targetId,!0))}async function SF(e,t,n){const i=DF(e);try{const r=await function(o,a){const l=et(o),c=ne.now(),u=a.reduce((f,m)=>f.add(m.key),nt());let h,d;return l.persistence.runTransaction("Locally write mutations","readwrite",f=>{let m=yi(),_=nt();return l.ss.getEntries(f,u).next(v=>{m=v,m.forEach((p,g)=>{g.isValidDocument()||(_=_.add(p))})}).next(()=>l.localDocuments.getOverlayedDocuments(f,m)).next(v=>{h=v;const p=[];for(const g of a){const y=XL(g,h.get(g.key).overlayedDocument);y!=null&&p.push(new gr(g.key,y,Zb(y.value.mapValue),Bn.exists(!0)))}return l.mutationQueue.addMutationBatch(f,c,p,a)}).next(v=>{d=v;const p=v.applyToLocalDocumentSet(h,_);return l.documentOverlayCache.saveOverlays(f,v.batchId,p)})}).then(()=>({batchId:d.batchId,changes:cT(h)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(o,a,l){let c=o.Sa[o.currentUser.toKey()];c||(c=new Ft(dt)),c=c.insert(a,l),o.Sa[o.currentUser.toKey()]=c}(i,r.batchId,n),await Tl(i,r.changes),await Oh(i.remoteStore)}catch(r){const s=Hm(r,"Failed to persist write");n.reject(s)}}async function qT(e,t){const n=et(e);try{const i=await UV(n.localStore,t);t.targetChanges.forEach((r,s)=>{const o=n.ya.get(s);o&&(Ct(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?o.Ra=!0:r.modifiedDocuments.size>0?Ct(o.Ra):r.removedDocuments.size>0&&(Ct(o.Ra),o.Ra=!1))}),await Tl(n,i,t)}catch(i){await vl(i)}}function Uv(e,t,n){const i=et(e);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const r=[];i.ma.forEach((s,o)=>{const a=o.view.Q_(t);a.snapshot&&r.push(a.snapshot)}),function(o,a){const l=et(o);l.onlineState=a;let c=!1;l.queries.forEach((u,h)=>{for(const d of h.listeners)d.Q_(a)&&(c=!0)}),c&&qm(l)}(i.eventManager,t),r.length&&i.Va.a_(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function kF(e,t,n){const i=et(e);i.sharedClientState.updateQueryState(t,"rejected",n);const r=i.ya.get(t),s=r&&r.key;if(s){let o=new Ft(Q.comparator);o=o.insert(s,Se.newNoDocument(s,J.min()));const a=nt().add(s),l=new Rh(J.min(),new Map,new Ft(dt),o,a);await qT(i,l),i.pa=i.pa.remove(s),i.ya.delete(t),Km(i)}else await Vp(i.localStore,t,!1).then(()=>Fp(i,t,n)).catch(vl)}async function IF(e,t){const n=et(e),i=t.batch.batchId;try{const r=await BV(n.localStore,t);QT(n,i,null),KT(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await Tl(n,r)}catch(r){await vl(r)}}async function AF(e,t,n){const i=et(e);try{const r=await function(o,a){const l=et(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,a).next(h=>(Ct(h!==null),u=h.keys(),l.mutationQueue.removeMutationBatch(c,h))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(i.localStore,t);QT(i,t,n),KT(i,t),i.sharedClientState.updateMutationState(t,"rejected",n),await Tl(i,r)}catch(r){await vl(r)}}function KT(e,t){(e.ba.get(t)||[]).forEach(n=>{n.resolve()}),e.ba.delete(t)}function QT(e,t,n){const i=et(e);let r=i.Sa[i.currentUser.toKey()];if(r){const s=r.get(t);s&&(n?s.reject(n):s.resolve(),r=r.remove(t)),i.Sa[i.currentUser.toKey()]=r}}function Fp(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const i of e.fa.get(t))e.ma.delete(i),n&&e.Va.Fa(i,n);e.fa.delete(t),e.isPrimaryClient&&e.wa.Rr(t).forEach(i=>{e.wa.containsKey(i)||GT(e,i)})}function GT(e,t){e.ga.delete(t.path.canonicalString());const n=e.pa.get(t);n!==null&&(NT(e.remoteStore,n),e.pa=e.pa.remove(t),e.ya.delete(n),Km(e))}function Wv(e,t,n){for(const i of n)i instanceof WT?(e.wa.addReference(i.key,t),CF(e,i)):i instanceof HT?(W("SyncEngine","Document no longer in limbo: "+i.key),e.wa.removeReference(i.key,t),e.wa.containsKey(i.key)||GT(e,i.key)):Y()}function CF(e,t){const n=t.key,i=n.path.canonicalString();e.pa.get(n)||e.ga.has(i)||(W("SyncEngine","New document in limbo: "+n),e.ga.add(i),Km(e))}function Km(e){for(;e.ga.size>0&&e.pa.size<e.maxConcurrentLimboResolutions;){const t=e.ga.values().next().value;e.ga.delete(t);const n=new Q(Rt.fromString(t)),i=e.Da.next();e.ya.set(i,new wF(n)),e.pa=e.pa.insert(n,i),OT(e.remoteStore,new Vi($n(Om(n.path)),i,"TargetPurposeLimboResolution",Am._e))}}async function Tl(e,t,n){const i=et(e),r=[],s=[],o=[];i.ma.isEmpty()||(i.ma.forEach((a,l)=>{o.push(i.va(l,t,n).then(c=>{if((c||n)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(l.targetId,c!=null&&c.fromCache?"not-current":"current"),c){r.push(c);const u=zm.Qi(l.targetId,c);s.push(u)}}))}),await Promise.all(o),i.Va.a_(r),await async function(l,c){const u=et(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>O.forEach(c,d=>O.forEach(d.ki,f=>u.persistence.referenceDelegate.addReference(h,d.targetId,f)).next(()=>O.forEach(d.qi,f=>u.persistence.referenceDelegate.removeReference(h,d.targetId,f)))))}catch(h){if(!wl(h))throw h;W("LocalStore","Failed to update sequence numbers: "+h)}for(const h of c){const d=h.targetId;if(!h.fromCache){const f=u.ts.get(d),m=f.snapshotVersion,_=f.withLastLimboFreeSnapshotVersion(m);u.ts=u.ts.insert(d,_)}}}(i.localStore,s))}async function PF(e,t){const n=et(e);if(!n.currentUser.isEqual(t)){W("SyncEngine","User change. New user:",t.toKey());const i=await PT(n.localStore,t);n.currentUser=t,function(s,o){s.ba.forEach(a=>{a.forEach(l=>{l.reject(new K(D.CANCELLED,o))})}),s.ba.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await Tl(n,i._s)}}function RF(e,t){const n=et(e),i=n.ya.get(t);if(i&&i.Ra)return nt().add(i.key);{let r=nt();const s=n.fa.get(t);if(!s)return r;for(const o of s){const a=n.ma.get(o);r=r.unionWith(a.view.ua)}return r}}function MF(e){const t=et(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=qT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=RF.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=kF.bind(null,t),t.Va.a_=mF.bind(null,t.eventManager),t.Va.Fa=yF.bind(null,t.eventManager),t}function DF(e){const t=et(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=IF.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=AF.bind(null,t),t}class Hv{constructor(){this.synchronizeTabs=!1}async initialize(t){this.serializer=Mh(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),await this.persistence.start(),this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore)}createGarbageCollectionScheduler(t,n){return null}createIndexBackfillerScheduler(t,n){return null}createLocalStore(t){return $V(this.persistence,new jV,t.initialUser,this.serializer)}createPersistence(t){return new LV(jm.jr,this.serializer)}createSharedClientState(t){return new QV}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class OF{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Uv(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=PF.bind(null,this.syncEngine),await fF(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new gF}()}createDatastore(t){const n=Mh(t.databaseInfo.databaseId),i=function(s){return new JV(s)}(t.databaseInfo);return function(s,o,a,l){return new eF(s,o,a,l)}(t.authCredentials,t.appCheckCredentials,i,n)}createRemoteStore(t){return function(i,r,s,o,a){return new iF(i,r,s,o,a)}(this.localStore,this.datastore,t.asyncQueue,n=>Uv(this.syncEngine,n,0),function(){return zv.D()?new zv:new GV}())}createSyncEngine(t,n){return function(r,s,o,a,l,c,u){const h=new xF(r,s,o,a,l,c);return u&&(h.Ca=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}terminate(){return async function(n){const i=et(n);W("RemoteStore","RemoteStore shutting down."),i.C_.add(5),await bl(i),i.F_.shutdown(),i.M_.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YT{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Oa(this.observer.next,t)}error(t){this.observer.error?this.Oa(this.observer.error,t):mi("Uncaught Error in snapshot listener:",t.toString())}Na(){this.muted=!0}Oa(t,n){this.muted||setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NF{constructor(t,n,i,r){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=r,this.user=be.UNAUTHENTICATED,this.clientId=Yb.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,async s=>{W("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(i,s=>(W("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new K(D.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const t=new li;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const i=Hm(n,"Failed to shutdown persistence");t.reject(i)}}),t.promise}}async function Wd(e,t){e.asyncQueue.verifyOperationInProgress(),W("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let i=n.initialUser;e.setCredentialChangeListener(async r=>{i.isEqual(r)||(await PT(t.localStore,r),i=r)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function qv(e,t){e.asyncQueue.verifyOperationInProgress();const n=await VF(e);W("FirestoreClient","Initializing OnlineComponentProvider");const i=await e.getConfiguration();await t.initialize(n,i),e.setCredentialChangeListener(r=>$v(t.remoteStore,r)),e.setAppCheckTokenChangeListener((r,s)=>$v(t.remoteStore,s)),e._onlineComponents=t}function LF(e){return e.name==="FirebaseError"?e.code===D.FAILED_PRECONDITION||e.code===D.UNIMPLEMENTED:!(typeof DOMException<"u"&&e instanceof DOMException)||e.code===22||e.code===20||e.code===11}async function VF(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){W("FirestoreClient","Using user provided OfflineComponentProvider");try{await Wd(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!LF(n))throw n;Ks("Error using user provided cache. Falling back to memory cache: "+n),await Wd(e,new Hv)}}else W("FirestoreClient","Using default OfflineComponentProvider"),await Wd(e,new Hv);return e._offlineComponents}async function XT(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(W("FirestoreClient","Using user provided OnlineComponentProvider"),await qv(e,e._uninitializedComponentsProvider._online)):(W("FirestoreClient","Using default OnlineComponentProvider"),await qv(e,new OF))),e._onlineComponents}function FF(e){return XT(e).then(t=>t.syncEngine)}async function JT(e){const t=await XT(e),n=t.eventManager;return n.onListen=EF.bind(null,t.syncEngine),n.onUnlisten=TF.bind(null,t.syncEngine),n}function jF(e,t,n={}){const i=new li;return e.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const u=new YT({next:d=>{o.enqueueAndForget(()=>BT(s,h));const f=d.docs.has(a);!f&&d.fromCache?c.reject(new K(D.UNAVAILABLE,"Failed to get document because the client is offline.")):f&&d.fromCache&&l&&l.source==="server"?c.reject(new K(D.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(d)},error:d=>c.reject(d)}),h=new UT(Om(a.path),u,{includeMetadataChanges:!0,J_:!0});return $T(s,h)}(await JT(e),e.asyncQueue,t,n,i)),i.promise}function zF(e,t,n={}){const i=new li;return e.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const u=new YT({next:d=>{o.enqueueAndForget(()=>BT(s,h)),d.fromCache&&l.source==="server"?c.reject(new K(D.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(d)},error:d=>c.reject(d)}),h=new UT(a,u,{includeMetadataChanges:!0,J_:!0});return $T(s,h)}(await JT(e),e.asyncQueue,t,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZT(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kv=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tS(e,t,n){if(!n)throw new K(D.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function $F(e,t,n,i){if(t===!0&&i===!0)throw new K(D.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function Qv(e){if(!Q.isDocumentKey(e))throw new K(D.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function Gv(e){if(Q.isDocumentKey(e))throw new K(D.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function Qm(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(i){return i.constructor?i.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":Y()}function or(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new K(D.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Qm(e);throw new K(D.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yv{constructor(t){var n,i;if(t.host===void 0){if(t.ssl!==void 0)throw new K(D.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new K(D.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}$F("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ZT((i=t.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new K(D.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new K(D.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new K(D.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Nh{constructor(t,n,i,r){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Yv({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new K(D.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(t){if(this._settingsFrozen)throw new K(D.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Yv(t),t.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new aL;switch(i.type){case"firstParty":return new hL(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new K(D.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=Kv.get(n);i&&(W("ComponentProvider","Removing Datastore"),Kv.delete(n),i.terminate())}(this),Promise.resolve()}}function BF(e,t,n,i={}){var r;const s=(e=or(e,Nh))._getSettings(),o=`${t}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Ks("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),i.mockUserToken){let a,l;if(typeof i.mockUserToken=="string")a=i.mockUserToken,l=be.MOCK_USER;else{a=FD(i.mockUserToken,(r=e._app)===null||r===void 0?void 0:r.options.projectId);const c=i.mockUserToken.sub||i.mockUserToken.user_id;if(!c)throw new K(D.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new be(c)}e._authCredentials=new lL(new Gb(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(t,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new Lh(this.firestore,t,this._query)}}class Je{constructor(t,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Yi(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Je(this.firestore,t,this._key)}}class Yi extends Lh{constructor(t,n,i){super(t,n,Om(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Je(this.firestore,null,new Q(t))}withConverter(t){return new Yi(this.firestore,t,this._path)}}function Zs(e,t,...n){if(e=Wn(e),tS("collection","path",t),e instanceof Nh){const i=Rt.fromString(t,...n);return Gv(i),new Yi(e,null,i)}{if(!(e instanceof Je||e instanceof Yi))throw new K(D.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(Rt.fromString(t,...n));return Gv(i),new Yi(e.firestore,null,i)}}function Ou(e,t,...n){if(e=Wn(e),arguments.length===1&&(t=Yb.newId()),tS("doc","path",t),e instanceof Nh){const i=Rt.fromString(t,...n);return Qv(i),new Je(e,null,new Q(i))}{if(!(e instanceof Je||e instanceof Yi))throw new K(D.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(Rt.fromString(t,...n));return Qv(i),new Je(e.firestore,e instanceof Yi?e.converter:null,new Q(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UF{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new MT(this,"async_queue_retry"),this.iu=()=>{const n=Ud();n&&W("AsyncQueue","Visibility state changed to "+n.visibilityState),this.zo.Qo()};const t=Ud();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.su(),this.ou(t)}enterRestrictedMode(t){if(!this.Za){this.Za=!0,this.nu=t||!1;const n=Ud();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.iu)}}enqueue(t){if(this.su(),this.Za)return new Promise(()=>{});const n=new li;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Ya.push(t),this._u()))}async _u(){if(this.Ya.length!==0){try{await this.Ya[0](),this.Ya.shift(),this.zo.reset()}catch(t){if(!wl(t))throw t;W("AsyncQueue","Operation failed with retryable error: "+t)}this.Ya.length>0&&this.zo.ko(()=>this._u())}}ou(t){const n=this.Ja.then(()=>(this.tu=!0,t().catch(i=>{this.eu=i,this.tu=!1;const r=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(i);throw mi("INTERNAL UNHANDLED ERROR: ",r),i}).then(i=>(this.tu=!1,i))));return this.Ja=n,n}enqueueAfterDelay(t,n,i){this.su(),this.ru.indexOf(t)>-1&&(n=0);const r=Wm.createAndSchedule(this,t,n,i,s=>this.au(s));return this.Xa.push(r),r}su(){this.eu&&Y()}verifyOperationInProgress(){}async uu(){let t;do t=this.Ja,await t;while(t!==this.Ja)}cu(t){for(const n of this.Xa)if(n.timerId===t)return!0;return!1}lu(t){return this.uu().then(()=>{this.Xa.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.Xa)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.uu()})}hu(t){this.ru.push(t)}au(t){const n=this.Xa.indexOf(t);this.Xa.splice(n,1)}}class Sl extends Nh{constructor(t,n,i,r){super(t,n,i,r),this.type="firestore",this._queue=function(){return new UF}(),this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||eS(this),this._firestoreClient.terminate()}}function WF(e,t){const n=typeof e=="object"?e:WE(),i=typeof e=="string"?e:t||"(default)",r=cl(n,"firestore").getImmediate({identifier:i});if(!r._initialized){const s=LD("firestore");s&&BF(r,...s)}return r}function Gm(e){return e._firestoreClient||eS(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function eS(e){var t,n,i;const r=e._freezeSettings(),s=function(a,l,c,u){return new bL(a,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,ZT(u.experimentalLongPollingOptions),u.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,r);e._firestoreClient=new NF(e._authCredentials,e._appCheckCredentials,e._queue,s),!((n=r.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.localCache.kind,_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(t){this._byteString=t}static fromBase64String(t){try{return new to(Re.fromBase64String(t))}catch(n){throw new K(D.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new to(Re.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new K(D.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new fe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ym{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new K(D.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new K(D.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return dt(this._lat,t._lat)||dt(this._long,t._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HF=/^__.*__$/;class qF{constructor(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}toMutation(t,n){return this.fieldMask!==null?new gr(t,this.data,this.fieldMask,n,this.fieldTransforms):new xl(t,this.data,n,this.fieldTransforms)}}class nS{constructor(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}toMutation(t,n){return new gr(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function iS(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Y()}}class Xm{constructor(t,n,i,r,s,o){this.settings=t,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=r,s===void 0&&this.Pu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(t){return new Xm(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(t){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(t),r=this.Tu({path:i,du:!1});return r.Au(t),r}Ru(t){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(t),r=this.Tu({path:i,du:!1});return r.Pu(),r}Vu(t){return this.Tu({path:void 0,du:!0})}mu(t){return Nu(t,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Pu(){if(this.path)for(let t=0;t<this.path.length;t++)this.Au(this.path.get(t))}Au(t){if(t.length===0)throw this.mu("Document fields must not be empty");if(iS(this.Iu)&&HF.test(t))throw this.mu('Document fields cannot begin and end with "__"')}}class KF{constructor(t,n,i){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=i||Mh(t)}pu(t,n,i,r=!1){return new Xm({Iu:t,methodName:n,gu:i,path:fe.emptyPath(),du:!1,fu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function rS(e){const t=e._freezeSettings(),n=Mh(e._databaseId);return new KF(e._databaseId,!!t.ignoreUndefinedProperties,n)}function QF(e,t,n,i,r,s={}){const o=e.pu(s.merge||s.mergeFields?2:0,t,n,r);Jm("Data must be an object, but it was:",o,i);const a=sS(i,o);let l,c;if(s.merge)l=new Ye(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const u=[];for(const h of s.mergeFields){const d=jp(t,h,n);if(!o.contains(d))throw new K(D.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);aS(u,d)||u.push(d)}l=new Ye(u),c=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,c=o.fieldTransforms;return new qF(new ze(a),l,c)}class jh extends Fh{_toFieldTransform(t){if(t.Iu!==2)throw t.Iu===1?t.mu(`${this._methodName}() can only appear at the top level of your update data`):t.mu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof jh}}class GF extends Fh{constructor(t,n){super(t),this.wu=n}_toFieldTransform(t){const n=new Za(t.serializer,fT(t.serializer,this.wu));return new KL(t.path,n)}isEqual(t){return this===t}}function YF(e,t,n,i){const r=e.pu(1,t,n);Jm("Data must be an object, but it was:",r,i);const s=[],o=ze.empty();ns(i,(l,c)=>{const u=Zm(t,l,n);c=Wn(c);const h=r.Ru(u);if(c instanceof jh)s.push(u);else{const d=zh(c,h);d!=null&&(s.push(u),o.set(u,d))}});const a=new Ye(s);return new nS(o,a,r.fieldTransforms)}function XF(e,t,n,i,r,s){const o=e.pu(1,t,n),a=[jp(t,i,n)],l=[r];if(s.length%2!=0)throw new K(D.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<s.length;d+=2)a.push(jp(t,s[d])),l.push(s[d+1]);const c=[],u=ze.empty();for(let d=a.length-1;d>=0;--d)if(!aS(c,a[d])){const f=a[d];let m=l[d];m=Wn(m);const _=o.Ru(f);if(m instanceof jh)c.push(f);else{const v=zh(m,_);v!=null&&(c.push(f),u.set(f,v))}}const h=new Ye(c);return new nS(u,h,o.fieldTransforms)}function zh(e,t){if(oS(e=Wn(e)))return Jm("Unsupported field value:",t,e),sS(e,t);if(e instanceof Fh)return function(i,r){if(!iS(r.Iu))throw r.mu(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.mu(`${i._methodName}() is not currently supported inside arrays`);const s=i._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.du&&t.Iu!==4)throw t.mu("Nested arrays are not supported");return function(i,r){const s=[];let o=0;for(const a of i){let l=zh(a,r.Vu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(e,t)}return function(i,r){if((i=Wn(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return fT(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const s=ne.fromDate(i);return{timestampValue:Mu(r.serializer,s)}}if(i instanceof ne){const s=new ne(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Mu(r.serializer,s)}}if(i instanceof Ym)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof to)return{bytesValue:TT(r.serializer,i._byteString)};if(i instanceof Je){const s=r.databaseId,o=i.firestore._databaseId;if(!o.isEqual(s))throw r.mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Vm(i.firestore._databaseId||r.databaseId,i._key.path)}}throw r.mu(`Unsupported field value: ${Qm(i)}`)}(e,t)}function sS(e,t){const n={};return Xb(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ns(e,(i,r)=>{const s=zh(r,t.Eu(i));s!=null&&(n[i]=s)}),{mapValue:{fields:n}}}function oS(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof ne||e instanceof Ym||e instanceof to||e instanceof Je||e instanceof Fh)}function Jm(e,t,n){if(!oS(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const i=Qm(n);throw i==="an object"?t.mu(e+" a custom object"):t.mu(e+" "+i)}}function jp(e,t,n){if((t=Wn(t))instanceof Vh)return t._internalPath;if(typeof t=="string")return Zm(e,t);throw Nu("Field path arguments must be of type string or ",e,!1,void 0,n)}const JF=new RegExp("[~\\*/\\[\\]]");function Zm(e,t,n){if(t.search(JF)>=0)throw Nu(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Vh(...t.split("."))._internalPath}catch{throw Nu(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Nu(e,t,n,i,r){const s=i&&!i.isEmpty(),o=r!==void 0;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${i}`),o&&(l+=` in document ${r}`),l+=")"),new K(D.INVALID_ARGUMENT,a+e+l)}function aS(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS{constructor(t,n,i,r,s){this._firestore=t,this._userDataWriter=n,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Je(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new ZF(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(cS("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class ZF extends lS{data(){return super.data()}}function cS(e,t){return typeof t=="string"?Zm(e,t):t instanceof Vh?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t4(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new K(D.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class e4{convertValue(t,n="none"){switch(Gr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Qt(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Qr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 10:return this.convertObject(t.mapValue,n);default:throw Y()}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const i={};return ns(t,(r,s)=>{i[r]=this.convertValue(s,n)}),i}convertGeoPoint(t){return new Ym(Qt(t.latitude),Qt(t.longitude))}convertArray(t,n){return(t.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(t,n){switch(n){case"previous":const i=Pm(t);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Qa(t));default:return null}}convertTimestamp(t){const n=rr(t);return new ne(n.seconds,n.nanos)}convertDocumentKey(t,n){const i=Rt.fromString(t);Ct(CT(i));const r=new Ga(i.get(1),i.get(3)),s=new Q(i.popFirst(5));return r.isEqual(n)||mi(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n4(e,t,n){let i;return i=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class uS extends lS{constructor(t,n,i,r,s,o){super(t,n,i,r,o),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Lc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const i=this._document.data.field(cS("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class Lc extends uS{data(t={}){return super.data(t)}}class i4{constructor(t,n,i,r){this._firestore=t,this._userDataWriter=n,this._snapshot=r,this.metadata=new Uo(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(i=>{t.call(n,new Lc(this._firestore,this._userDataWriter,i.key,i,new Uo(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new K(D.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(a=>{const l=new Lc(r._firestore,r._userDataWriter,a.doc.key,a.doc,new Uo(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new Lc(r._firestore,r._userDataWriter,a.doc.key,a.doc,new Uo(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);let c=-1,u=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),u=o.indexOf(a.doc.key)),{type:r4(a.type),doc:l,oldIndex:c,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function r4(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Y()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hS(e){e=or(e,Je);const t=or(e.firestore,Sl);return jF(Gm(t),e._key).then(n=>o4(t,e,n))}class dS extends e4{constructor(t){super(),this.firestore=t}convertBytes(t){return new to(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Je(this.firestore,null,n)}}function Lu(e){e=or(e,Lh);const t=or(e.firestore,Sl),n=Gm(t),i=new dS(t);return t4(e._query),zF(n,e._query).then(r=>new i4(t,i,e,r))}function s4(e,t,n,...i){e=or(e,Je);const r=or(e.firestore,Sl),s=rS(r);let o;return o=typeof(t=Wn(t))=="string"||t instanceof Vh?XF(s,"updateDoc",e._key,t,n,i):YF(s,"updateDoc",e._key,t),pS(r,[o.toMutation(e._key,Bn.exists(!0))])}function fS(e,t){const n=or(e.firestore,Sl),i=Ou(e),r=n4(e.converter,t);return pS(n,[QF(rS(e.firestore),"addDoc",i._key,r,e.converter!==null,{}).toMutation(i._key,Bn.exists(!1))]).then(()=>i)}function pS(e,t){return function(i,r){const s=new li;return i.asyncQueue.enqueueAndForget(async()=>SF(await FF(i),r,s)),s.promise}(Gm(e),t)}function o4(e,t,n){const i=n.docs.get(t._key),r=new dS(e);return new uS(e,r,t._key,i,new Uo(n.hasPendingWrites,n.fromCache),t.converter)}function Hd(e){return new GF("increment",e)}(function(t,n=!0){(function(r){lo=r})(WO),nr(new pi("firestore",(i,{instanceIdentifier:r,options:s})=>{const o=i.getProvider("app").getImmediate(),a=new Sl(new cL(i.getProvider("auth-internal")),new fL(i.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new K(D.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ga(c.options.projectId,u)}(o,r),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),zn(_v,"4.3.2",t),zn(_v,"4.3.2","esm2017")})();var a4="firebase",l4="10.5.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */zn(a4,l4,"app");const c4=(e,t)=>t.some(n=>e instanceof n);let Xv,Jv;function u4(){return Xv||(Xv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function h4(){return Jv||(Jv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const gS=new WeakMap,zp=new WeakMap,mS=new WeakMap,qd=new WeakMap,ty=new WeakMap;function d4(e){const t=new Promise((n,i)=>{const r=()=>{e.removeEventListener("success",s),e.removeEventListener("error",o)},s=()=>{n(Xi(e.result)),r()},o=()=>{i(e.error),r()};e.addEventListener("success",s),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&gS.set(n,e)}).catch(()=>{}),ty.set(t,e),t}function f4(e){if(zp.has(e))return;const t=new Promise((n,i)=>{const r=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",o),e.removeEventListener("abort",o)},s=()=>{n(),r()},o=()=>{i(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",s),e.addEventListener("error",o),e.addEventListener("abort",o)});zp.set(e,t)}let $p={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return zp.get(e);if(t==="objectStoreNames")return e.objectStoreNames||mS.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Xi(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function p4(e){$p=e($p)}function g4(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const i=e.call(Kd(this),t,...n);return mS.set(i,t.sort?t.sort():[t]),Xi(i)}:h4().includes(e)?function(...t){return e.apply(Kd(this),t),Xi(gS.get(this))}:function(...t){return Xi(e.apply(Kd(this),t))}}function m4(e){return typeof e=="function"?g4(e):(e instanceof IDBTransaction&&f4(e),c4(e,u4())?new Proxy(e,$p):e)}function Xi(e){if(e instanceof IDBRequest)return d4(e);if(qd.has(e))return qd.get(e);const t=m4(e);return t!==e&&(qd.set(e,t),ty.set(t,e)),t}const Kd=e=>ty.get(e);function y4(e,t,{blocked:n,upgrade:i,blocking:r,terminated:s}={}){const o=indexedDB.open(e,t),a=Xi(o);return i&&o.addEventListener("upgradeneeded",l=>{i(Xi(o.result),l.oldVersion,l.newVersion,Xi(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(l=>{s&&l.addEventListener("close",()=>s()),r&&l.addEventListener("versionchange",()=>r())}).catch(()=>{}),a}const _4=["get","getKey","getAll","getAllKeys","count"],v4=["put","add","delete","clear"],Qd=new Map;function Zv(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Qd.get(t))return Qd.get(t);const n=t.replace(/FromIndex$/,""),i=t!==n,r=v4.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||_4.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,r?"readwrite":"readonly");let c=l.store;return i&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),r&&l.done]))[0]};return Qd.set(t,s),s}p4(e=>({...e,get:(t,n,i)=>Zv(t,n)||e.get(t,n,i),has:(t,n)=>!!Zv(t,n)||e.has(t,n)}));const yS="@firebase/installations",ey="0.6.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _S=1e4,vS=`w:${ey}`,wS="FIS_v2",w4="https://firebaseinstallations.googleapis.com/v1",x4=60*60*1e3,E4="installations",b4="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T4={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Yr=new ch(E4,b4,T4);function xS(e){return e instanceof dr&&e.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ES({projectId:e}){return`${w4}/projects/${e}/installations`}function bS(e){return{token:e.token,requestStatus:2,expiresIn:k4(e.expiresIn),creationTime:Date.now()}}async function TS(e,t){const i=(await t.json()).error;return Yr.create("request-failed",{requestName:e,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})}function SS({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function S4(e,{refreshToken:t}){const n=SS(e);return n.append("Authorization",I4(t)),n}async function kS(e){const t=await e();return t.status>=500&&t.status<600?e():t}function k4(e){return Number(e.replace("s","000"))}function I4(e){return`${wS} ${e}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A4({appConfig:e,heartbeatServiceProvider:t},{fid:n}){const i=ES(e),r=SS(e),s=t.getImmediate({optional:!0});if(s){const c=await s.getHeartbeatsHeader();c&&r.append("x-firebase-client",c)}const o={fid:n,authVersion:wS,appId:e.appId,sdkVersion:vS},a={method:"POST",headers:r,body:JSON.stringify(o)},l=await kS(()=>fetch(i,a));if(l.ok){const c=await l.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:bS(c.authToken)}}else throw await TS("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IS(e){return new Promise(t=>{setTimeout(t,e)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C4(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P4=/^[cdef][\w-]{21}$/,Bp="";function R4(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const n=M4(e);return P4.test(n)?n:Bp}catch{return Bp}}function M4(e){return C4(e).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $h(e){return`${e.appName}!${e.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AS=new Map;function CS(e,t){const n=$h(e);PS(n,t),D4(n,t)}function PS(e,t){const n=AS.get(e);if(n)for(const i of n)i(t)}function D4(e,t){const n=O4();n&&n.postMessage({key:e,fid:t}),N4()}let Dr=null;function O4(){return!Dr&&"BroadcastChannel"in self&&(Dr=new BroadcastChannel("[Firebase] FID Change"),Dr.onmessage=e=>{PS(e.data.key,e.data.fid)}),Dr}function N4(){AS.size===0&&Dr&&(Dr.close(),Dr=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L4="firebase-installations-database",V4=1,Xr="firebase-installations-store";let Gd=null;function ny(){return Gd||(Gd=y4(L4,V4,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(Xr)}}})),Gd}async function Vu(e,t){const n=$h(e),r=(await ny()).transaction(Xr,"readwrite"),s=r.objectStore(Xr),o=await s.get(n);return await s.put(t,n),await r.done,(!o||o.fid!==t.fid)&&CS(e,t.fid),t}async function RS(e){const t=$h(e),i=(await ny()).transaction(Xr,"readwrite");await i.objectStore(Xr).delete(t),await i.done}async function Bh(e,t){const n=$h(e),r=(await ny()).transaction(Xr,"readwrite"),s=r.objectStore(Xr),o=await s.get(n),a=t(o);return a===void 0?await s.delete(n):await s.put(a,n),await r.done,a&&(!o||o.fid!==a.fid)&&CS(e,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iy(e){let t;const n=await Bh(e.appConfig,i=>{const r=F4(i),s=j4(e,r);return t=s.registrationPromise,s.installationEntry});return n.fid===Bp?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}function F4(e){const t=e||{fid:R4(),registrationStatus:0};return MS(t)}function j4(e,t){if(t.registrationStatus===0){if(!navigator.onLine){const r=Promise.reject(Yr.create("app-offline"));return{installationEntry:t,registrationPromise:r}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},i=z4(e,n);return{installationEntry:n,registrationPromise:i}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:$4(e)}:{installationEntry:t}}async function z4(e,t){try{const n=await A4(e,t);return Vu(e.appConfig,n)}catch(n){throw xS(n)&&n.customData.serverCode===409?await RS(e.appConfig):await Vu(e.appConfig,{fid:t.fid,registrationStatus:0}),n}}async function $4(e){let t=await tw(e.appConfig);for(;t.registrationStatus===1;)await IS(100),t=await tw(e.appConfig);if(t.registrationStatus===0){const{installationEntry:n,registrationPromise:i}=await iy(e);return i||n}return t}function tw(e){return Bh(e,t=>{if(!t)throw Yr.create("installation-not-found");return MS(t)})}function MS(e){return B4(e)?{fid:e.fid,registrationStatus:0}:e}function B4(e){return e.registrationStatus===1&&e.registrationTime+_S<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U4({appConfig:e,heartbeatServiceProvider:t},n){const i=W4(e,n),r=S4(e,n),s=t.getImmediate({optional:!0});if(s){const c=await s.getHeartbeatsHeader();c&&r.append("x-firebase-client",c)}const o={installation:{sdkVersion:vS,appId:e.appId}},a={method:"POST",headers:r,body:JSON.stringify(o)},l=await kS(()=>fetch(i,a));if(l.ok){const c=await l.json();return bS(c)}else throw await TS("Generate Auth Token",l)}function W4(e,{fid:t}){return`${ES(e)}/${t}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ry(e,t=!1){let n;const i=await Bh(e.appConfig,s=>{if(!DS(s))throw Yr.create("not-registered");const o=s.authToken;if(!t&&K4(o))return s;if(o.requestStatus===1)return n=H4(e,t),s;{if(!navigator.onLine)throw Yr.create("app-offline");const a=G4(s);return n=q4(e,a),a}});return n?await n:i.authToken}async function H4(e,t){let n=await ew(e.appConfig);for(;n.authToken.requestStatus===1;)await IS(100),n=await ew(e.appConfig);const i=n.authToken;return i.requestStatus===0?ry(e,t):i}function ew(e){return Bh(e,t=>{if(!DS(t))throw Yr.create("not-registered");const n=t.authToken;return Y4(n)?Object.assign(Object.assign({},t),{authToken:{requestStatus:0}}):t})}async function q4(e,t){try{const n=await U4(e,t),i=Object.assign(Object.assign({},t),{authToken:n});return await Vu(e.appConfig,i),n}catch(n){if(xS(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await RS(e.appConfig);else{const i=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await Vu(e.appConfig,i)}throw n}}function DS(e){return e!==void 0&&e.registrationStatus===2}function K4(e){return e.requestStatus===2&&!Q4(e)}function Q4(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+x4}function G4(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}function Y4(e){return e.requestStatus===1&&e.requestTime+_S<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X4(e){const t=e,{installationEntry:n,registrationPromise:i}=await iy(t);return i?i.catch(console.error):ry(t).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J4(e,t=!1){const n=e;return await Z4(n),(await ry(n,t)).token}async function Z4(e){const{registrationPromise:t}=await iy(e);t&&await t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t5(e){if(!e||!e.options)throw Yd("App Configuration");if(!e.name)throw Yd("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw Yd(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function Yd(e){return Yr.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OS="installations",e5="installations-internal",n5=e=>{const t=e.getProvider("app").getImmediate(),n=t5(t),i=cl(t,"heartbeat");return{app:t,appConfig:n,heartbeatServiceProvider:i,_delete:()=>Promise.resolve()}},i5=e=>{const t=e.getProvider("app").getImmediate(),n=cl(t,OS).getImmediate();return{getId:()=>X4(n),getToken:r=>J4(n,r)}};function r5(){nr(new pi(OS,n5,"PUBLIC")),nr(new pi(e5,i5,"PRIVATE"))}r5();zn(yS,ey);zn(yS,ey,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fu="analytics",s5="firebase_id",o5="origin",a5=60*1e3,l5="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",sy="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const He=new im("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c5={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Ze=new ch("analytics","Analytics",c5);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u5(e){if(!e.startsWith(sy)){const t=Ze.create("invalid-gtag-resource",{gtagURL:e});return He.warn(t.message),""}return e}function NS(e){return Promise.all(e.map(t=>t.catch(n=>n)))}function h5(e,t){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(e,t)),n}function d5(e,t){const n=h5("firebase-js-sdk-policy",{createScriptURL:u5}),i=document.createElement("script"),r=`${sy}?l=${e}&id=${t}`;i.src=n?n==null?void 0:n.createScriptURL(r):r,i.async=!0,document.head.appendChild(i)}function f5(e){let t=[];return Array.isArray(window[e])?t=window[e]:window[e]=t,t}async function p5(e,t,n,i,r,s){const o=i[r];try{if(o)await t[o];else{const l=(await NS(n)).find(c=>c.measurementId===r);l&&await t[l.appId]}}catch(a){He.error(a)}e("config",r,s)}async function g5(e,t,n,i,r){try{let s=[];if(r&&r.send_to){let o=r.send_to;Array.isArray(o)||(o=[o]);const a=await NS(n);for(const l of o){const c=a.find(h=>h.measurementId===l),u=c&&t[c.appId];if(u)s.push(u);else{s=[];break}}}s.length===0&&(s=Object.values(t)),await Promise.all(s),e("event",i,r||{})}catch(s){He.error(s)}}function m5(e,t,n,i){async function r(s,...o){try{if(s==="event"){const[a,l]=o;await g5(e,t,n,a,l)}else if(s==="config"){const[a,l]=o;await p5(e,t,n,i,a,l)}else if(s==="consent"){const[a]=o;e("consent","update",a)}else if(s==="get"){const[a,l,c]=o;e("get",a,l,c)}else if(s==="set"){const[a]=o;e("set",a)}else e(s,...o)}catch(a){He.error(a)}}return r}function y5(e,t,n,i,r){let s=function(...o){window[i].push(arguments)};return window[r]&&typeof window[r]=="function"&&(s=window[r]),window[r]=m5(s,e,t,n),{gtagCore:s,wrappedGtag:window[r]}}function _5(e){const t=window.document.getElementsByTagName("script");for(const n of Object.values(t))if(n.src&&n.src.includes(sy)&&n.src.includes(e))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v5=30,w5=1e3;class x5{constructor(t={},n=w5){this.throttleMetadata=t,this.intervalMillis=n}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,n){this.throttleMetadata[t]=n}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const LS=new x5;function E5(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function b5(e){var t;const{appId:n,apiKey:i}=e,r={method:"GET",headers:E5(i)},s=l5.replace("{app-id}",n),o=await fetch(s,r);if(o.status!==200&&o.status!==304){let a="";try{const l=await o.json();!((t=l.error)===null||t===void 0)&&t.message&&(a=l.error.message)}catch{}throw Ze.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}async function T5(e,t=LS,n){const{appId:i,apiKey:r,measurementId:s}=e.options;if(!i)throw Ze.create("no-app-id");if(!r){if(s)return{measurementId:s,appId:i};throw Ze.create("no-api-key")}const o=t.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new I5;return setTimeout(async()=>{a.abort()},n!==void 0?n:a5),VS({appId:i,apiKey:r,measurementId:s},o,a,t)}async function VS(e,{throttleEndTimeMillis:t,backoffCount:n},i,r=LS){var s;const{appId:o,measurementId:a}=e;try{await S5(i,t)}catch(l){if(a)return He.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:o,measurementId:a};throw l}try{const l=await b5(e);return r.deleteThrottleMetadata(o),l}catch(l){const c=l;if(!k5(c)){if(r.deleteThrottleMetadata(o),a)return He.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:o,measurementId:a};throw l}const u=Number((s=c==null?void 0:c.customData)===null||s===void 0?void 0:s.httpStatus)===503?Y0(n,r.intervalMillis,v5):Y0(n,r.intervalMillis),h={throttleEndTimeMillis:Date.now()+u,backoffCount:n+1};return r.setThrottleMetadata(o,h),He.debug(`Calling attemptFetch again in ${u} millis`),VS(e,h,i,r)}}function S5(e,t){return new Promise((n,i)=>{const r=Math.max(t-Date.now(),0),s=setTimeout(n,r);e.addEventListener(()=>{clearTimeout(s),i(Ze.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function k5(e){if(!(e instanceof dr)||!e.customData)return!1;const t=Number(e.customData.httpStatus);return t===429||t===500||t===503||t===504}class I5{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function A5(e,t,n,i,r){if(r&&r.global){e("event",n,i);return}else{const s=await t,o=Object.assign(Object.assign({},i),{send_to:s});e("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C5(){if(jE())try{await zE()}catch(e){return He.warn(Ze.create("indexeddb-unavailable",{errorInfo:e==null?void 0:e.toString()}).message),!1}else return He.warn(Ze.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function P5(e,t,n,i,r,s,o){var a;const l=T5(e);l.then(f=>{n[f.measurementId]=f.appId,e.options.measurementId&&f.measurementId!==e.options.measurementId&&He.warn(`The measurement ID in the local Firebase config (${e.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>He.error(f)),t.push(l);const c=C5().then(f=>{if(f)return i.getId()}),[u,h]=await Promise.all([l,c]);_5(s)||d5(s,u.measurementId),r("js",new Date);const d=(a=o==null?void 0:o.config)!==null&&a!==void 0?a:{};return d[o5]="firebase",d.update=!0,h!=null&&(d[s5]=h),r("config",u.measurementId,d),u.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R5{constructor(t){this.app=t}_delete(){return delete ua[this.app.options.appId],Promise.resolve()}}let ua={},nw=[];const iw={};let Xd="dataLayer",M5="gtag",rw,FS,sw=!1;function D5(){const e=[];if(jD()&&e.push("This is a browser extension environment."),zD()||e.push("Cookies are not available."),e.length>0){const t=e.map((i,r)=>`(${r+1}) ${i}`).join(" "),n=Ze.create("invalid-analytics-context",{errorInfo:t});He.warn(n.message)}}function O5(e,t,n){D5();const i=e.options.appId;if(!i)throw Ze.create("no-app-id");if(!e.options.apiKey)if(e.options.measurementId)He.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Ze.create("no-api-key");if(ua[i]!=null)throw Ze.create("already-exists",{id:i});if(!sw){f5(Xd);const{wrappedGtag:s,gtagCore:o}=y5(ua,nw,iw,Xd,M5);FS=s,rw=o,sw=!0}return ua[i]=P5(e,nw,iw,t,rw,Xd,n),new R5(e)}function N5(e=WE()){e=Wn(e);const t=cl(e,Fu);return t.isInitialized()?t.getImmediate():L5(e)}function L5(e,t={}){const n=cl(e,Fu);if(n.isInitialized()){const r=n.getImmediate();if(vu(t,n.getOptions()))return r;throw Ze.create("already-initialized")}return n.initialize({options:t})}function V5(e,t,n,i){e=Wn(e),A5(FS,ua[e.app.options.appId],t,n,i).catch(r=>He.error(r))}const ow="@firebase/analytics",aw="0.10.0";function F5(){nr(new pi(Fu,(t,{options:n})=>{const i=t.getProvider("app").getImmediate(),r=t.getProvider("installations-internal").getImmediate();return O5(i,r,n)},"PUBLIC")),nr(new pi("analytics-internal",e,"PRIVATE")),zn(ow,aw),zn(ow,aw,"esm2017");function e(t){try{const n=t.getProvider(Fu).getImmediate();return{logEvent:(i,r,s)=>V5(n,i,r,s)}}catch(n){throw Ze.create("interop-component-reg-failed",{reason:n})}}}F5();const j5={apiKey:"AIzaSyBtvq3rJoMqA-YQeQfxFJr7bCtAyMvW83M",authDomain:"makingsom-f188e.firebaseapp.com",projectId:"makingsom-f188e",storageBucket:"makingsom-f188e.appspot.com",messagingSenderId:"623361946875",appId:"1:623361946875:web:8f82b9baee197d115f6c5e",measurementId:"G-XLX3L6YTZ9"},jS=UE(j5),ci=WF(jS);N5(jS);const oy=()=>{const[e,t]=N.useState(!1),n=()=>{t(!e),console.log(e)};return C.jsx("div",{children:C.jsxs("div",{className:"container-fluid border border-1 border-primary  d-flex gap-5 align-items-center",children:[C.jsx("div",{className:"logo h2 text-primary",children:"Litend"}),C.jsx("div",{className:`nav-wrapper  d-md-block ${e?"nav-active":""}`,children:C.jsxs("ul",{className:"nav-ul-list d-flex gap-4 align-items-center",children:[C.jsx("li",{className:"p-2",children:C.jsxs(Rs,{to:"/",className:"btn btn-outline-secondary",children:[" ","Home"]})}),C.jsx("li",{className:"p-2",children:C.jsx(Rs,{to:"/make-pool",className:"btn btn-outline-secondary",children:"Make Pool"})}),C.jsx("li",{className:"p-2",children:C.jsx(Rs,{className:"btn btn-outline-secondary",children:"Servey"})})]})}),e?C.jsx("div",{className:"nav-toggler d-md-none d-block ms-auto z-3 btn btn-outline-warning",onClick:()=>n(),children:"Hide"}):C.jsx("div",{className:"nav-toggler d-md-none d-block ms-auto z-3 btn btn-outline-secondary",onClick:()=>n(),children:"show"})]})})},z5=()=>{const[e,t]=N.useState([]),[n,i]=N.useState([]),[r,s]=N.useState([]);return N.useEffect(()=>{let o=[],a=[];(async()=>{(await Lu(Zs(ci,"PoolQuestions"))).forEach(h=>{o.push(h.id),a.push({...h.data(),id:h.id})}),s(a),t(o),c()})();const c=async()=>{for(let u of o){const h=[];(await Lu(Zs(ci,u))).forEach(f=>{h.push(f.data())}),console.log(h),i(h)}}},[]),C.jsxs(C.Fragment,{children:[C.jsx(oy,{}),C.jsxs("div",{className:"container mx-auto mt-4 border border-secondary summary-container p-2",style:{maxWidth:"900px"},children:[C.jsx("p",{className:"text-center h3 ",children:"SUMMARY"}),C.jsxs("div",{className:"d-flex justify-content-around rounded mb-4 p-2",style:{backgroundColor:"white"},children:[C.jsx(T_,{title:"Total Pool",total:r.length}),C.jsx(T_,{title:"Total Survey",total:0})]}),C.jsxs("div",{className:"my-2",children:[C.jsx("p",{className:"m-0 border-bottom",children:"Your Question Pools"}),C.jsx("hr",{className:"mt-0"}),r.map((o,a)=>C.jsxs("div",{style:{backgroundColor:"white",maxWidth:"800px"},className:" p-3 d-flex align-items-center gap-4 mb-4 justify-content-between",children:[C.jsxs("div",{children:[C.jsx("p",{className:"h6 mb-2",children:o.title}),o.option.map((l,c)=>C.jsxs("div",{className:"d-flex align-items-center mb-3 w-100 justify-content-between  border-bottom",style:{maxWidth:500},children:[C.jsxs("p",{className:"m-0",children:[" ",l]}),C.jsx("p",{className:"h6 m-0 ",children:o[l]||0})]},c)),C.jsxs("div",{className:"d-flex  align-items-center mb-3 w-100 justify-content-between  border-bottom",style:{maxWidth:500},children:[C.jsx("p",{className:"m-0",children:"Total Submition"}),C.jsxs("p",{className:"m-0",children:[" ",o.count]})]},a),C.jsxs("div",{children:[C.jsx("p",{className:"mb-0",children:"Link"}),C.jsxs(Rs,{to:`/pool-question/${o.id}`,children:[`/pool-question/${o.id}`," "]},a)]}),C.jsx("hr",{}),C.jsx(Rs,{to:`/get-detail/${o.id}`,className:"btn btn-secondary",children:"GetDetail"})]}),C.jsx("div",{style:{maxWidth:300,backgroundColor:"white"},className:"p-2 rounded my-2 d-none d-md-block",children:C.jsx(kD,{data:{labels:Object.values(o.option),datasets:[{label:o.title,data:o.option.map(l=>o[l]||0)}]}})})]},a))]})]})]})};var zS={exports:{}};(function(e,t){(function(n,i){e.exports=i()})(lw,function(){return function(n){function i(s){if(r[s])return r[s].exports;var o=r[s]={i:s,l:!1,exports:{}};return n[s].call(o.exports,o,o.exports,i),o.l=!0,o.exports}var r={};return i.m=n,i.c=r,i.d=function(s,o,a){i.o(s,o)||Object.defineProperty(s,o,{configurable:!1,enumerable:!0,get:a})},i.n=function(s){var o=s&&s.__esModule?function(){return s.default}:function(){return s};return i.d(o,"a",o),o},i.o=function(s,o){return Object.prototype.hasOwnProperty.call(s,o)},i.p="",i(i.s=8)}([function(n,i,r){Object.defineProperty(i,"__esModule",{value:!0});var s="swal-button";i.CLASS_NAMES={MODAL:"swal-modal",OVERLAY:"swal-overlay",SHOW_MODAL:"swal-overlay--show-modal",MODAL_TITLE:"swal-title",MODAL_TEXT:"swal-text",ICON:"swal-icon",ICON_CUSTOM:"swal-icon--custom",CONTENT:"swal-content",FOOTER:"swal-footer",BUTTON_CONTAINER:"swal-button-container",BUTTON:s,CONFIRM_BUTTON:s+"--confirm",CANCEL_BUTTON:s+"--cancel",DANGER_BUTTON:s+"--danger",BUTTON_LOADING:s+"--loading",BUTTON_LOADER:s+"__loader"},i.default=i.CLASS_NAMES},function(n,i,r){Object.defineProperty(i,"__esModule",{value:!0}),i.getNode=function(s){var o="."+s;return document.querySelector(o)},i.stringToNode=function(s){var o=document.createElement("div");return o.innerHTML=s.trim(),o.firstChild},i.insertAfter=function(s,o){var a=o.nextSibling;o.parentNode.insertBefore(s,a)},i.removeNode=function(s){s.parentElement.removeChild(s)},i.throwErr=function(s){throw s=s.replace(/ +(?= )/g,""),"SweetAlert: "+(s=s.trim())},i.isPlainObject=function(s){if(Object.prototype.toString.call(s)!=="[object Object]")return!1;var o=Object.getPrototypeOf(s);return o===null||o===Object.prototype},i.ordinalSuffixOf=function(s){var o=s%10,a=s%100;return o===1&&a!==11?s+"st":o===2&&a!==12?s+"nd":o===3&&a!==13?s+"rd":s+"th"}},function(n,i,r){function s(d){for(var f in d)i.hasOwnProperty(f)||(i[f]=d[f])}Object.defineProperty(i,"__esModule",{value:!0}),s(r(25));var o=r(26);i.overlayMarkup=o.default,s(r(27)),s(r(28)),s(r(29));var a=r(0),l=a.default.MODAL_TITLE,c=a.default.MODAL_TEXT,u=a.default.ICON,h=a.default.FOOTER;i.iconMarkup=`
  <div class="`+u+'"></div>',i.titleMarkup=`
  <div class="`+l+`"></div>
`,i.textMarkup=`
  <div class="`+c+'"></div>',i.footerMarkup=`
  <div class="`+h+`"></div>
`},function(n,i,r){Object.defineProperty(i,"__esModule",{value:!0});var s=r(1);i.CONFIRM_KEY="confirm",i.CANCEL_KEY="cancel";var o={visible:!0,text:null,value:null,className:"",closeModal:!0},a=Object.assign({},o,{visible:!1,text:"Cancel",value:null}),l=Object.assign({},o,{text:"OK",value:!0});i.defaultButtonList={cancel:a,confirm:l};var c=function(f){switch(f){case i.CONFIRM_KEY:return l;case i.CANCEL_KEY:return a;default:var m=f.charAt(0).toUpperCase()+f.slice(1);return Object.assign({},o,{text:m,value:f})}},u=function(f,m){var _=c(f);return m===!0?Object.assign({},_,{visible:!0}):typeof m=="string"?Object.assign({},_,{visible:!0,text:m}):s.isPlainObject(m)?Object.assign({visible:!0},_,m):Object.assign({},_,{visible:!1})},h=function(f){for(var m={},_=0,v=Object.keys(f);_<v.length;_++){var p=v[_],g=f[p],y=u(p,g);m[p]=y}return m.cancel||(m.cancel=a),m},d=function(f){var m={};switch(f.length){case 1:m[i.CANCEL_KEY]=Object.assign({},a,{visible:!1});break;case 2:m[i.CANCEL_KEY]=u(i.CANCEL_KEY,f[0]),m[i.CONFIRM_KEY]=u(i.CONFIRM_KEY,f[1]);break;default:s.throwErr("Invalid number of 'buttons' in array ("+f.length+`).
      If you want more than 2 buttons, you need to use an object!`)}return m};i.getButtonListOpts=function(f){var m=i.defaultButtonList;return typeof f=="string"?m[i.CONFIRM_KEY]=u(i.CONFIRM_KEY,f):Array.isArray(f)?m=d(f):s.isPlainObject(f)?m=h(f):f===!0?m=d([!0,!0]):f===!1?m=d([!1,!1]):f===void 0&&(m=i.defaultButtonList),m}},function(n,i,r){Object.defineProperty(i,"__esModule",{value:!0});var s=r(1),o=r(2),a=r(0),l=a.default.MODAL,c=a.default.OVERLAY,u=r(30),h=r(31),d=r(32),f=r(33);i.injectElIntoModal=function(p){var g=s.getNode(l),y=s.stringToNode(p);return g.appendChild(y),y};var m=function(p){p.className=l,p.textContent=""},_=function(p,g){m(p);var y=g.className;y&&p.classList.add(y)};i.initModalContent=function(p){var g=s.getNode(l);_(g,p),u.default(p.icon),h.initTitle(p.title),h.initText(p.text),f.default(p.content),d.default(p.buttons,p.dangerMode)};var v=function(){var p=s.getNode(c),g=s.stringToNode(o.modalMarkup);p.appendChild(g)};i.default=v},function(n,i,r){Object.defineProperty(i,"__esModule",{value:!0});var s=r(3),o={isOpen:!1,promise:null,actions:{},timer:null},a=Object.assign({},o);i.resetState=function(){a=Object.assign({},o)},i.setActionValue=function(c){if(typeof c=="string")return l(s.CONFIRM_KEY,c);for(var u in c)l(u,c[u])};var l=function(c,u){a.actions[c]||(a.actions[c]={}),Object.assign(a.actions[c],{value:u})};i.setActionOptionsFor=function(c,u){var h=(u===void 0?{}:u).closeModal,d=h===void 0||h;Object.assign(a.actions[c],{closeModal:d})},i.default=a},function(n,i,r){Object.defineProperty(i,"__esModule",{value:!0});var s=r(1),o=r(3),a=r(0),l=a.default.OVERLAY,c=a.default.SHOW_MODAL,u=a.default.BUTTON,h=a.default.BUTTON_LOADING,d=r(5);i.openModal=function(){s.getNode(l).classList.add(c),d.default.isOpen=!0};var f=function(){s.getNode(l).classList.remove(c),d.default.isOpen=!1};i.onAction=function(m){m===void 0&&(m=o.CANCEL_KEY);var _=d.default.actions[m],v=_.value;if(_.closeModal===!1){var p=u+"--"+m;s.getNode(p).classList.add(h)}else f();d.default.promise.resolve(v)},i.getState=function(){var m=Object.assign({},d.default);return delete m.promise,delete m.timer,m},i.stopLoading=function(){for(var m=document.querySelectorAll("."+u),_=0;_<m.length;_++)m[_].classList.remove(h)}},function(n,i){var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch{typeof window=="object"&&(r=window)}n.exports=r},function(n,i,r){(function(s){n.exports=s.sweetAlert=r(9)}).call(i,r(7))},function(n,i,r){(function(s){n.exports=s.swal=r(10)}).call(i,r(7))},function(n,i,r){typeof window<"u"&&r(11),r(16);var s=r(23).default;n.exports=s},function(n,i,r){var s=r(12);typeof s=="string"&&(s=[[n.i,s,""]]);var o={insertAt:"top"};o.transform=void 0,r(14)(s,o),s.locals&&(n.exports=s.locals)},function(n,i,r){i=n.exports=r(13)(void 0),i.push([n.i,'.swal-icon--error{border-color:#f27474;-webkit-animation:animateErrorIcon .5s;animation:animateErrorIcon .5s}.swal-icon--error__x-mark{position:relative;display:block;-webkit-animation:animateXMark .5s;animation:animateXMark .5s}.swal-icon--error__line{position:absolute;height:5px;width:47px;background-color:#f27474;display:block;top:37px;border-radius:2px}.swal-icon--error__line--left{-webkit-transform:rotate(45deg);transform:rotate(45deg);left:17px}.swal-icon--error__line--right{-webkit-transform:rotate(-45deg);transform:rotate(-45deg);right:16px}@-webkit-keyframes animateErrorIcon{0%{-webkit-transform:rotateX(100deg);transform:rotateX(100deg);opacity:0}to{-webkit-transform:rotateX(0deg);transform:rotateX(0deg);opacity:1}}@keyframes animateErrorIcon{0%{-webkit-transform:rotateX(100deg);transform:rotateX(100deg);opacity:0}to{-webkit-transform:rotateX(0deg);transform:rotateX(0deg);opacity:1}}@-webkit-keyframes animateXMark{0%{-webkit-transform:scale(.4);transform:scale(.4);margin-top:26px;opacity:0}50%{-webkit-transform:scale(.4);transform:scale(.4);margin-top:26px;opacity:0}80%{-webkit-transform:scale(1.15);transform:scale(1.15);margin-top:-6px}to{-webkit-transform:scale(1);transform:scale(1);margin-top:0;opacity:1}}@keyframes animateXMark{0%{-webkit-transform:scale(.4);transform:scale(.4);margin-top:26px;opacity:0}50%{-webkit-transform:scale(.4);transform:scale(.4);margin-top:26px;opacity:0}80%{-webkit-transform:scale(1.15);transform:scale(1.15);margin-top:-6px}to{-webkit-transform:scale(1);transform:scale(1);margin-top:0;opacity:1}}.swal-icon--warning{border-color:#f8bb86;-webkit-animation:pulseWarning .75s infinite alternate;animation:pulseWarning .75s infinite alternate}.swal-icon--warning__body{width:5px;height:47px;top:10px;border-radius:2px;margin-left:-2px}.swal-icon--warning__body,.swal-icon--warning__dot{position:absolute;left:50%;background-color:#f8bb86}.swal-icon--warning__dot{width:7px;height:7px;border-radius:50%;margin-left:-4px;bottom:-11px}@-webkit-keyframes pulseWarning{0%{border-color:#f8d486}to{border-color:#f8bb86}}@keyframes pulseWarning{0%{border-color:#f8d486}to{border-color:#f8bb86}}.swal-icon--success{border-color:#a5dc86}.swal-icon--success:after,.swal-icon--success:before{content:"";border-radius:50%;position:absolute;width:60px;height:120px;background:#fff;-webkit-transform:rotate(45deg);transform:rotate(45deg)}.swal-icon--success:before{border-radius:120px 0 0 120px;top:-7px;left:-33px;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);-webkit-transform-origin:60px 60px;transform-origin:60px 60px}.swal-icon--success:after{border-radius:0 120px 120px 0;top:-11px;left:30px;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);-webkit-transform-origin:0 60px;transform-origin:0 60px;-webkit-animation:rotatePlaceholder 4.25s ease-in;animation:rotatePlaceholder 4.25s ease-in}.swal-icon--success__ring{width:80px;height:80px;border:4px solid hsla(98,55%,69%,.2);border-radius:50%;box-sizing:content-box;position:absolute;left:-4px;top:-4px;z-index:2}.swal-icon--success__hide-corners{width:5px;height:90px;background-color:#fff;padding:1px;position:absolute;left:28px;top:8px;z-index:1;-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}.swal-icon--success__line{height:5px;background-color:#a5dc86;display:block;border-radius:2px;position:absolute;z-index:2}.swal-icon--success__line--tip{width:25px;left:14px;top:46px;-webkit-transform:rotate(45deg);transform:rotate(45deg);-webkit-animation:animateSuccessTip .75s;animation:animateSuccessTip .75s}.swal-icon--success__line--long{width:47px;right:8px;top:38px;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);-webkit-animation:animateSuccessLong .75s;animation:animateSuccessLong .75s}@-webkit-keyframes rotatePlaceholder{0%{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}5%{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}12%{-webkit-transform:rotate(-405deg);transform:rotate(-405deg)}to{-webkit-transform:rotate(-405deg);transform:rotate(-405deg)}}@keyframes rotatePlaceholder{0%{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}5%{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}12%{-webkit-transform:rotate(-405deg);transform:rotate(-405deg)}to{-webkit-transform:rotate(-405deg);transform:rotate(-405deg)}}@-webkit-keyframes animateSuccessTip{0%{width:0;left:1px;top:19px}54%{width:0;left:1px;top:19px}70%{width:50px;left:-8px;top:37px}84%{width:17px;left:21px;top:48px}to{width:25px;left:14px;top:45px}}@keyframes animateSuccessTip{0%{width:0;left:1px;top:19px}54%{width:0;left:1px;top:19px}70%{width:50px;left:-8px;top:37px}84%{width:17px;left:21px;top:48px}to{width:25px;left:14px;top:45px}}@-webkit-keyframes animateSuccessLong{0%{width:0;right:46px;top:54px}65%{width:0;right:46px;top:54px}84%{width:55px;right:0;top:35px}to{width:47px;right:8px;top:38px}}@keyframes animateSuccessLong{0%{width:0;right:46px;top:54px}65%{width:0;right:46px;top:54px}84%{width:55px;right:0;top:35px}to{width:47px;right:8px;top:38px}}.swal-icon--info{border-color:#c9dae1}.swal-icon--info:before{width:5px;height:29px;bottom:17px;border-radius:2px;margin-left:-2px}.swal-icon--info:after,.swal-icon--info:before{content:"";position:absolute;left:50%;background-color:#c9dae1}.swal-icon--info:after{width:7px;height:7px;border-radius:50%;margin-left:-3px;top:19px}.swal-icon{width:80px;height:80px;border-width:4px;border-style:solid;border-radius:50%;padding:0;position:relative;box-sizing:content-box;margin:20px auto}.swal-icon:first-child{margin-top:32px}.swal-icon--custom{width:auto;height:auto;max-width:100%;border:none;border-radius:0}.swal-icon img{max-width:100%;max-height:100%}.swal-title{color:rgba(0,0,0,.65);font-weight:600;text-transform:none;position:relative;display:block;padding:13px 16px;font-size:27px;line-height:normal;text-align:center;margin-bottom:0}.swal-title:first-child{margin-top:26px}.swal-title:not(:first-child){padding-bottom:0}.swal-title:not(:last-child){margin-bottom:13px}.swal-text{font-size:16px;position:relative;float:none;line-height:normal;vertical-align:top;text-align:left;display:inline-block;margin:0;padding:0 10px;font-weight:400;color:rgba(0,0,0,.64);max-width:calc(100% - 20px);overflow-wrap:break-word;box-sizing:border-box}.swal-text:first-child{margin-top:45px}.swal-text:last-child{margin-bottom:45px}.swal-footer{text-align:right;padding-top:13px;margin-top:13px;padding:13px 16px;border-radius:inherit;border-top-left-radius:0;border-top-right-radius:0}.swal-button-container{margin:5px;display:inline-block;position:relative}.swal-button{background-color:#7cd1f9;color:#fff;border:none;box-shadow:none;border-radius:5px;font-weight:600;font-size:14px;padding:10px 24px;margin:0;cursor:pointer}.swal-button:not([disabled]):hover{background-color:#78cbf2}.swal-button:active{background-color:#70bce0}.swal-button:focus{outline:none;box-shadow:0 0 0 1px #fff,0 0 0 3px rgba(43,114,165,.29)}.swal-button[disabled]{opacity:.5;cursor:default}.swal-button::-moz-focus-inner{border:0}.swal-button--cancel{color:#555;background-color:#efefef}.swal-button--cancel:not([disabled]):hover{background-color:#e8e8e8}.swal-button--cancel:active{background-color:#d7d7d7}.swal-button--cancel:focus{box-shadow:0 0 0 1px #fff,0 0 0 3px rgba(116,136,150,.29)}.swal-button--danger{background-color:#e64942}.swal-button--danger:not([disabled]):hover{background-color:#df4740}.swal-button--danger:active{background-color:#cf423b}.swal-button--danger:focus{box-shadow:0 0 0 1px #fff,0 0 0 3px rgba(165,43,43,.29)}.swal-content{padding:0 20px;margin-top:20px;font-size:medium}.swal-content:last-child{margin-bottom:20px}.swal-content__input,.swal-content__textarea{-webkit-appearance:none;background-color:#fff;border:none;font-size:14px;display:block;box-sizing:border-box;width:100%;border:1px solid rgba(0,0,0,.14);padding:10px 13px;border-radius:2px;transition:border-color .2s}.swal-content__input:focus,.swal-content__textarea:focus{outline:none;border-color:#6db8ff}.swal-content__textarea{resize:vertical}.swal-button--loading{color:transparent}.swal-button--loading~.swal-button__loader{opacity:1}.swal-button__loader{position:absolute;height:auto;width:43px;z-index:2;left:50%;top:50%;-webkit-transform:translateX(-50%) translateY(-50%);transform:translateX(-50%) translateY(-50%);text-align:center;pointer-events:none;opacity:0}.swal-button__loader div{display:inline-block;float:none;vertical-align:baseline;width:9px;height:9px;padding:0;border:none;margin:2px;opacity:.4;border-radius:7px;background-color:hsla(0,0%,100%,.9);transition:background .2s;-webkit-animation:swal-loading-anim 1s infinite;animation:swal-loading-anim 1s infinite}.swal-button__loader div:nth-child(3n+2){-webkit-animation-delay:.15s;animation-delay:.15s}.swal-button__loader div:nth-child(3n+3){-webkit-animation-delay:.3s;animation-delay:.3s}@-webkit-keyframes swal-loading-anim{0%{opacity:.4}20%{opacity:.4}50%{opacity:1}to{opacity:.4}}@keyframes swal-loading-anim{0%{opacity:.4}20%{opacity:.4}50%{opacity:1}to{opacity:.4}}.swal-overlay{position:fixed;top:0;bottom:0;left:0;right:0;text-align:center;font-size:0;overflow-y:auto;background-color:rgba(0,0,0,.4);z-index:10000;pointer-events:none;opacity:0;transition:opacity .3s}.swal-overlay:before{content:" ";display:inline-block;vertical-align:middle;height:100%}.swal-overlay--show-modal{opacity:1;pointer-events:auto}.swal-overlay--show-modal .swal-modal{opacity:1;pointer-events:auto;box-sizing:border-box;-webkit-animation:showSweetAlert .3s;animation:showSweetAlert .3s;will-change:transform}.swal-modal{width:478px;opacity:0;pointer-events:none;background-color:#fff;text-align:center;border-radius:5px;position:static;margin:20px auto;display:inline-block;vertical-align:middle;-webkit-transform:scale(1);transform:scale(1);-webkit-transform-origin:50% 50%;transform-origin:50% 50%;z-index:10001;transition:opacity .2s,-webkit-transform .3s;transition:transform .3s,opacity .2s;transition:transform .3s,opacity .2s,-webkit-transform .3s}@media (max-width:500px){.swal-modal{width:calc(100% - 20px)}}@-webkit-keyframes showSweetAlert{0%{-webkit-transform:scale(1);transform:scale(1)}1%{-webkit-transform:scale(.5);transform:scale(.5)}45%{-webkit-transform:scale(1.05);transform:scale(1.05)}80%{-webkit-transform:scale(.95);transform:scale(.95)}to{-webkit-transform:scale(1);transform:scale(1)}}@keyframes showSweetAlert{0%{-webkit-transform:scale(1);transform:scale(1)}1%{-webkit-transform:scale(.5);transform:scale(.5)}45%{-webkit-transform:scale(1.05);transform:scale(1.05)}80%{-webkit-transform:scale(.95);transform:scale(.95)}to{-webkit-transform:scale(1);transform:scale(1)}}',""])},function(n,i){function r(o,a){var l=o[1]||"",c=o[3];if(!c)return l;if(a&&typeof btoa=="function"){var u=s(c);return[l].concat(c.sources.map(function(h){return"/*# sourceURL="+c.sourceRoot+h+" */"})).concat([u]).join(`
`)}return[l].join(`
`)}function s(o){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */"}n.exports=function(o){var a=[];return a.toString=function(){return this.map(function(l){var c=r(l,o);return l[2]?"@media "+l[2]+"{"+c+"}":c}).join("")},a.i=function(l,c){typeof l=="string"&&(l=[[null,l,""]]);for(var u={},h=0;h<this.length;h++){var d=this[h][0];typeof d=="number"&&(u[d]=!0)}for(h=0;h<l.length;h++){var f=l[h];typeof f[0]=="number"&&u[f[0]]||(c&&!f[2]?f[2]=c:c&&(f[2]="("+f[2]+") and ("+c+")"),a.push(f))}},a}},function(n,i,r){function s(w,x){for(var T=0;T<w.length;T++){var S=w[T],A=v[S.id];if(A){A.refs++;for(var R=0;R<A.parts.length;R++)A.parts[R](S.parts[R]);for(;R<S.parts.length;R++)A.parts.push(d(S.parts[R],x))}else{for(var $=[],R=0;R<S.parts.length;R++)$.push(d(S.parts[R],x));v[S.id]={id:S.id,refs:1,parts:$}}}}function o(w,x){for(var T=[],S={},A=0;A<w.length;A++){var R=w[A],$=x.base?R[0]+x.base:R[0],B=R[1],H=R[2],F=R[3],M={css:B,media:H,sourceMap:F};S[$]?S[$].parts.push(M):T.push(S[$]={id:$,parts:[M]})}return T}function a(w,x){var T=g(w.insertInto);if(!T)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var S=b[b.length-1];if(w.insertAt==="top")S?S.nextSibling?T.insertBefore(x,S.nextSibling):T.appendChild(x):T.insertBefore(x,T.firstChild),b.push(x);else{if(w.insertAt!=="bottom")throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");T.appendChild(x)}}function l(w){if(w.parentNode===null)return!1;w.parentNode.removeChild(w);var x=b.indexOf(w);x>=0&&b.splice(x,1)}function c(w){var x=document.createElement("style");return w.attrs.type="text/css",h(x,w.attrs),a(w,x),x}function u(w){var x=document.createElement("link");return w.attrs.type="text/css",w.attrs.rel="stylesheet",h(x,w.attrs),a(w,x),x}function h(w,x){Object.keys(x).forEach(function(T){w.setAttribute(T,x[T])})}function d(w,x){var T,S,A,R;if(x.transform&&w.css){if(!(R=x.transform(w.css)))return function(){};w.css=R}if(x.singleton){var $=E++;T=y||(y=c(x)),S=f.bind(null,T,$,!1),A=f.bind(null,T,$,!0)}else w.sourceMap&&typeof URL=="function"&&typeof URL.createObjectURL=="function"&&typeof URL.revokeObjectURL=="function"&&typeof Blob=="function"&&typeof btoa=="function"?(T=u(x),S=_.bind(null,T,x),A=function(){l(T),T.href&&URL.revokeObjectURL(T.href)}):(T=c(x),S=m.bind(null,T),A=function(){l(T)});return S(w),function(B){if(B){if(B.css===w.css&&B.media===w.media&&B.sourceMap===w.sourceMap)return;S(w=B)}else A()}}function f(w,x,T,S){var A=T?"":S.css;if(w.styleSheet)w.styleSheet.cssText=k(x,A);else{var R=document.createTextNode(A),$=w.childNodes;$[x]&&w.removeChild($[x]),$.length?w.insertBefore(R,$[x]):w.appendChild(R)}}function m(w,x){var T=x.css,S=x.media;if(S&&w.setAttribute("media",S),w.styleSheet)w.styleSheet.cssText=T;else{for(;w.firstChild;)w.removeChild(w.firstChild);w.appendChild(document.createTextNode(T))}}function _(w,x,T){var S=T.css,A=T.sourceMap,R=x.convertToAbsoluteUrls===void 0&&A;(x.convertToAbsoluteUrls||R)&&(S=I(S)),A&&(S+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify(A))))+" */");var $=new Blob([S],{type:"text/css"}),B=w.href;w.href=URL.createObjectURL($),B&&URL.revokeObjectURL(B)}var v={},p=function(w){var x;return function(){return x===void 0&&(x=w.apply(this,arguments)),x}}(function(){return window&&document&&document.all&&!window.atob}),g=function(w){var x={};return function(T){return x[T]===void 0&&(x[T]=w.call(this,T)),x[T]}}(function(w){return document.querySelector(w)}),y=null,E=0,b=[],I=r(15);n.exports=function(w,x){if(typeof DEBUG<"u"&&DEBUG&&typeof document!="object")throw new Error("The style-loader cannot be used in a non-browser environment");x=x||{},x.attrs=typeof x.attrs=="object"?x.attrs:{},x.singleton||(x.singleton=p()),x.insertInto||(x.insertInto="head"),x.insertAt||(x.insertAt="bottom");var T=o(w,x);return s(T,x),function(S){for(var A=[],R=0;R<T.length;R++){var $=T[R],B=v[$.id];B.refs--,A.push(B)}S&&s(o(S,x),x);for(var R=0;R<A.length;R++){var B=A[R];if(B.refs===0){for(var H=0;H<B.parts.length;H++)B.parts[H]();delete v[B.id]}}}};var k=function(){var w=[];return function(x,T){return w[x]=T,w.filter(Boolean).join(`
`)}}()},function(n,i){n.exports=function(r){var s=typeof window<"u"&&window.location;if(!s)throw new Error("fixUrls requires window.location");if(!r||typeof r!="string")return r;var o=s.protocol+"//"+s.host,a=o+s.pathname.replace(/\/[^\/]*$/,"/");return r.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(l,c){var u=c.trim().replace(/^"(.*)"$/,function(d,f){return f}).replace(/^'(.*)'$/,function(d,f){return f});if(/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(u))return l;var h;return h=u.indexOf("//")===0?u:u.indexOf("/")===0?o+u:a+u.replace(/^\.\//,""),"url("+JSON.stringify(h)+")"})}},function(n,i,r){var s=r(17);typeof window>"u"||window.Promise||(window.Promise=s),r(21),String.prototype.includes||(String.prototype.includes=function(o,a){return typeof a!="number"&&(a=0),!(a+o.length>this.length)&&this.indexOf(o,a)!==-1}),Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(o,a){if(this==null)throw new TypeError('"this" is null or not defined');var l=Object(this),c=l.length>>>0;if(c===0)return!1;for(var u=0|a,h=Math.max(u>=0?u:c-Math.abs(u),0);h<c;){if(function(d,f){return d===f||typeof d=="number"&&typeof f=="number"&&isNaN(d)&&isNaN(f)}(l[h],o))return!0;h++}return!1}}),typeof window<"u"&&function(o){o.forEach(function(a){a.hasOwnProperty("remove")||Object.defineProperty(a,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){this.parentNode.removeChild(this)}})})}([Element.prototype,CharacterData.prototype,DocumentType.prototype])},function(n,i,r){(function(s){(function(o){function a(){}function l(p,g){return function(){p.apply(g,arguments)}}function c(p){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");if(typeof p!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],_(p,this)}function u(p,g){for(;p._state===3;)p=p._value;if(p._state===0)return void p._deferreds.push(g);p._handled=!0,c._immediateFn(function(){var y=p._state===1?g.onFulfilled:g.onRejected;if(y===null)return void(p._state===1?h:d)(g.promise,p._value);var E;try{E=y(p._value)}catch(b){return void d(g.promise,b)}h(g.promise,E)})}function h(p,g){try{if(g===p)throw new TypeError("A promise cannot be resolved with itself.");if(g&&(typeof g=="object"||typeof g=="function")){var y=g.then;if(g instanceof c)return p._state=3,p._value=g,void f(p);if(typeof y=="function")return void _(l(y,g),p)}p._state=1,p._value=g,f(p)}catch(E){d(p,E)}}function d(p,g){p._state=2,p._value=g,f(p)}function f(p){p._state===2&&p._deferreds.length===0&&c._immediateFn(function(){p._handled||c._unhandledRejectionFn(p._value)});for(var g=0,y=p._deferreds.length;g<y;g++)u(p,p._deferreds[g]);p._deferreds=null}function m(p,g,y){this.onFulfilled=typeof p=="function"?p:null,this.onRejected=typeof g=="function"?g:null,this.promise=y}function _(p,g){var y=!1;try{p(function(E){y||(y=!0,h(g,E))},function(E){y||(y=!0,d(g,E))})}catch(E){if(y)return;y=!0,d(g,E)}}var v=setTimeout;c.prototype.catch=function(p){return this.then(null,p)},c.prototype.then=function(p,g){var y=new this.constructor(a);return u(this,new m(p,g,y)),y},c.all=function(p){var g=Array.prototype.slice.call(p);return new c(function(y,E){function b(w,x){try{if(x&&(typeof x=="object"||typeof x=="function")){var T=x.then;if(typeof T=="function")return void T.call(x,function(S){b(w,S)},E)}g[w]=x,--I==0&&y(g)}catch(S){E(S)}}if(g.length===0)return y([]);for(var I=g.length,k=0;k<g.length;k++)b(k,g[k])})},c.resolve=function(p){return p&&typeof p=="object"&&p.constructor===c?p:new c(function(g){g(p)})},c.reject=function(p){return new c(function(g,y){y(p)})},c.race=function(p){return new c(function(g,y){for(var E=0,b=p.length;E<b;E++)p[E].then(g,y)})},c._immediateFn=typeof s=="function"&&function(p){s(p)}||function(p){v(p,0)},c._unhandledRejectionFn=function(p){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",p)},c._setImmediateFn=function(p){c._immediateFn=p},c._setUnhandledRejectionFn=function(p){c._unhandledRejectionFn=p},n!==void 0&&n.exports?n.exports=c:o.Promise||(o.Promise=c)})(this)}).call(i,r(18).setImmediate)},function(n,i,r){function s(a,l){this._id=a,this._clearFn=l}var o=Function.prototype.apply;i.setTimeout=function(){return new s(o.call(setTimeout,window,arguments),clearTimeout)},i.setInterval=function(){return new s(o.call(setInterval,window,arguments),clearInterval)},i.clearTimeout=i.clearInterval=function(a){a&&a.close()},s.prototype.unref=s.prototype.ref=function(){},s.prototype.close=function(){this._clearFn.call(window,this._id)},i.enroll=function(a,l){clearTimeout(a._idleTimeoutId),a._idleTimeout=l},i.unenroll=function(a){clearTimeout(a._idleTimeoutId),a._idleTimeout=-1},i._unrefActive=i.active=function(a){clearTimeout(a._idleTimeoutId);var l=a._idleTimeout;l>=0&&(a._idleTimeoutId=setTimeout(function(){a._onTimeout&&a._onTimeout()},l))},r(19),i.setImmediate=setImmediate,i.clearImmediate=clearImmediate},function(n,i,r){(function(s,o){(function(a,l){function c(y){typeof y!="function"&&(y=new Function(""+y));for(var E=new Array(arguments.length-1),b=0;b<E.length;b++)E[b]=arguments[b+1];var I={callback:y,args:E};return _[m]=I,f(m),m++}function u(y){delete _[y]}function h(y){var E=y.callback,b=y.args;switch(b.length){case 0:E();break;case 1:E(b[0]);break;case 2:E(b[0],b[1]);break;case 3:E(b[0],b[1],b[2]);break;default:E.apply(l,b)}}function d(y){if(v)setTimeout(d,0,y);else{var E=_[y];if(E){v=!0;try{h(E)}finally{u(y),v=!1}}}}if(!a.setImmediate){var f,m=1,_={},v=!1,p=a.document,g=Object.getPrototypeOf&&Object.getPrototypeOf(a);g=g&&g.setTimeout?g:a,{}.toString.call(a.process)==="[object process]"?function(){f=function(y){o.nextTick(function(){d(y)})}}():function(){if(a.postMessage&&!a.importScripts){var y=!0,E=a.onmessage;return a.onmessage=function(){y=!1},a.postMessage("","*"),a.onmessage=E,y}}()?function(){var y="setImmediate$"+Math.random()+"$",E=function(b){b.source===a&&typeof b.data=="string"&&b.data.indexOf(y)===0&&d(+b.data.slice(y.length))};a.addEventListener?a.addEventListener("message",E,!1):a.attachEvent("onmessage",E),f=function(b){a.postMessage(y+b,"*")}}():a.MessageChannel?function(){var y=new MessageChannel;y.port1.onmessage=function(E){d(E.data)},f=function(E){y.port2.postMessage(E)}}():p&&"onreadystatechange"in p.createElement("script")?function(){var y=p.documentElement;f=function(E){var b=p.createElement("script");b.onreadystatechange=function(){d(E),b.onreadystatechange=null,y.removeChild(b),b=null},y.appendChild(b)}}():function(){f=function(y){setTimeout(d,0,y)}}(),g.setImmediate=c,g.clearImmediate=u}})(typeof self>"u"?s===void 0?this:s:self)}).call(i,r(7),r(20))},function(n,i){function r(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function o(y){if(d===setTimeout)return setTimeout(y,0);if((d===r||!d)&&setTimeout)return d=setTimeout,setTimeout(y,0);try{return d(y,0)}catch{try{return d.call(null,y,0)}catch{return d.call(this,y,0)}}}function a(y){if(f===clearTimeout)return clearTimeout(y);if((f===s||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(y);try{return f(y)}catch{try{return f.call(null,y)}catch{return f.call(this,y)}}}function l(){p&&_&&(p=!1,_.length?v=_.concat(v):g=-1,v.length&&c())}function c(){if(!p){var y=o(l);p=!0;for(var E=v.length;E;){for(_=v,v=[];++g<E;)_&&_[g].run();g=-1,E=v.length}_=null,p=!1,a(y)}}function u(y,E){this.fun=y,this.array=E}function h(){}var d,f,m=n.exports={};(function(){try{d=typeof setTimeout=="function"?setTimeout:r}catch{d=r}try{f=typeof clearTimeout=="function"?clearTimeout:s}catch{f=s}})();var _,v=[],p=!1,g=-1;m.nextTick=function(y){var E=new Array(arguments.length-1);if(arguments.length>1)for(var b=1;b<arguments.length;b++)E[b-1]=arguments[b];v.push(new u(y,E)),v.length!==1||p||o(c)},u.prototype.run=function(){this.fun.apply(null,this.array)},m.title="browser",m.browser=!0,m.env={},m.argv=[],m.version="",m.versions={},m.on=h,m.addListener=h,m.once=h,m.off=h,m.removeListener=h,m.removeAllListeners=h,m.emit=h,m.prependListener=h,m.prependOnceListener=h,m.listeners=function(y){return[]},m.binding=function(y){throw new Error("process.binding is not supported")},m.cwd=function(){return"/"},m.chdir=function(y){throw new Error("process.chdir is not supported")},m.umask=function(){return 0}},function(n,i,r){r(22).polyfill()},function(n,i,r){function s(a,l){if(a==null)throw new TypeError("Cannot convert first argument to object");for(var c=Object(a),u=1;u<arguments.length;u++){var h=arguments[u];if(h!=null)for(var d=Object.keys(Object(h)),f=0,m=d.length;f<m;f++){var _=d[f],v=Object.getOwnPropertyDescriptor(h,_);v!==void 0&&v.enumerable&&(c[_]=h[_])}}return c}function o(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:s})}n.exports={assign:s,polyfill:o}},function(n,i,r){Object.defineProperty(i,"__esModule",{value:!0});var s=r(24),o=r(6),a=r(5),l=r(36),c=function(){for(var u=[],h=0;h<arguments.length;h++)u[h]=arguments[h];if(typeof window<"u"){var d=l.getOpts.apply(void 0,u);return new Promise(function(f,m){a.default.promise={resolve:f,reject:m},s.default(d),setTimeout(function(){o.openModal()})})}};c.close=o.onAction,c.getState=o.getState,c.setActionValue=a.setActionValue,c.stopLoading=o.stopLoading,c.setDefaults=l.setDefaults,i.default=c},function(n,i,r){Object.defineProperty(i,"__esModule",{value:!0});var s=r(1),o=r(0),a=o.default.MODAL,l=r(4),c=r(34),u=r(35),h=r(1);i.init=function(d){s.getNode(a)||(document.body||h.throwErr("You can only use SweetAlert AFTER the DOM has loaded!"),c.default(),l.default()),l.initModalContent(d),u.default(d)},i.default=i.init},function(n,i,r){Object.defineProperty(i,"__esModule",{value:!0});var s=r(0),o=s.default.MODAL;i.modalMarkup=`
  <div class="`+o+'" role="dialog" aria-modal="true"></div>',i.default=i.modalMarkup},function(n,i,r){Object.defineProperty(i,"__esModule",{value:!0});var s=r(0),o=s.default.OVERLAY,a=`<div 
    class="`+o+`"
    tabIndex="-1">
  </div>`;i.default=a},function(n,i,r){Object.defineProperty(i,"__esModule",{value:!0});var s=r(0),o=s.default.ICON;i.errorIconMarkup=function(){var a=o+"--error",l=a+"__line";return`
    <div class="`+a+`__x-mark">
      <span class="`+l+" "+l+`--left"></span>
      <span class="`+l+" "+l+`--right"></span>
    </div>
  `},i.warningIconMarkup=function(){var a=o+"--warning";return`
    <span class="`+a+`__body">
      <span class="`+a+`__dot"></span>
    </span>
  `},i.successIconMarkup=function(){var a=o+"--success";return`
    <span class="`+a+"__line "+a+`__line--long"></span>
    <span class="`+a+"__line "+a+`__line--tip"></span>

    <div class="`+a+`__ring"></div>
    <div class="`+a+`__hide-corners"></div>
  `}},function(n,i,r){Object.defineProperty(i,"__esModule",{value:!0});var s=r(0),o=s.default.CONTENT;i.contentMarkup=`
  <div class="`+o+`">

  </div>
`},function(n,i,r){Object.defineProperty(i,"__esModule",{value:!0});var s=r(0),o=s.default.BUTTON_CONTAINER,a=s.default.BUTTON,l=s.default.BUTTON_LOADER;i.buttonMarkup=`
  <div class="`+o+`">

    <button
      class="`+a+`"
    ></button>

    <div class="`+l+`">
      <div></div>
      <div></div>
      <div></div>
    </div>

  </div>
`},function(n,i,r){Object.defineProperty(i,"__esModule",{value:!0});var s=r(4),o=r(2),a=r(0),l=a.default.ICON,c=a.default.ICON_CUSTOM,u=["error","warning","success","info"],h={error:o.errorIconMarkup(),warning:o.warningIconMarkup(),success:o.successIconMarkup()},d=function(_,v){var p=l+"--"+_;v.classList.add(p);var g=h[_];g&&(v.innerHTML=g)},f=function(_,v){v.classList.add(c);var p=document.createElement("img");p.src=_,v.appendChild(p)},m=function(_){if(_){var v=s.injectElIntoModal(o.iconMarkup);u.includes(_)?d(_,v):f(_,v)}};i.default=m},function(n,i,r){Object.defineProperty(i,"__esModule",{value:!0});var s=r(2),o=r(4),a=function(l){navigator.userAgent.includes("AppleWebKit")&&(l.style.display="none",l.offsetHeight,l.style.display="")};i.initTitle=function(l){if(l){var c=o.injectElIntoModal(s.titleMarkup);c.textContent=l,a(c)}},i.initText=function(l){if(l){var c=document.createDocumentFragment();l.split(`
`).forEach(function(h,d,f){c.appendChild(document.createTextNode(h)),d<f.length-1&&c.appendChild(document.createElement("br"))});var u=o.injectElIntoModal(s.textMarkup);u.appendChild(c),a(u)}}},function(n,i,r){Object.defineProperty(i,"__esModule",{value:!0});var s=r(1),o=r(4),a=r(0),l=a.default.BUTTON,c=a.default.DANGER_BUTTON,u=r(3),h=r(2),d=r(6),f=r(5),m=function(v,p,g){var y=p.text,E=p.value,b=p.className,I=p.closeModal,k=s.stringToNode(h.buttonMarkup),w=k.querySelector("."+l),x=l+"--"+v;w.classList.add(x),b&&(Array.isArray(b)?b:b.split(" ")).filter(function(S){return S.length>0}).forEach(function(S){w.classList.add(S)}),g&&v===u.CONFIRM_KEY&&w.classList.add(c),w.textContent=y;var T={};return T[v]=E,f.setActionValue(T),f.setActionOptionsFor(v,{closeModal:I}),w.addEventListener("click",function(){return d.onAction(v)}),k},_=function(v,p){var g=o.injectElIntoModal(h.footerMarkup);for(var y in v){var E=v[y],b=m(y,E,p);E.visible&&g.appendChild(b)}g.children.length===0&&g.remove()};i.default=_},function(n,i,r){Object.defineProperty(i,"__esModule",{value:!0});var s=r(3),o=r(4),a=r(2),l=r(5),c=r(6),u=r(0),h=u.default.CONTENT,d=function(_){_.addEventListener("input",function(v){var p=v.target,g=p.value;l.setActionValue(g)}),_.addEventListener("keyup",function(v){if(v.key==="Enter")return c.onAction(s.CONFIRM_KEY)}),setTimeout(function(){_.focus(),l.setActionValue("")},0)},f=function(_,v,p){var g=document.createElement(v),y=h+"__"+v;g.classList.add(y);for(var E in p){var b=p[E];g[E]=b}v==="input"&&d(g),_.appendChild(g)},m=function(_){if(_){var v=o.injectElIntoModal(a.contentMarkup),p=_.element,g=_.attributes;typeof p=="string"?f(v,p,g):v.appendChild(p)}};i.default=m},function(n,i,r){Object.defineProperty(i,"__esModule",{value:!0});var s=r(1),o=r(2),a=function(){var l=s.stringToNode(o.overlayMarkup);document.body.appendChild(l)};i.default=a},function(n,i,r){Object.defineProperty(i,"__esModule",{value:!0});var s=r(5),o=r(6),a=r(1),l=r(3),c=r(0),u=c.default.MODAL,h=c.default.BUTTON,d=c.default.OVERLAY,f=function(S){S.preventDefault(),g()},m=function(S){S.preventDefault(),y()},_=function(S){if(s.default.isOpen)switch(S.key){case"Escape":return o.onAction(l.CANCEL_KEY)}},v=function(S){if(s.default.isOpen)switch(S.key){case"Tab":return f(S)}},p=function(S){if(s.default.isOpen)return S.key==="Tab"&&S.shiftKey?m(S):void 0},g=function(){var S=a.getNode(h);S&&(S.tabIndex=0,S.focus())},y=function(){var S=a.getNode(u),A=S.querySelectorAll("."+h),R=A.length-1,$=A[R];$&&$.focus()},E=function(S){S[S.length-1].addEventListener("keydown",v)},b=function(S){S[0].addEventListener("keydown",p)},I=function(){var S=a.getNode(u),A=S.querySelectorAll("."+h);A.length&&(E(A),b(A))},k=function(S){if(a.getNode(d)===S.target)return o.onAction(l.CANCEL_KEY)},w=function(S){var A=a.getNode(d);A.removeEventListener("click",k),S&&A.addEventListener("click",k)},x=function(S){s.default.timer&&clearTimeout(s.default.timer),S&&(s.default.timer=window.setTimeout(function(){return o.onAction(l.CANCEL_KEY)},S))},T=function(S){S.closeOnEsc?document.addEventListener("keyup",_):document.removeEventListener("keyup",_),S.dangerMode?g():y(),I(),w(S.closeOnClickOutside),x(S.timer)};i.default=T},function(n,i,r){Object.defineProperty(i,"__esModule",{value:!0});var s=r(1),o=r(3),a=r(37),l=r(38),c={title:null,text:null,icon:null,buttons:o.defaultButtonList,content:null,className:null,closeOnClickOutside:!0,closeOnEsc:!0,dangerMode:!1,timer:null},u=Object.assign({},c);i.setDefaults=function(p){u=Object.assign({},c,p)};var h=function(p){var g=p&&p.button,y=p&&p.buttons;return g!==void 0&&y!==void 0&&s.throwErr("Cannot set both 'button' and 'buttons' options!"),g!==void 0?{confirm:g}:y},d=function(p){return s.ordinalSuffixOf(p+1)},f=function(p,g){s.throwErr(d(g)+" argument ('"+p+"') is invalid")},m=function(p,g){var y=p+1,E=g[y];s.isPlainObject(E)||E===void 0||s.throwErr("Expected "+d(y)+" argument ('"+E+"') to be a plain object")},_=function(p,g){var y=p+1,E=g[y];E!==void 0&&s.throwErr("Unexpected "+d(y)+" argument ("+E+")")},v=function(p,g,y,E){var b=typeof g,I=b==="string",k=g instanceof Element;if(I){if(y===0)return{text:g};if(y===1)return{text:g,title:E[0]};if(y===2)return m(y,E),{icon:g};f(g,y)}else{if(k&&y===0)return m(y,E),{content:g};if(s.isPlainObject(g))return _(y,E),g;f(g,y)}};i.getOpts=function(){for(var p=[],g=0;g<arguments.length;g++)p[g]=arguments[g];var y={};p.forEach(function(I,k){var w=v(0,I,k,p);Object.assign(y,w)});var E=h(y);y.buttons=o.getButtonListOpts(E),delete y.button,y.content=a.getContentOpts(y.content);var b=Object.assign({},c,u,y);return Object.keys(b).forEach(function(I){l.DEPRECATED_OPTS[I]&&l.logDeprecation(I)}),b}},function(n,i,r){Object.defineProperty(i,"__esModule",{value:!0});var s=r(1),o={element:"input",attributes:{placeholder:""}};i.getContentOpts=function(a){var l={};return s.isPlainObject(a)?Object.assign(l,a):a instanceof Element?{element:a}:a==="input"?o:null}},function(n,i,r){Object.defineProperty(i,"__esModule",{value:!0}),i.logDeprecation=function(s){var o=i.DEPRECATED_OPTS[s],a=o.onlyRename,l=o.replacement,c=o.subOption,u=o.link,h=a?"renamed":"deprecated",d='SweetAlert warning: "'+s+'" option has been '+h+".";l&&(d+=" Please use"+(c?' "'+c+'" in ':" ")+'"'+l+'" instead.');var f="https://sweetalert.js.org";d+=u?" More details: "+f+u:" More details: "+f+"/guides/#upgrading-from-1x",console.warn(d)},i.DEPRECATED_OPTS={type:{replacement:"icon",link:"/docs/#icon"},imageUrl:{replacement:"icon",link:"/docs/#icon"},customClass:{replacement:"className",onlyRename:!0,link:"/docs/#classname"},imageSize:{},showCancelButton:{replacement:"buttons",link:"/docs/#buttons"},showConfirmButton:{replacement:"button",link:"/docs/#button"},confirmButtonText:{replacement:"button",link:"/docs/#button"},confirmButtonColor:{},cancelButtonText:{replacement:"buttons",link:"/docs/#buttons"},closeOnConfirm:{replacement:"button",subOption:"closeModal",link:"/docs/#button"},closeOnCancel:{replacement:"buttons",subOption:"closeModal",link:"/docs/#buttons"},showLoaderOnConfirm:{replacement:"buttons"},animation:{},inputType:{replacement:"content",link:"/docs/#content"},inputValue:{replacement:"content",link:"/docs/#content"},inputPlaceholder:{replacement:"content",link:"/docs/#content"},html:{replacement:"content",link:"/docs/#content"},allowEscapeKey:{replacement:"closeOnEsc",onlyRename:!0,link:"/docs/#closeonesc"},allowClickOutside:{replacement:"closeOnClickOutside",onlyRename:!0,link:"/docs/#closeonclickoutside"}}}])})})(zS);var $5=zS.exports;const ha=cw($5),B5=()=>{const[e,t]=N.useState(0),[n,i]=N.useState(!1),[r,s]=N.useState(0),[o,a]=N.useState(!1),[l,c]=N.useState({});N.useState({});const[u,h]=N.useState(""),[d,f]=N.useState([]);N.useEffect(()=>{(async()=>{const E=await Lu(Zs(ci,"PoolQuestions"));let b=[];E.forEach(I=>{console.log(I.id),b.push(I.id)}),console.log(b,"ids"),f(b)})()},[]);const m=y=>{y.target.value>0?i(!0):n(!1),t(y.target.value)},_=y=>{const E=[];for(let b=0;b<y;b++)E.push(C.jsxs(C.Fragment,{children:[C.jsxs("div",{className:"d-flex flex-column gap-2",style:{maxWidth:"500px"},children:[C.jsxs("label",{className:"h6",children:["Question ",b+1]}),C.jsx("input",{className:"form-control",type:"text",name:"tag",placeholder:"Your question",onChange:I=>{h(I.target.value)}})]}),C.jsxs("div",{className:"d-flex flex-column gap-2",style:{maxWidth:300},children:[C.jsx("label",{className:"h6",children:"Number of Option"}),C.jsxs("div",{className:"d-flex align-items-center gap-3",children:[C.jsx("input",{className:"form-control",type:"number",placeholder:"2",style:{maxWidth:100},max:"5",min:1,maxLength:1,onChange:I=>{s(I.target.value),a(!1)}}),C.jsx("button",{className:"btn btn-primary",onClick:()=>a(!0),children:"Select"})]})]})]}));return E},v=y=>{const E=[];y>5&&(alert("To big Options"),y=5);for(let b=0;b<y;b++)E.push(C.jsxs("div",{className:"d-flex flex-column gap-2",style:{maxWidth:"500px"},children:[C.jsxs("label",{className:"h6",children:["Question ",b+1]}),C.jsx("input",{className:"form-control",type:"text",name:`option ${b+1}`,placeholder:`option ${b+1}`,onChange:I=>c({...l,[I.target.name]:I.target.value})})]}));return E},p=async()=>{let y={title:u,option:Object.values(l)};g(y)},g=async y=>{try{const E=await fS(Zs(ci,"PoolQuestions"),y);ha("Saved","","success"),console.log(E)}catch(E){ha("error",E,"info"),console.log(E)}};return C.jsxs(C.Fragment,{children:[C.jsx(oy,{}),C.jsxs("div",{className:"container mx-auto w-75 mt-4 border border-secondary  p-2",children:[C.jsx("p",{className:"text-center h3 ",children:"Make Pool"}),C.jsxs("div",{children:[C.jsxs("div",{className:"d-flex flex-column gap-2",style:{maxWidth:300},children:[C.jsx("label",{className:"h6",children:"Number of Question"}),C.jsxs("select",{className:"form-control",onChange:y=>m(y),children:[C.jsx("option",{value:0,children:"choose Option"}),C.jsx("option",{value:1,children:"1"})]})]}),n&&_(e).map((y,E)=>C.jsx("div",{children:y},E)),o&&v(r).map((y,E)=>C.jsxs("div",{children:[y," "]},E)),n&&o&&C.jsx("button",{className:"btn btn-secondary mt-5",onClick:()=>{p()},children:"Submit"}),C.jsxs("div",{children:[C.jsx("p",{children:"You Pools"}),C.jsx("div",{className:"d-flex flex-column",children:d.map((y,E)=>C.jsxs(Rs,{to:`/pool-question/${y}`,children:[`pool ${E+1}`," ",`/pool-question/${y}`," "]},E))})]})]})]})]})};ah.register(...vD);const U5="/LitendSurvey/assets/vite-4a748afd.svg",W5=()=>{const{qId:e}=Px(),[t,n]=N.useState([]),[i,r]=N.useState(""),[s,o]=N.useState(!0),[a,l]=N.useState({});N.useEffect(()=>{(async()=>{o(!0);const d=Ou(ci,"PoolQuestions",e),f=await hS(d);f.exists?(r(f.data().title),n(f.data().option)):console.log(f),o(!1)})(),fetch("https://ipapi.co/json/").then(d=>d.json()).then(d=>{const f=d.country_name;console.log("User's country:",f),l({...a,city:d.city,country:d.country_name,ip:d.ip,timeZone:d.timezone})}).catch(d=>{console.error("Error:",d)})},[]);const c=()=>{a==""?ha("please select one","","info"):u(a)},u=async h=>{try{const d=await fS(Zs(ci,e),{...h}),f=Ou(ci,"PoolQuestions",e),m=await s4(f,{count:Hd(1),result:{[h.answer]:Hd(1)},[h.answer]:Hd(1)});ha("Great!","","success"),console.log(d)}catch(d){ha("error",d,"info"),console.log(d)}};return C.jsx(C.Fragment,{children:C.jsxs("div",{className:"question-container d-flex justify-content-center align-items-center",children:[s&&C.jsx("div",{style:{position:"absolute",top:"0",height:"100vh",width:"100%",backgroundColor:"rgb(0,0,0,0.4)",zIndex:3}}),C.jsxs("div",{className:"border border-primary question-card",children:[C.jsx("p",{className:"h6 text-center text-primary",children:"LITEND"}),C.jsx("div",{className:"mb-2",children:C.jsx("img",{src:U5,alt:"image",style:{display:"block",width:"100%",height:"100px"}})}),C.jsxs("div",{children:[C.jsx("p",{className:"h4 mb-0",children:i}),C.jsx("hr",{className:"mt-0 mb-3"}),C.jsx("div",{children:t.map((h,d)=>C.jsxs("div",{className:"d-flex  gap-3",children:[C.jsx("input",{type:"radio",id:h,name:i,value:h,onChange:f=>l({...a,answer:f.target.value})}),C.jsxs("label",{className:"question-label",htmlFor:h,children:[h," "]})]},d))})]}),C.jsx("button",{className:"btn btn-primary mt-3 mx-auto",style:{display:"block",maxWidth:"200px",width:"100%"},onClick:()=>c(),children:"submit"})]})]})})};var $S={exports:{}};/* @license
Papa Parse
v5.4.1
https://github.com/mholt/PapaParse
License: MIT
*/(function(e,t){(function(n,i){e.exports=i()})(lw,function n(){var i=typeof self<"u"?self:typeof window<"u"?window:i!==void 0?i:{},r=!i.document&&!!i.postMessage,s=i.IS_PAPA_WORKER||!1,o={},a=0,l={parse:function(w,x){var T=(x=x||{}).dynamicTyping||!1;if(k(T)&&(x.dynamicTypingFunction=T,T={}),x.dynamicTyping=T,x.transform=!!k(x.transform)&&x.transform,x.worker&&l.WORKERS_SUPPORTED){var S=function(){if(!l.WORKERS_SUPPORTED)return!1;var R=(B=i.URL||i.webkitURL||null,H=n.toString(),l.BLOB_URL||(l.BLOB_URL=B.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",H,")();"],{type:"text/javascript"})))),$=new i.Worker(R),B,H;return $.onmessage=g,$.id=a++,o[$.id]=$}();return S.userStep=x.step,S.userChunk=x.chunk,S.userComplete=x.complete,S.userError=x.error,x.step=k(x.step),x.chunk=k(x.chunk),x.complete=k(x.complete),x.error=k(x.error),delete x.worker,void S.postMessage({input:w,config:x,workerId:S.id})}var A=null;return l.NODE_STREAM_INPUT,typeof w=="string"?(w=function(R){return R.charCodeAt(0)===65279?R.slice(1):R}(w),A=x.download?new h(x):new f(x)):w.readable===!0&&k(w.read)&&k(w.on)?A=new m(x):(i.File&&w instanceof File||w instanceof Object)&&(A=new d(x)),A.stream(w)},unparse:function(w,x){var T=!1,S=!0,A=",",R=`\r
`,$='"',B=$+$,H=!1,F=null,M=!1;(function(){if(typeof x=="object"){if(typeof x.delimiter!="string"||l.BAD_DELIMITERS.filter(function(V){return x.delimiter.indexOf(V)!==-1}).length||(A=x.delimiter),(typeof x.quotes=="boolean"||typeof x.quotes=="function"||Array.isArray(x.quotes))&&(T=x.quotes),typeof x.skipEmptyLines!="boolean"&&typeof x.skipEmptyLines!="string"||(H=x.skipEmptyLines),typeof x.newline=="string"&&(R=x.newline),typeof x.quoteChar=="string"&&($=x.quoteChar),typeof x.header=="boolean"&&(S=x.header),Array.isArray(x.columns)){if(x.columns.length===0)throw new Error("Option columns is empty");F=x.columns}x.escapeChar!==void 0&&(B=x.escapeChar+$),(typeof x.escapeFormulae=="boolean"||x.escapeFormulae instanceof RegExp)&&(M=x.escapeFormulae instanceof RegExp?x.escapeFormulae:/^[=+\-@\t\r].*$/)}})();var P=new RegExp(v($),"g");if(typeof w=="string"&&(w=JSON.parse(w)),Array.isArray(w)){if(!w.length||Array.isArray(w[0]))return q(null,w,H);if(typeof w[0]=="object")return q(F||Object.keys(w[0]),w,H)}else if(typeof w=="object")return typeof w.data=="string"&&(w.data=JSON.parse(w.data)),Array.isArray(w.data)&&(w.fields||(w.fields=w.meta&&w.meta.fields||F),w.fields||(w.fields=Array.isArray(w.data[0])?w.fields:typeof w.data[0]=="object"?Object.keys(w.data[0]):[]),Array.isArray(w.data[0])||typeof w.data[0]=="object"||(w.data=[w.data])),q(w.fields||[],w.data||[],H);throw new Error("Unable to serialize unrecognized input");function q(V,st,ft){var ut="";typeof V=="string"&&(V=JSON.parse(V)),typeof st=="string"&&(st=JSON.parse(st));var ht=Array.isArray(V)&&0<V.length,Mt=!Array.isArray(st[0]);if(ht&&S){for(var ie=0;ie<V.length;ie++)0<ie&&(ut+=A),ut+=Z(V[ie],ie);0<st.length&&(ut+=R)}for(var G=0;G<st.length;G++){var pt=ht?V.length:st[G].length,Dt=!1,Xt=ht?Object.keys(st[G]).length===0:st[G].length===0;if(ft&&!ht&&(Dt=ft==="greedy"?st[G].join("").trim()==="":st[G].length===1&&st[G][0].length===0),ft==="greedy"&&ht){for(var vt=[],_e=0;_e<pt;_e++){var Ut=Mt?V[_e]:_e;vt.push(st[G][Ut])}Dt=vt.join("").trim()===""}if(!Dt){for(var Et=0;Et<pt;Et++){0<Et&&!Xt&&(ut+=A);var yn=ht&&Mt?V[Et]:Et;ut+=Z(st[G][yn],Et)}G<st.length-1&&(!ft||0<pt&&!Xt)&&(ut+=R)}}return ut}function Z(V,st){if(V==null)return"";if(V.constructor===Date)return JSON.stringify(V).slice(1,25);var ft=!1;M&&typeof V=="string"&&M.test(V)&&(V="'"+V,ft=!0);var ut=V.toString().replace(P,B);return(ft=ft||T===!0||typeof T=="function"&&T(V,st)||Array.isArray(T)&&T[st]||function(ht,Mt){for(var ie=0;ie<Mt.length;ie++)if(-1<ht.indexOf(Mt[ie]))return!0;return!1}(ut,l.BAD_DELIMITERS)||-1<ut.indexOf(A)||ut.charAt(0)===" "||ut.charAt(ut.length-1)===" ")?$+ut+$:ut}}};if(l.RECORD_SEP=String.fromCharCode(30),l.UNIT_SEP=String.fromCharCode(31),l.BYTE_ORDER_MARK="\uFEFF",l.BAD_DELIMITERS=["\r",`
`,'"',l.BYTE_ORDER_MARK],l.WORKERS_SUPPORTED=!r&&!!i.Worker,l.NODE_STREAM_INPUT=1,l.LocalChunkSize=10485760,l.RemoteChunkSize=5242880,l.DefaultDelimiter=",",l.Parser=p,l.ParserHandle=_,l.NetworkStreamer=h,l.FileStreamer=d,l.StringStreamer=f,l.ReadableStreamStreamer=m,i.jQuery){var c=i.jQuery;c.fn.parse=function(w){var x=w.config||{},T=[];return this.each(function(R){if(!(c(this).prop("tagName").toUpperCase()==="INPUT"&&c(this).attr("type").toLowerCase()==="file"&&i.FileReader)||!this.files||this.files.length===0)return!0;for(var $=0;$<this.files.length;$++)T.push({file:this.files[$],inputElem:this,instanceConfig:c.extend({},x)})}),S(),this;function S(){if(T.length!==0){var R,$,B,H,F=T[0];if(k(w.before)){var M=w.before(F.file,F.inputElem);if(typeof M=="object"){if(M.action==="abort")return R="AbortError",$=F.file,B=F.inputElem,H=M.reason,void(k(w.error)&&w.error({name:R},$,B,H));if(M.action==="skip")return void A();typeof M.config=="object"&&(F.instanceConfig=c.extend(F.instanceConfig,M.config))}else if(M==="skip")return void A()}var P=F.instanceConfig.complete;F.instanceConfig.complete=function(q){k(P)&&P(q,F.file,F.inputElem),A()},l.parse(F.file,F.instanceConfig)}else k(w.complete)&&w.complete()}function A(){T.splice(0,1),S()}}}function u(w){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(x){var T=b(x);T.chunkSize=parseInt(T.chunkSize),x.step||x.chunk||(T.chunkSize=null),this._handle=new _(T),(this._handle.streamer=this)._config=T}).call(this,w),this.parseChunk=function(x,T){if(this.isFirstChunk&&k(this._config.beforeFirstChunk)){var S=this._config.beforeFirstChunk(x);S!==void 0&&(x=S)}this.isFirstChunk=!1,this._halted=!1;var A=this._partialLine+x;this._partialLine="";var R=this._handle.parse(A,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var $=R.meta.cursor;this._finished||(this._partialLine=A.substring($-this._baseIndex),this._baseIndex=$),R&&R.data&&(this._rowCount+=R.data.length);var B=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(s)i.postMessage({results:R,workerId:l.WORKER_ID,finished:B});else if(k(this._config.chunk)&&!T){if(this._config.chunk(R,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);R=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(R.data),this._completeResults.errors=this._completeResults.errors.concat(R.errors),this._completeResults.meta=R.meta),this._completed||!B||!k(this._config.complete)||R&&R.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),B||R&&R.meta.paused||this._nextChunk(),R}this._halted=!0},this._sendError=function(x){k(this._config.error)?this._config.error(x):s&&this._config.error&&i.postMessage({workerId:l.WORKER_ID,error:x,finished:!1})}}function h(w){var x;(w=w||{}).chunkSize||(w.chunkSize=l.RemoteChunkSize),u.call(this,w),this._nextChunk=r?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(T){this._input=T,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(x=new XMLHttpRequest,this._config.withCredentials&&(x.withCredentials=this._config.withCredentials),r||(x.onload=I(this._chunkLoaded,this),x.onerror=I(this._chunkError,this)),x.open(this._config.downloadRequestBody?"POST":"GET",this._input,!r),this._config.downloadRequestHeaders){var T=this._config.downloadRequestHeaders;for(var S in T)x.setRequestHeader(S,T[S])}if(this._config.chunkSize){var A=this._start+this._config.chunkSize-1;x.setRequestHeader("Range","bytes="+this._start+"-"+A)}try{x.send(this._config.downloadRequestBody)}catch(R){this._chunkError(R.message)}r&&x.status===0&&this._chunkError()}},this._chunkLoaded=function(){x.readyState===4&&(x.status<200||400<=x.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:x.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(T){var S=T.getResponseHeader("Content-Range");return S===null?-1:parseInt(S.substring(S.lastIndexOf("/")+1))}(x),this.parseChunk(x.responseText)))},this._chunkError=function(T){var S=x.statusText||T;this._sendError(new Error(S))}}function d(w){var x,T;(w=w||{}).chunkSize||(w.chunkSize=l.LocalChunkSize),u.call(this,w);var S=typeof FileReader<"u";this.stream=function(A){this._input=A,T=A.slice||A.webkitSlice||A.mozSlice,S?((x=new FileReader).onload=I(this._chunkLoaded,this),x.onerror=I(this._chunkError,this)):x=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var A=this._input;if(this._config.chunkSize){var R=Math.min(this._start+this._config.chunkSize,this._input.size);A=T.call(A,this._start,R)}var $=x.readAsText(A,this._config.encoding);S||this._chunkLoaded({target:{result:$}})},this._chunkLoaded=function(A){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(A.target.result)},this._chunkError=function(){this._sendError(x.error)}}function f(w){var x;u.call(this,w=w||{}),this.stream=function(T){return x=T,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var T,S=this._config.chunkSize;return S?(T=x.substring(0,S),x=x.substring(S)):(T=x,x=""),this._finished=!x,this.parseChunk(T)}}}function m(w){u.call(this,w=w||{});var x=[],T=!0,S=!1;this.pause=function(){u.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){u.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(A){this._input=A,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){S&&x.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),x.length?this.parseChunk(x.shift()):T=!0},this._streamData=I(function(A){try{x.push(typeof A=="string"?A:A.toString(this._config.encoding)),T&&(T=!1,this._checkIsFinished(),this.parseChunk(x.shift()))}catch(R){this._streamError(R)}},this),this._streamError=I(function(A){this._streamCleanUp(),this._sendError(A)},this),this._streamEnd=I(function(){this._streamCleanUp(),S=!0,this._streamData("")},this),this._streamCleanUp=I(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function _(w){var x,T,S,A=Math.pow(2,53),R=-A,$=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,B=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,H=this,F=0,M=0,P=!1,q=!1,Z=[],V={data:[],errors:[],meta:{}};if(k(w.step)){var st=w.step;w.step=function(G){if(V=G,ht())ut();else{if(ut(),V.data.length===0)return;F+=G.data.length,w.preview&&F>w.preview?T.abort():(V.data=V.data[0],st(V,H))}}}function ft(G){return w.skipEmptyLines==="greedy"?G.join("").trim()==="":G.length===1&&G[0].length===0}function ut(){return V&&S&&(ie("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+l.DefaultDelimiter+"'"),S=!1),w.skipEmptyLines&&(V.data=V.data.filter(function(G){return!ft(G)})),ht()&&function(){if(!V)return;function G(Dt,Xt){k(w.transformHeader)&&(Dt=w.transformHeader(Dt,Xt)),Z.push(Dt)}if(Array.isArray(V.data[0])){for(var pt=0;ht()&&pt<V.data.length;pt++)V.data[pt].forEach(G);V.data.splice(0,1)}else V.data.forEach(G)}(),function(){if(!V||!w.header&&!w.dynamicTyping&&!w.transform)return V;function G(Dt,Xt){var vt,_e=w.header?{}:[];for(vt=0;vt<Dt.length;vt++){var Ut=vt,Et=Dt[vt];w.header&&(Ut=vt>=Z.length?"__parsed_extra":Z[vt]),w.transform&&(Et=w.transform(Et,Ut)),Et=Mt(Ut,Et),Ut==="__parsed_extra"?(_e[Ut]=_e[Ut]||[],_e[Ut].push(Et)):_e[Ut]=Et}return w.header&&(vt>Z.length?ie("FieldMismatch","TooManyFields","Too many fields: expected "+Z.length+" fields but parsed "+vt,M+Xt):vt<Z.length&&ie("FieldMismatch","TooFewFields","Too few fields: expected "+Z.length+" fields but parsed "+vt,M+Xt)),_e}var pt=1;return!V.data.length||Array.isArray(V.data[0])?(V.data=V.data.map(G),pt=V.data.length):V.data=G(V.data,0),w.header&&V.meta&&(V.meta.fields=Z),M+=pt,V}()}function ht(){return w.header&&Z.length===0}function Mt(G,pt){return Dt=G,w.dynamicTypingFunction&&w.dynamicTyping[Dt]===void 0&&(w.dynamicTyping[Dt]=w.dynamicTypingFunction(Dt)),(w.dynamicTyping[Dt]||w.dynamicTyping)===!0?pt==="true"||pt==="TRUE"||pt!=="false"&&pt!=="FALSE"&&(function(Xt){if($.test(Xt)){var vt=parseFloat(Xt);if(R<vt&&vt<A)return!0}return!1}(pt)?parseFloat(pt):B.test(pt)?new Date(pt):pt===""?null:pt):pt;var Dt}function ie(G,pt,Dt,Xt){var vt={type:G,code:pt,message:Dt};Xt!==void 0&&(vt.row=Xt),V.errors.push(vt)}this.parse=function(G,pt,Dt){var Xt=w.quoteChar||'"';if(w.newline||(w.newline=function(Ut,Et){Ut=Ut.substring(0,1048576);var yn=new RegExp(v(Et)+"([^]*?)"+v(Et),"gm"),sn=(Ut=Ut.replace(yn,"")).split("\r"),An=Ut.split(`
`),Kn=1<An.length&&An[0].length<sn[0].length;if(sn.length===1||Kn)return`
`;for(var on=0,Ot=0;Ot<sn.length;Ot++)sn[Ot][0]===`
`&&on++;return on>=sn.length/2?`\r
`:"\r"}(G,Xt)),S=!1,w.delimiter)k(w.delimiter)&&(w.delimiter=w.delimiter(G),V.meta.delimiter=w.delimiter);else{var vt=function(Ut,Et,yn,sn,An){var Kn,on,Ot,qt;An=An||[",","	","|",";",l.RECORD_SEP,l.UNIT_SEP];for(var mr=0;mr<An.length;mr++){var _t=An[mr],rs=0,Qn=0,yr=0;Ot=void 0;for(var wi=new p({comments:sn,delimiter:_t,newline:Et,preview:10}).parse(Ut),xi=0;xi<wi.data.length;xi++)if(yn&&ft(wi.data[xi]))yr++;else{var Ei=wi.data[xi].length;Qn+=Ei,Ot!==void 0?0<Ei&&(rs+=Math.abs(Ei-Ot),Ot=Ei):Ot=Ei}0<wi.data.length&&(Qn/=wi.data.length-yr),(on===void 0||rs<=on)&&(qt===void 0||qt<Qn)&&1.99<Qn&&(on=rs,Kn=_t,qt=Qn)}return{successful:!!(w.delimiter=Kn),bestDelimiter:Kn}}(G,w.newline,w.skipEmptyLines,w.comments,w.delimitersToGuess);vt.successful?w.delimiter=vt.bestDelimiter:(S=!0,w.delimiter=l.DefaultDelimiter),V.meta.delimiter=w.delimiter}var _e=b(w);return w.preview&&w.header&&_e.preview++,x=G,T=new p(_e),V=T.parse(x,pt,Dt),ut(),P?{meta:{paused:!0}}:V||{meta:{paused:!1}}},this.paused=function(){return P},this.pause=function(){P=!0,T.abort(),x=k(w.chunk)?"":x.substring(T.getCharIndex())},this.resume=function(){H.streamer._halted?(P=!1,H.streamer.parseChunk(x,!0)):setTimeout(H.resume,3)},this.aborted=function(){return q},this.abort=function(){q=!0,T.abort(),V.meta.aborted=!0,k(w.complete)&&w.complete(V),x=""}}function v(w){return w.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function p(w){var x,T=(w=w||{}).delimiter,S=w.newline,A=w.comments,R=w.step,$=w.preview,B=w.fastMode,H=x=w.quoteChar===void 0||w.quoteChar===null?'"':w.quoteChar;if(w.escapeChar!==void 0&&(H=w.escapeChar),(typeof T!="string"||-1<l.BAD_DELIMITERS.indexOf(T))&&(T=","),A===T)throw new Error("Comment character same as delimiter");A===!0?A="#":(typeof A!="string"||-1<l.BAD_DELIMITERS.indexOf(A))&&(A=!1),S!==`
`&&S!=="\r"&&S!==`\r
`&&(S=`
`);var F=0,M=!1;this.parse=function(P,q,Z){if(typeof P!="string")throw new Error("Input must be a string");var V=P.length,st=T.length,ft=S.length,ut=A.length,ht=k(R),Mt=[],ie=[],G=[],pt=F=0;if(!P)return an();if(w.header&&!q){var Dt=P.split(S)[0].split(T),Xt=[],vt={},_e=!1;for(var Ut in Dt){var Et=Dt[Ut];k(w.transformHeader)&&(Et=w.transformHeader(Et,Ut));var yn=Et,sn=vt[Et]||0;for(0<sn&&(_e=!0,yn=Et+"_"+sn),vt[Et]=sn+1;Xt.includes(yn);)yn=yn+"_"+sn;Xt.push(yn)}if(_e){var An=P.split(S);An[0]=Xt.join(T),P=An.join(S)}}if(B||B!==!1&&P.indexOf(x)===-1){for(var Kn=P.split(S),on=0;on<Kn.length;on++){if(G=Kn[on],F+=G.length,on!==Kn.length-1)F+=S.length;else if(Z)return an();if(!A||G.substring(0,ut)!==A){if(ht){if(Mt=[],yr(G.split(T)),kl(),M)return an()}else yr(G.split(T));if($&&$<=on)return Mt=Mt.slice(0,$),an(!0)}}return an()}for(var Ot=P.indexOf(T,F),qt=P.indexOf(S,F),mr=new RegExp(v(H)+v(x),"g"),_t=P.indexOf(x,F);;)if(P[F]!==x)if(A&&G.length===0&&P.substring(F,F+ut)===A){if(qt===-1)return an();F=qt+ft,qt=P.indexOf(S,F),Ot=P.indexOf(T,F)}else if(Ot!==-1&&(Ot<qt||qt===-1))G.push(P.substring(F,Ot)),F=Ot+st,Ot=P.indexOf(T,F);else{if(qt===-1)break;if(G.push(P.substring(F,qt)),Ei(qt+ft),ht&&(kl(),M))return an();if($&&Mt.length>=$)return an(!0)}else for(_t=F,F++;;){if((_t=P.indexOf(x,_t+1))===-1)return Z||ie.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:Mt.length,index:F}),xi();if(_t===V-1)return xi(P.substring(F,_t).replace(mr,x));if(x!==H||P[_t+1]!==H){if(x===H||_t===0||P[_t-1]!==H){Ot!==-1&&Ot<_t+1&&(Ot=P.indexOf(T,_t+1)),qt!==-1&&qt<_t+1&&(qt=P.indexOf(S,_t+1));var rs=wi(qt===-1?Ot:Math.min(Ot,qt));if(P.substr(_t+1+rs,st)===T){G.push(P.substring(F,_t).replace(mr,x)),P[F=_t+1+rs+st]!==x&&(_t=P.indexOf(x,F)),Ot=P.indexOf(T,F),qt=P.indexOf(S,F);break}var Qn=wi(qt);if(P.substring(_t+1+Qn,_t+1+Qn+ft)===S){if(G.push(P.substring(F,_t).replace(mr,x)),Ei(_t+1+Qn+ft),Ot=P.indexOf(T,F),_t=P.indexOf(x,F),ht&&(kl(),M))return an();if($&&Mt.length>=$)return an(!0);break}ie.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:Mt.length,index:F}),_t++}}else _t++}return xi();function yr(ln){Mt.push(ln),pt=F}function wi(ln){var ay=0;if(ln!==-1){var Uh=P.substring(_t+1,ln);Uh&&Uh.trim()===""&&(ay=Uh.length)}return ay}function xi(ln){return Z||(ln===void 0&&(ln=P.substring(F)),G.push(ln),F=V,yr(G),ht&&kl()),an()}function Ei(ln){F=ln,yr(G),G=[],qt=P.indexOf(S,F)}function an(ln){return{data:Mt,errors:ie,meta:{delimiter:T,linebreak:S,aborted:M,truncated:!!ln,cursor:pt+(q||0)}}}function kl(){R(an()),Mt=[],ie=[]}},this.abort=function(){M=!0},this.getCharIndex=function(){return F}}function g(w){var x=w.data,T=o[x.workerId],S=!1;if(x.error)T.userError(x.error,x.file);else if(x.results&&x.results.data){var A={abort:function(){S=!0,y(x.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:E,resume:E};if(k(T.userStep)){for(var R=0;R<x.results.data.length&&(T.userStep({data:x.results.data[R],errors:x.results.errors,meta:x.results.meta},A),!S);R++);delete x.results}else k(T.userChunk)&&(T.userChunk(x.results,A,x.file),delete x.results)}x.finished&&!S&&y(x.workerId,x.results)}function y(w,x){var T=o[w];k(T.userComplete)&&T.userComplete(x),T.terminate(),delete o[w]}function E(){throw new Error("Not implemented.")}function b(w){if(typeof w!="object"||w===null)return w;var x=Array.isArray(w)?[]:{};for(var T in w)x[T]=b(w[T]);return x}function I(w,x){return function(){w.apply(x,arguments)}}function k(w){return typeof w=="function"}return s&&(i.onmessage=function(w){var x=w.data;if(l.WORKER_ID===void 0&&x&&(l.WORKER_ID=x.workerId),typeof x.input=="string")i.postMessage({workerId:l.WORKER_ID,results:l.parse(x.input,x.config),finished:!0});else if(i.File&&x.input instanceof File||x.input instanceof Object){var T=l.parse(x.input,x.config);T&&i.postMessage({workerId:l.WORKER_ID,results:T,finished:!0})}}),(h.prototype=Object.create(u.prototype)).constructor=h,(d.prototype=Object.create(u.prototype)).constructor=d,(f.prototype=Object.create(f.prototype)).constructor=f,(m.prototype=Object.create(u.prototype)).constructor=m,l})})($S);var H5=$S.exports;const q5=({data:e})=>C.jsx(TD,{data:e,options:{responsive:!0}}),K5=()=>{const{id:e}=Px(),[t,n]=N.useState([]),[i,r]=N.useState([]),[s,o]=N.useState([]),[a,l]=N.useState(!0);N.useEffect(()=>{let u=[];(async()=>{(await Lu(Zs(ci,e))).forEach(m=>{u.push({...m.data()})}),o(Object.keys(u[0])),r([...i,...u])})(),(async()=>{l(!0);const f=[],m=Ou(ci,"PoolQuestions",e),_=await hS(m);_.exists?f.push({..._.data(),id:_.id}):console.log(_),n(f),l(!1)})()},[]);const c=()=>{const u=H5.unparse(i),h=new Blob([u],{type:"text/csv;charset=utf-8;"}),d=URL.createObjectURL(h),f=document.createElement("a");f.href=d,f.setAttribute("download","data.csv"),document.body.appendChild(f),f.click()};return C.jsxs(C.Fragment,{children:[C.jsx(oy,{}),C.jsxs("div",{className:"container",children:[C.jsx("button",{className:"btn btn-primary my-2",onClick:()=>c(),children:"GetCSV"}),C.jsx("div",{children:!a&&C.jsx("div",{className:"",style:{maxWidth:"500px",Height:"900px"},children:C.jsx(q5,{data:{labels:Object.values(t[0].option),datasets:[{label:t[0].title,data:t[0].option.map(u=>t[0][u]||0)}]}})})}),C.jsx("div",{style:{overflowX:"scroll"},children:C.jsxs("table",{className:"table",children:[C.jsx("thead",{children:C.jsx("tr",{children:s.map((u,h)=>C.jsx("th",{children:u},h))})}),C.jsx("tbody",{children:i.map((u,h)=>C.jsx("tr",{children:s.map((d,f)=>C.jsx("td",{children:u[d]},f))},h))})]})})]})]})};function Q5(){return C.jsx(C.Fragment,{children:C.jsx(hC,{children:C.jsxs(sC,{children:[C.jsx(Mo,{path:"/",element:C.jsx(z5,{})}),C.jsx(Mo,{path:"/make-pool",element:C.jsx(B5,{})}),C.jsx(Mo,{path:"/pool-question/:qId",element:C.jsx(W5,{})}),C.jsx(Mo,{path:"/get-detail/:id",element:C.jsx(K5,{})})]})})})}Jd.createRoot(document.getElementById("root")).render(C.jsx(Q5,{}));
